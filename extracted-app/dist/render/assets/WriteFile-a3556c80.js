import{b as S,W as d,r as _,F as r}from"./useScriptEditor-4173e447.js";import{ah as g,am as y,aL as I}from"./main-8b08e1d6.js";import{_ as F}from"./ModalNode-47dd364b.js";import{d as P,i as C,b as T,m as h,S as m,U as k,D as t,Y as a,V as N,u as e,X as v,a2 as f,F as w}from"./_plugin-vue_export-helper-b059e461.js";import{_ as A}from"./FormItem-52ed65a1.js";import{_ as O}from"./Radio-c980589e.js";import{_ as U}from"./RadioGroup-69a7fbba.js";import{_ as x}from"./Input-96fa4693.js";import"./lodash-6114c6d4.js";import"./axios-1e30d922.js";import"./xlsx-f5126985.js";import"./ScriptEditor-c5673dff.js";import"./InputSearch.vue_vue_type_script_setup_true_lang-d786940a.js";import"./useMyApps-6a511b1e.js";import"./a-72358bba.js";import"./Divider-65f3d898.js";import"./Modal-0f4a5102.js";import"./DynamicInput-debc4a5e.js";import"./Remove-be3cc84a.js";import"./DataTable-e5054828.js";import"./Checkbox-ce86da58.js";import"./Suffix-fc59bb7a.js";import"./Select-f7c79767.js";import"./Pagination-ce77c3f3.js";import"./_baseUniq-35fed69a.js";import"./toInteger-0dcb6e10.js";import"./SelectProfiles.vue_vue_type_script_setup_true_lang-3d20c4d9.js";import"./FormMakingResult-fec35bca.js";import"./useSavedTasks-dbe97dc3.js";import"./useRunScript-b4e924db.js";import"./useConsole-dd6c2120.js";import"./Upload-46a3755a.js";import"./Progress-0b0a0198.js";import"./_createCompounder-4af3bdce.js";import"./Alert-2eccd136.js";import"./InputNumber-c85d5887.js";import"./Grid-308f499b.js";import"./DatePicker-91499e1f.js";import"./ModalConfirm-92ee844f.js";import"./useSelectProfiles-b9438807.js";import"./firefox-icon-2ab5a045.js";import"./CollapseItem-114ac5a0.js";import"./Scrollbar-e90e60b7.js";import"./Form-e484375f.js";import"./FormItemGridItem-951b0746.js";import"./vuedraggable.umd-e6c5d70a.js";import"./InputSearch-1469c448.js";import"./InputGroup-20db4544.js";const L={class:"flex flex-auto gap-x-2"},W={name:"WriteFile"},Oe=P({...W,setup(R){const{scriptId:D}=S(),{modalNode:o}=C(D),b=T(null),M=E=>{const s=E.target.files[0];s&&(o.options.filePath=s.path)};return h(()=>{o.options.fileFormat||(o.options={...o.options,fileFormat:null,writeMode:d.OVERWRITE,filePath:o.options.filePath||"",inputVariable:o.options.inputVariable||"",appendMode:o.options.appendMode||_.NEW_LINE,appendDelimiter:o.options.appendDelimiter||""})}),(E,l)=>{const s=y,n=A,p=O,u=I,c=U,V=x;return m(),k(w,null,[t(u,{vertical:""},{default:a(()=>[t(n,{"show-feedback":!1,label:"File path"},{default:a(()=>[N("div",L,[t(F,{modelValue:e(o).options.filePath,"onUpdate:modelValue":l[0]||(l[0]=i=>e(o).options.filePath=i),placeholder:""},null,8,["modelValue"]),t(s,{type:"primary",dashed:"",onClick:l[1]||(l[1]=i=>e(b).click())},{icon:a(()=>[t(g,{type:"selectFile"})]),_:1})])]),_:1}),t(n,{"show-feedback":!1,label:"Select input data from variable"},{default:a(()=>[t(F,{modelValue:e(o).options.inputVariable,"onUpdate:modelValue":l[2]||(l[2]=i=>e(o).options.inputVariable=i),placeholder:"Enter input data"},null,8,["modelValue"])]),_:1}),t(n,{"show-feedback":!1,label:"Selector type"},{default:a(()=>[t(c,{value:e(o).options.fileFormat,"onUpdate:value":l[3]||(l[3]=i=>e(o).options.fileFormat=i)},{default:a(()=>[t(u,null,{default:a(()=>[t(p,{label:"TXT",value:e(r).TXT},null,8,["value"]),t(p,{label:"CSV",value:e(r).CSV},null,8,["value"]),t(p,{label:"JSON",value:e(r).JSON},null,8,["value"])]),_:1})]),_:1},8,["value"])]),_:1}),e(o).options.fileFormat&&e(o).options.fileFormat===e(r).CSV?(m(),v(n,{key:0,"show-feedback":!1,label:"CSV delimiter"},{default:a(()=>[t(V,{value:e(o).options.csvDelimiter,"onUpdate:value":l[4]||(l[4]=i=>e(o).options.csvDelimiter=i),placeholder:"Default comma (,)"},null,8,["value"])]),_:1})):f("",!0),e(o).options.fileFormat?(m(),v(n,{key:1,"show-feedback":!1,label:"Selector write mode"},{default:a(()=>[t(c,{value:e(o).options.writeMode,"onUpdate:value":l[5]||(l[5]=i=>e(o).options.writeMode=i)},{default:a(()=>[t(u,null,{default:a(()=>[t(p,{label:"Overwrite",value:e(d).OVERWRITE},null,8,["value"]),t(p,{label:"Append",value:e(d).APPEND},null,8,["value"])]),_:1})]),_:1},8,["value"])]),_:1})):f("",!0),e(o).options.fileFormat===e(r).TXT&&e(o).options.writeMode===e(d).APPEND?(m(),k(w,{key:2},[t(n,{"show-feedback":!1,label:"Append mode"},{default:a(()=>[t(c,{value:e(o).options.appendMode,"onUpdate:value":l[6]||(l[6]=i=>e(o).options.appendMode=i)},{default:a(()=>[t(u,null,{default:a(()=>[t(p,{label:"New line",value:e(_).NEW_LINE},null,8,["value"]),t(p,{label:"Same line",value:e(_).SAME_LINE},null,8,["value"])]),_:1})]),_:1},8,["value"])]),_:1}),e(o).options.appendMode===e(_).SAME_LINE?(m(),v(n,{key:0,"show-feedback":!1,label:"Delimiter"},{default:a(()=>[t(V,{value:e(o).options.appendDelimiter,"onUpdate:value":l[7]||(l[7]=i=>e(o).options.appendDelimiter=i),placeholder:"Default comma (,)"},null,8,["value"])]),_:1})):f("",!0)],64)):f("",!0)]),_:1}),N("input",{ref_key:"file",ref:b,type:"file",style:{display:"none"},onChange:M},null,544)],64)}}});export{Oe as default};
