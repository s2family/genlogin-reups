import{M as c}from"./Modal-0f4a5102.js";import{bf as T,a2 as I,gc as C,gd as S}from"./main-8b08e1d6.js";import{d as H,b as L,c as M,S as m,X as i,Y as s,u as a,D as o}from"./_plugin-vue_export-helper-b059e461.js";import{_ as N}from"./Input-96fa4693.js";import{_ as O}from"./FormItem-52ed65a1.js";import{_ as k}from"./InputNumber-c85d5887.js";import{_ as E}from"./Select-f7c79767.js";import{_ as K}from"./DynamicInput-debc4a5e.js";import{_ as $}from"./Form-e484375f.js";import"./Divider-65f3d898.js";import"./lodash-6114c6d4.js";import"./axios-1e30d922.js";import"./xlsx-f5126985.js";import"./Suffix-fc59bb7a.js";import"./Remove-be3cc84a.js";import"./DataTable-e5054828.js";import"./Checkbox-ce86da58.js";import"./RadioGroup-69a7fbba.js";import"./Radio-c980589e.js";import"./Pagination-ce77c3f3.js";const oe=H({__name:"EditProxyModal",setup(B){const{showModal:p,getProxies:b,selectedProxy:e,getAllTags:P}=T(),g=[{label:"HTTP ",value:"HTTP"},{label:"SOCK",value:"SOCK"},{label:"HTTP SOCK",value:"HTTP_SOCK"}],{t:d}=I(),v=L(!1),_=M(()=>{var n;return!((n=e.value)!=null&&n.proxy_id)}),y=async()=>{try{if(v.value=!0,_.value){const n={name:e.value.extras.name,host:e.value.extras.host,port:e.value.extras.port,protocol:e.value.extras.protocol,username:e.value.extras.username,password:e.value.extras.password,tag_list:e.value.extras.tag_list};await C(e.value.id,n)}else{const n={name:e.value.extras.name,username:e.value.extras.username,password:e.value.extras.password,tag_list:e.value.extras.tag_list};await S(e.value.id,n)}window.$message.success(d("Page.Proxy.Modal.EditSuccess"))}catch{}finally{await b(),await P(),v.value=!1,p.editProxy=!1}p.editProxy=!1};return(n,t)=>{const u=N,r=O,x=k,U=E,f=K,w=$;return m(),i(c,{"is-show":a(p).editProxy,header:"Edit",icon:"edit","submit-label":"Save","action-submit":y,onClose:t[12]||(t[12]=l=>a(p).editProxy=!1)},{body:s(()=>[a(_)?(m(),i(w,{key:0},{default:s(()=>[o(r,{label:"Name"},{default:s(()=>[o(u,{value:a(e).extras.name,"onUpdate:value":t[0]||(t[0]=l=>a(e).extras.name=l),placeholder:"Input Name"},null,8,["value"])]),_:1}),o(r,{label:"Port"},{default:s(()=>[o(x,{value:a(e).extras.port,"onUpdate:value":t[1]||(t[1]=l=>a(e).extras.port=l),placeholder:"Input port"},null,8,["value"])]),_:1}),o(r,{label:"Host"},{default:s(()=>[o(u,{value:a(e).extras.host,"onUpdate:value":t[2]||(t[2]=l=>a(e).extras.host=l),placeholder:"Input Host"},null,8,["value"])]),_:1}),o(r,{label:"Port"},{default:s(()=>[o(x,{value:a(e).extras.port,"onUpdate:value":t[3]||(t[3]=l=>a(e).extras.port=l),placeholder:"Input port"},null,8,["value"])]),_:1}),o(r,{label:a(d)("Page.Proxy.Label.Protocol")},{default:s(()=>[o(U,{value:a(e).extras.protocol,"onUpdate:value":t[4]||(t[4]=l=>a(e).extras.protocol=l),options:g,size:"large"},null,8,["value"])]),_:1},8,["label"]),o(r,{label:"Username"},{default:s(()=>[o(u,{value:a(e).extras.username,"onUpdate:value":t[5]||(t[5]=l=>a(e).extras.username=l),placeholder:"Input Username"},null,8,["value"])]),_:1}),o(r,{label:"Password"},{default:s(()=>[o(u,{value:a(e).extras.password,"onUpdate:value":t[6]||(t[6]=l=>a(e).extras.password=l),type:"password","show-password-on":"mousedown",placeholder:"Input Password"},null,8,["value"])]),_:1}),o(r,{label:a(d)("Page.Proxy.Label.Tag")},{default:s(()=>[o(f,{value:a(e).extras.tag_list,"onUpdate:value":t[7]||(t[7]=l=>a(e).extras.tag_list=l)},null,8,["value"])]),_:1},8,["label"])]),_:1})):(m(),i(w,{key:1},{default:s(()=>[o(r,{label:"Name"},{default:s(()=>[o(u,{value:a(e).extras.name,"onUpdate:value":t[8]||(t[8]=l=>a(e).extras.name=l),placeholder:"Input Name"},null,8,["value"])]),_:1}),o(r,{label:"Username"},{default:s(()=>[o(u,{value:a(e).extras.username,"onUpdate:value":t[9]||(t[9]=l=>a(e).extras.username=l),placeholder:"Input Username"},null,8,["value"])]),_:1}),o(r,{label:"Password"},{default:s(()=>[o(u,{value:a(e).extras.password,"onUpdate:value":t[10]||(t[10]=l=>a(e).extras.password=l),type:"password","show-password-on":"mousedown",placeholder:"Input Password"},null,8,["value"])]),_:1}),o(r,{label:a(d)("Page.Proxy.Label.Tag")},{default:s(()=>[o(f,{value:a(e).extras.tag_list,"onUpdate:value":t[11]||(t[11]=l=>a(e).extras.tag_list=l)},null,8,["value"])]),_:1},8,["label"])]),_:1}))]),_:1},8,["is-show"])}}});export{oe as default};
