import{a2 as x,ah as U,am as P,aL as A,a7 as L,ai as E}from"./main-8b08e1d6.js";import m from"./ModalConfirm-92ee844f.js";import{_ as N}from"./DataTable.vue_vue_type_style_index_0_lang-cdaf49f4.js";import{a as z}from"./useRunScript-b4e924db.js";import{_ as I}from"./ExportRunDataModal.vue_vue_type_script_setup_true_lang-39850a89.js";import{d as K,b as V,f as Y,e as q,S as b,U as X,u as e,X as j,Y as l,D as t,E as u,$ as p,a2 as F,q as G}from"./_plugin-vue_export-helper-b059e461.js";import"./lodash-6114c6d4.js";import"./axios-1e30d922.js";import"./xlsx-f5126985.js";import"./Divider-65f3d898.js";import"./DataTable-e5054828.js";import"./Checkbox-ce86da58.js";import"./RadioGroup-69a7fbba.js";import"./Radio-c980589e.js";import"./Suffix-fc59bb7a.js";import"./Select-f7c79767.js";import"./Pagination-ce77c3f3.js";import"./Input-96fa4693.js";import"./a-72358bba.js";import"./FormItem-52ed65a1.js";const fe=K({__name:"RunTable",setup(H){const{setTitle:f}=E(),{t:a}=x(),{state:n,columns:w,taskRuns:h,selectedTaskRun:g,selectedTaskRuns:i,loading:k,pagination:C,rowProps:R,getTaskRuns:d,handleDeleteRun:D,handleDeleteMultiRuns:y,onPageUpdate:M,onPageSizeUpdate:v,onSortChange:T,stopTaskRun:S}=z(),c=V(null);return Y(async()=>{f("Runs"),await d(),c.value=setInterval(()=>{d()},5e3)}),q(()=>{clearInterval(c.value)}),(J,o)=>{var _;const B=P,$=A,r=L;return b(),X("div",null,[e(i).length?(b(),j($,{key:0},{default:l(()=>[t(B,{ghost:"",type:"error",onClick:o[0]||(o[0]=s=>e(n).showDeleteMultiModal=!0)},{icon:l(()=>[t(U,{type:"trash"})]),default:l(()=>[u(" "+p(e(a)("Common.Button.Delete")),1)]),_:1})]),_:1})):F("",!0),t(e(N),{"checked-row-keys":e(i),"onUpdate:checkedRowKeys":o[1]||(o[1]=s=>G(i)?i.value=s:null),class:"mt-2",loading:e(k),data:e(h),columns:e(w),pagination:e(C),"row-key":s=>s.id,"row-props":e(R),"on-page-update":e(M),"on-page-size-update":e(v),onUpdateSorter:e(T)},null,8,["checked-row-keys","loading","data","columns","pagination","row-key","row-props","on-page-update","on-page-size-update","onUpdateSorter"]),t(m,{type:"delete",icon:"trash",header:e(a)("Page.AutomationRuns.Label.DeleteRunConfirm"),"is-show":e(n).showDeleteModal,"cancel-label":e(a)("Common.Button.Keep"),"submit-label":e(a)("Common.Button.Delete"),"action-submit":e(D),onClose:o[2]||(o[2]=s=>e(n).showDeleteModal=!1)},{body:l(()=>[t(r,null,{default:l(()=>[u(p(e(a)("Page.AutomationRuns.Label.ConfirmDeleteRun")),1)]),_:1})]),_:1},8,["header","is-show","cancel-label","submit-label","action-submit"]),t(m,{type:"delete",icon:"trash",header:e(a)("Page.AutomationRuns.Label.DeleteRunConfirm"),"is-show":e(n).showDeleteMultiModal,"cancel-label":e(a)("Common.Button.Keep"),"submit-label":e(a)("Common.Button.Delete"),"action-submit":e(y),onClose:o[3]||(o[3]=s=>e(n).showDeleteMultiModal=!1)},{body:l(()=>[t(r,null,{default:l(()=>[u(p(e(a)("Common.Label.ConfirmCheck")),1)]),_:1})]),_:1},8,["header","is-show","cancel-label","submit-label","action-submit"]),t(m,{icon:"stop",header:"Stop selected run?","is-show":e(n).stopTaskRunModal,"cancel-label":"No, keep it","submit-label":"Yes, stop","action-submit":e(S),onClose:o[4]||(o[4]=s=>e(n).stopTaskRunModal=!1)},{body:l(()=>[t(r,null,{default:l(()=>[u("Are you sure?")]),_:1})]),_:1},8,["is-show","action-submit"]),t(I,{"model-show":e(n).showExportDataModal,"onUpdate:modelShow":o[5]||(o[5]=s=>e(n).showExportDataModal=s),"run-id":(_=e(g))==null?void 0:_.id},null,8,["model-show","run-id"])])}}});export{fe as default};
