import{ah as C,gl as k,am as x,aL as N}from"./main-8b08e1d6.js";import{_ as S}from"./ModalNode-47dd364b.js";import{b as I,a as $}from"./useScriptEditor-4173e447.js";import{d as B,i as E,b as D,m as O,S as c,X as _,Y as e,D as r,u as o,E as u,$ as d,a2 as U,V as j,a1 as q}from"./_plugin-vue_export-helper-b059e461.js";import{_ as L}from"./FormItem-52ed65a1.js";import{_ as M}from"./Select-f7c79767.js";import"./lodash-6114c6d4.js";import"./axios-1e30d922.js";import"./xlsx-f5126985.js";import"./ScriptEditor-c5673dff.js";import"./InputSearch.vue_vue_type_script_setup_true_lang-d786940a.js";import"./Input-96fa4693.js";import"./Suffix-fc59bb7a.js";import"./useMyApps-6a511b1e.js";import"./a-72358bba.js";import"./Divider-65f3d898.js";import"./Modal-0f4a5102.js";import"./DynamicInput-debc4a5e.js";import"./Remove-be3cc84a.js";import"./DataTable-e5054828.js";import"./Checkbox-ce86da58.js";import"./RadioGroup-69a7fbba.js";import"./Radio-c980589e.js";import"./Pagination-ce77c3f3.js";import"./_baseUniq-35fed69a.js";import"./toInteger-0dcb6e10.js";import"./SelectProfiles.vue_vue_type_script_setup_true_lang-3d20c4d9.js";import"./FormMakingResult-fec35bca.js";import"./useSavedTasks-dbe97dc3.js";import"./useRunScript-b4e924db.js";import"./useConsole-dd6c2120.js";import"./Upload-46a3755a.js";import"./Progress-0b0a0198.js";import"./_createCompounder-4af3bdce.js";import"./Alert-2eccd136.js";import"./InputNumber-c85d5887.js";import"./Grid-308f499b.js";import"./DatePicker-91499e1f.js";import"./ModalConfirm-92ee844f.js";import"./useSelectProfiles-b9438807.js";import"./firefox-icon-2ab5a045.js";import"./CollapseItem-114ac5a0.js";import"./Scrollbar-e90e60b7.js";import"./Form-e484375f.js";import"./FormItemGridItem-951b0746.js";import"./vuedraggable.umd-e6c5d70a.js";import"./InputSearch-1469c448.js";import"./InputGroup-20db4544.js";const R={class:"twoFA-output"},X=B({__name:"TwoFA",setup(Y){const{scriptId:f}=I(),{editor:b,variables:w,modalNode:t}=E(f),{newVariable:n,createNewVariable:V,onSearchVariable:v,variableOptions:A,prepareAutomation:F}=$(b.value,w.value),T=()=>{const a=V();t.options.outputVariable=a},i=D(""),y=async()=>{try{const a=await F();a.testId=t.node.id,i.value=await(await k(a)).data}catch{i.value="Cannot get 2FA"}};return O(()=>{t.options.secretTwoFA=t.options.secretTwoFA||"",t.options.outputVariable=t.options.outputVariable||null}),(a,p)=>{const m=L,l=x,g=M,h=N;return c(),_(h,{vertical:""},{default:e(()=>[r(m,{label:"Secret","show-feedback":!1},{default:e(()=>[r(S,{modelValue:o(t).options.secretTwoFA,"onUpdate:modelValue":p[0]||(p[0]=s=>o(t).options.secretTwoFA=s),placeholder:"Two FA secret"},null,8,["modelValue"])]),_:1}),r(m,{"show-feedback":!1,label:"Output variable"},{default:e(()=>[r(g,{value:o(t).options.outputVariable,"onUpdate:value":p[1]||(p[1]=s=>o(t).options.outputVariable=s),options:o(A),clearable:"",filterable:"","on-search":o(v)},{empty:e(()=>[o(n).length?(c(),_(l,{key:0,dashed:"",onClick:T},{icon:e(()=>[r(C,{type:"add"})]),default:e(()=>[u(" Create "+d(o(n)),1)]),_:1})):U("",!0)]),_:1},8,["value","options","on-search"])]),_:1}),r(l,{type:"primary",onClick:y},{default:e(()=>[u(" Test ")]),_:1}),j("pre",R,d(o(i)),1)]),_:1})}}});const qt=q(X,[["__scopeId","data-v-7c23933e"]]);export{qt as default};
