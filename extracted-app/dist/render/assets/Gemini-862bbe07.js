import{b as N,a as P}from"./useScriptEditor-4173e447.js";import{ah as h,am as U,aL as $}from"./main-8b08e1d6.js";import{_ as d}from"./ModalNode-47dd364b.js";import{d as S,i as K,b as T,m as B,S as _,X as f,Y as i,D as n,u as t,E as c,a2 as V,V as y,$ as A}from"./_plugin-vue_export-helper-b059e461.js";import{_ as D}from"./FormItem-52ed65a1.js";import{_ as L}from"./Radio-c980589e.js";import{_ as j}from"./RadioGroup-69a7fbba.js";import{_ as X}from"./Select-f7c79767.js";import{_ as Y}from"./Input-96fa4693.js";import"./lodash-6114c6d4.js";import"./axios-1e30d922.js";import"./xlsx-f5126985.js";import"./ScriptEditor-c5673dff.js";import"./InputSearch.vue_vue_type_script_setup_true_lang-d786940a.js";import"./useMyApps-6a511b1e.js";import"./a-72358bba.js";import"./Divider-65f3d898.js";import"./Modal-0f4a5102.js";import"./DynamicInput-debc4a5e.js";import"./Remove-be3cc84a.js";import"./DataTable-e5054828.js";import"./Checkbox-ce86da58.js";import"./Suffix-fc59bb7a.js";import"./Pagination-ce77c3f3.js";import"./_baseUniq-35fed69a.js";import"./toInteger-0dcb6e10.js";import"./SelectProfiles.vue_vue_type_script_setup_true_lang-3d20c4d9.js";import"./FormMakingResult-fec35bca.js";import"./useSavedTasks-dbe97dc3.js";import"./useRunScript-b4e924db.js";import"./useConsole-dd6c2120.js";import"./Upload-46a3755a.js";import"./Progress-0b0a0198.js";import"./_createCompounder-4af3bdce.js";import"./Alert-2eccd136.js";import"./InputNumber-c85d5887.js";import"./Grid-308f499b.js";import"./DatePicker-91499e1f.js";import"./ModalConfirm-92ee844f.js";import"./useSelectProfiles-b9438807.js";import"./firefox-icon-2ab5a045.js";import"./CollapseItem-114ac5a0.js";import"./Scrollbar-e90e60b7.js";import"./Form-e484375f.js";import"./FormItemGridItem-951b0746.js";import"./vuedraggable.umd-e6c5d70a.js";import"./InputSearch-1469c448.js";import"./InputGroup-20db4544.js";const q={class:"flex flex-auto gap-x-2"},z={name:"OpenAi"},je=S({...z,setup(H){const{scriptId:x}=N(),{editor:k,variables:C,modalNode:e}=K(x),b=T(null),w=p=>{const l=p.target.files[0];l&&(e.options.filePath=l.path)},{newVariable:g,createNewVariable:M,onSearchVariable:O,variableOptions:E}=P(k.value,C.value),F=()=>{const p=M();e.options.outputVariable=p},G=[{label:"Gemini 2.0 Flash",value:"gemini-2.0-flash"},{label:"Gemini 2.0 Flash-Lite Preview",value:"gemini-2.0-flash-lite-preview-02-05"},{label:"Gemini 1.5 Flash-8B",value:"gemini-1.5-flash-8b"},{label:"Gemini 1.5 Flash",value:"gemini-1.5-flash"},{label:"Gemini 1.5 Pro",value:"gemini-1.5-pro"},{label:"Text Embedding",value:"text-embedding-004"},{label:"Gemini 2.0 Flash Exp Image Generation",value:"gemini-2.0-flash-exp-image-generation"},{label:"Custom",value:"custom"}];return B(()=>{var p,o,l,s,r,m,u;e.options.apiKey=((p=e.options)==null?void 0:p.apiKey)||"",e.options.outputType=((o=e.options)==null?void 0:o.outputType)||"text",e.options.geminiModel=((l=e.options)==null?void 0:l.geminiModel)||"gemini-2.0-flash",e.options.geminiOutputContent=((s=e.options)==null?void 0:s.geminiOutputContent)||"text",e.options.customModel=((r=e.options)==null?void 0:r.customModel)||"",e.options.content=((m=e.options)==null?void 0:m.content)||"",e.options.outputVariable=((u=e.options)==null?void 0:u.outputVariable)||null}),(p,o)=>{const l=D,s=L,r=j,m=X,u=Y,v=U,I=$;return _(),f(I,{vertical:""},{default:i(()=>[n(l,{"show-feedback":!1,label:"API key"},{default:i(()=>[n(d,{modelValue:t(e).options.apiKey,"onUpdate:modelValue":o[0]||(o[0]=a=>t(e).options.apiKey=a),placeholder:"Enter API Key"},null,8,["modelValue"])]),_:1}),n(l,{"show-feedback":!1,label:"Output content"},{default:i(()=>[n(r,{value:t(e).options.geminiOutputContent,"onUpdate:value":o[1]||(o[1]=a=>t(e).options.geminiOutputContent=a)},{default:i(()=>[n(s,{value:"text"},{default:i(()=>[c(" Text ")]),_:1}),n(s,{value:"image"},{default:i(()=>[c(" Image ")]),_:1})]),_:1},8,["value"])]),_:1}),n(l,{"show-feedback":!1,label:"Model"},{default:i(()=>[n(m,{value:t(e).options.geminiModel,"onUpdate:value":o[2]||(o[2]=a=>t(e).options.geminiModel=a),options:G,placeholder:""},null,8,["value"])]),_:1}),t(e).options.geminiModel==="custom"?(_(),f(l,{key:0,"show-feedback":!1,label:"Custom model"},{default:i(()=>[n(u,{value:t(e).options.customModel,"onUpdate:value":o[3]||(o[3]=a=>t(e).options.customModel=a),placeholder:"gemini-2.0-flash"},null,8,["value"])]),_:1})):V("",!0),n(l,{"show-feedback":!1,label:"Content"},{default:i(()=>[n(d,{modelValue:t(e).options.content,"onUpdate:modelValue":o[4]||(o[4]=a=>t(e).options.content=a),type:"textarea",placeholder:"Enter content"},null,8,["modelValue"])]),_:1}),n(l,{"show-feedback":!1,label:"Image path (Optional)"},{default:i(()=>[y("div",q,[n(d,{modelValue:t(e).options.filePath,"onUpdate:modelValue":o[5]||(o[5]=a=>t(e).options.filePath=a),placeholder:""},null,8,["modelValue"]),n(v,{type:"primary",dashed:"",onClick:o[6]||(o[6]=a=>t(b).click())},{icon:i(()=>[n(h,{type:"selectFile"})]),_:1})])]),_:1}),n(l,{"show-feedback":!1,label:"Output variable"},{default:i(()=>[n(m,{value:t(e).options.outputVariable,"onUpdate:value":o[7]||(o[7]=a=>t(e).options.outputVariable=a),options:t(E),clearable:"",filterable:"","on-search":t(O)},{empty:i(()=>[t(g).length?(_(),f(v,{key:0,dashed:"",onClick:F},{icon:i(()=>[n(h,{type:"add"})]),default:i(()=>[c(" Create "+A(t(g)),1)]),_:1})):V("",!0)]),_:1},8,["value","options","on-search"])]),_:1}),y("input",{ref_key:"file",ref:b,type:"file",style:{display:"none"},onChange:w},null,544)]),_:1})}}});export{je as default};
