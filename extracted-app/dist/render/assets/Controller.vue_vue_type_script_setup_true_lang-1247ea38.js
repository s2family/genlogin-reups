import{ef as N,a4 as A,a3 as W,dF as V,eg as le,G as ce,I as ie,bd as q,ca as X,x as G,am as T,ah as x,eh as re,a2 as Y,bu as Q,aL as Z,a7 as ue,a6 as pe,a0 as _e,a1 as de,a8 as fe}from"./main-8b08e1d6.js";import{b as j,c as me,r as ye,h as D,t as J,d as F,S as g,U as S,V as a,$ as u,u as e,D as t,Y as n,X as L,E as c,a2 as ee,F as U,ad as ge,a1 as xe,q as ve,m as he}from"./_plugin-vue_export-helper-b059e461.js";import{_ as te}from"./InputNumber-c85d5887.js";import{_ as ne}from"./FormItem-52ed65a1.js";import{_ as se}from"./Checkbox-ce86da58.js";import{_ as ae}from"./Form-e484375f.js";import{_ as oe}from"./Input-96fa4693.js";import{_ as we}from"./InputGroup-20db4544.js";import{_ as be}from"./Radio-c980589e.js";import{_ as Ce}from"./RadioGroup-69a7fbba.js";import{_ as Se}from"./a-72358bba.js";async function ke(p){return N.send(A.FOCUS_PROFILE,p)}async function Te(p,s){return N.send(A.ARRANGE_PROFILES,{ids:W(p),config:W(s)})}async function Ae(p,s){return N.send(A.START_SYNC_ACTIONS,{ids:W(p),config:W(s)})}async function Pe(p){return N.send(A.GET_SYNC_ACTIONS_STATE,p)}async function $e(){return N.send(A.STOP_SYNC_ACTIONS)}async function Le(p){return N.send(A.TOGGLE_CONSOLE,p)}async function Ne(){return V.post("/app/sync-actions/clear-text")}async function Oe(p){return V.post("/app/sync-actions/input-text",p)}async function Ie(p){return V.post("/app/sync-actions/input-custom-text",p)}async function Re(){return V.post("/app/sync-actions/paste-text")}const De=le("createProfile",{state:()=>({selectedRowKeys:[]}),share:{enable:!0}}),B=j([]),H=()=>{const{route:p}=ce(),{selectedRowKeys:s}=ie(De()),o=j(!1),r=q("sync-actions-state",{loading:!1,arrange:{collapse:!0,auto:!0,width:500,height:300,perRow:2}}),v=me(()=>p.name!=="main.synchronizerConsole"),i=ye({running:!1,selected:0,popupConsole:!1}),m=q("sync-actions-type-text-state",{text:"",typeDelay:!1,minDelay:100,maxDelay:500,listText:[{id:X(5),typingType:"inOrder",text:""}]}),h=()=>{m.value.listText.push({id:X(5),typingType:"inOrder",text:""})},b=l=>{const _=m.value.listText.findIndex(d=>d.id===l.id);m.value.listText.splice(_,1)},C=[{type:"selection",width:"5%"},{title:"#",width:"5%",key:"key",render:(l,_)=>`${_+1}`},{title:"Index number",width:"7%",key:"key",render:l=>l.index},{width:"40%",title:"Name",key:"name",sorter:(l,_)=>l.name.localeCompare(_.name),render(l){const{name:_}=l;return D("span",_)}},{title:"Version",key:"browser_version"},{title:"Actions",key:"actions",render(l){return D("div",{class:"flex items-center justify-center"},[D(G,{},{trigger:()=>D(T,{type:"primary",quaternary:!0,class:"px-4px",onClick:()=>ke(l.id)},{default:()=>D(x,{size:"20",type:"desktop",class:"cursor-pointer"})}),default:()=>"Display window"})])}}],y=l=>({style:{cursor:"pointer"},onClick:()=>{const _=l.id;s.value.indexOf(_)===-1?s.value=[...s.value,_]:s.value=s.value.filter($=>$!==_)}}),w=async(l=!1)=>{const{data:_}=await Pe(l?{ids:J(s.value),config:J(r.value)}:void 0);i.running=_.running,i.selected=_.selected};return{started:o,state:r,syncActionState:i,inputTextState:m,selectedRowKeys:s,profiles:B,columns:C,rowProps:y,isMainWindow:v,getProfiles:async()=>{try{r.value.loading=!0;const l=await re(),{success:_,data:d}=l.data;_&&(B.value=d.filter($=>parseInt($.browser_version)>=117))}catch{B.value=[]}finally{r.value.loading=!1,B.value.length||(o.value=!1),await w()}},handleArrangeProfiles:async()=>{try{if(!s.value.length){window.$message.warning("Please select profiles!");return}r.value.loading=!0,await Te(s.value,r.value)}catch{}finally{r.value.loading=!1}},handleStartSyncActions:async()=>{try{if(!s.value.length){window.$message.warning("Please select profiles!");return}r.value.loading=!0,await Ae(s.value,r.value),o.value=!0,window.$message.success("Sync actions started!")}catch{}finally{r.value.loading=!1,await w()}},handleStopSyncActions:async()=>{try{r.value.loading=!0,await $e(),o.value=!1,window.$message.success("Sync actions stopped!")}catch{}finally{r.value.loading=!1,await w()}},handleInputText:async()=>{try{await Oe(m.value)}catch{}},handleInputCustomText:async l=>{try{await Ie({config:m.value,customText:l})}catch{}},handleClearText:async()=>{try{await Ne()}catch{}},handlePasteText:async()=>{try{await Re()}catch{}},addNewListText:h,removeListText:b,getSyncActionsState:w,handlePopupConsole:async()=>{try{await Le(!i.popupConsole),i.popupConsole=!i.popupConsole}catch{}}}},Ue={class:"mt-24px"},Ee={class:"font-semibold text-lg"},ze={class:"flex items-center justify-between"},Be={class:"flex items-center gap-8px font-semibold"},We=F({__name:"Window",setup(p){const{t:s}=Y(),{state:o,handleArrangeProfiles:r}=H();return(v,i)=>{const m=Q,h=te,b=ne,C=se,y=Z,w=ae,O=T;return g(),S("div",Ue,[a("div",Ee,u(e(s)("Page.SyncActions.Label.WindowLayout")),1),t(w,{class:"mt-16px"},{default:n(()=>[a("div",ze,[a("div",null,u(e(s)("Page.SyncActions.Label.AutoLayout")),1),t(m,{value:e(o).arrange.auto,"onUpdate:value":i[0]||(i[0]=f=>e(o).arrange.auto=f)},null,8,["value"])]),e(o).arrange.auto?ee("",!0):(g(),L(w,{key:0,class:"mt-5","label-placement":"left","label-width":"auto"},{default:n(()=>[t(y,{vertical:""},{default:n(()=>[t(b,{"label-placement":"left","show-feedback":!1,label:e(s)("Page.SyncActions.Label.Width")},{default:n(()=>[t(h,{value:e(o).arrange.width,"onUpdate:value":i[1]||(i[1]=f=>e(o).arrange.width=f),class:"w-50"},null,8,["value"])]),_:1},8,["label"]),t(b,{"label-placement":"left","show-feedback":!1,label:e(s)("Page.SyncActions.Label.Height")},{default:n(()=>[t(h,{value:e(o).arrange.height,"onUpdate:value":i[2]||(i[2]=f=>e(o).arrange.height=f),class:"w-50"},null,8,["value"])]),_:1},8,["label"]),t(b,{"label-placement":"left","show-feedback":!1,label:e(s)("Page.SyncActions.Label.PerRow")},{default:n(()=>[t(h,{value:e(o).arrange.perRow,"onUpdate:value":i[3]||(i[3]=f=>e(o).arrange.perRow=f),class:"w-50"},{suffix:n(()=>[c(" / "+u(e(s)("Page.SyncActions.Label.Row")),1)]),_:1},8,["value"])]),_:1},8,["label"]),t(C,{checked:e(o).arrange.collapse,"onUpdate:checked":i[4]||(i[4]=f=>e(o).arrange.collapse=f)},{default:n(()=>[c(u(e(s)("Page.SyncActions.Label.CollapseMode")),1)]),_:1},8,["checked"])]),_:1})]),_:1})),t(O,{size:"large",class:"w-full mt-32px",ghost:"",type:"primary",onClick:e(r)},{default:n(()=>[a("div",Be,[t(x,{type:"tabNew"}),c(" "+u(e(s)("Page.SyncActions.Button.TileWindow")),1)])]),_:1},8,["onClick"])]),_:1})])}}}),Ve={class:"flex items-center gap-8px mt-16px"},je={class:"w-full"},Fe={class:"w-full"},Me={class:"flex items-center gap-8px"},Ge={key:0,class:"flex gap-5"},Ye={class:"flex items-center justify-between"},He={class:"flex items-center justify-between"},Ke={class:"flex items-center gap-8px"},qe={class:"flex justify-end"},Xe=F({__name:"Text",setup(p){const{t:s}=Y(),{inputTextState:o,handleInputText:r,handleInputCustomText:v,handleClearText:i,handlePasteText:m,addNewListText:h,removeListText:b}=H();return(C,y)=>{const w=T,O=se,f=te,k=ne,P=ue,I=oe,E=we,z=Z,M=be,K=Ce,l=Se,_=ae;return g(),S(U,null,[a("div",Ve,[a("div",je,[t(w,{class:"w-full",type:"primary",size:"large",ghost:"",onClick:e(i)},{icon:n(()=>[t(x,{type:"clean"})]),default:n(()=>[c(" "+u(e(s)("Page.SyncActions.Button.ClearText")),1)]),_:1},8,["onClick"])]),a("div",Fe,[t(w,{class:"w-full",type:"primary",size:"large",ghost:"",onClick:e(m)},{default:n(()=>[a("div",Me,[t(x,{type:"copyOutline"}),c(" "+u(e(s)("Page.SyncActions.Button.PasteText")),1)])]),_:1},8,["onClick"])])]),t(_,{class:"mt-24px"},{default:n(()=>[t(z,{vertical:""},{default:n(()=>[t(O,{checked:e(o).typeDelay,"onUpdate:checked":y[0]||(y[0]=d=>e(o).typeDelay=d)},{default:n(()=>[c(u(e(s)("Page.SyncActions.Label.TypingDelay")),1)]),_:1},8,["checked"]),e(o).typeDelay?(g(),S("div",Ge,[t(k,{label:"Min (milliseconds)","show-feedback":!1},{default:n(()=>[t(f,{value:e(o).minDelay,"onUpdate:value":y[1]||(y[1]=d=>e(o).minDelay=d),step:100,min:100},null,8,["value"])]),_:1}),t(k,{label:"Max (milliseconds)","show-feedback":!1},{default:n(()=>[t(f,{value:e(o).maxDelay,"onUpdate:value":y[2]||(y[2]=d=>e(o).maxDelay=d),step:100,min:100},null,8,["value"])]),_:1})])):ee("",!0),t(k,null,{label:n(()=>[a("div",Ye,[a("div",null,[t(P,null,{default:n(()=>[c(u(e(s)("Page.SyncActions.Label.IdenticalText")),1)]),_:1})])])]),default:n(()=>[t(E,null,{default:n(()=>[t(I,{value:e(o).text,"onUpdate:value":y[3]||(y[3]=d=>e(o).text=d),placeholder:"Please enter"},null,8,["value"]),t(w,{type:"primary",onClick:e(r)},{default:n(()=>[c(u(e(s)("Page.SyncActions.Button.TypeAsHuman")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),a("div",null,u(e(s)("Page.SyncActions.Label.DesignatedText")),1),(g(!0),S(U,null,ge(e(o).listText,(d,$)=>(g(),S("div",{key:$,class:"w-full mt-8px"},[a("div",He,[a("div",Ke,[c(u(e(s)("Page.SyncActions.Label.Text"))+" "+u($+1)+" ",1),t(x,{class:"cursor-pointer",type:"deleteCircle",color:"#8C8C8C",onClick:R=>e(b)(d)},null,8,["onClick"])]),t(K,{value:d.typingType,"onUpdate:value":R=>d.typingType=R},{default:n(()=>[t(M,{value:"inOrder"},{default:n(()=>[c(u(e(s)("Page.SyncActions.Label.EnterInOrder")),1)]),_:1}),t(M,{value:"random"},{default:n(()=>[c(u(e(s)("Page.SyncActions.Label.EnterRandomly")),1)]),_:1})]),_:2},1032,["value","onUpdate:value"])]),t(I,{value:d.text,"onUpdate:value":R=>d.text=R,class:"mt-8px",type:"textarea"},null,8,["value","onUpdate:value"]),a("div",qe,[t(l,{onClick:R=>e(v)(d)},{default:n(()=>[c(u(e(s)("Page.SyncActions.Button.TypeAsHuman")),1)]),_:2},1032,["onClick"])])]))),128)),t(l,{class:"flex items-center gap-8px mt-16px",onClick:e(h)},{default:n(()=>[t(x,{type:"add"}),c(" "+u(e(s)("Page.SyncActions.Button.AddNewText")),1)]),_:1},8,["onClick"])]),_:1})],64)}}});const Je=xe(Xe,[["__scopeId","data-v-01854e2b"]]),Qe={class:"flex items-center gap-8px mt-16px"},Ze={class:"w-full"},et={class:"flex items-center gap-8px"},tt={class:"w-full"},nt={class:"flex items-center gap-8px"},st={class:"flex items-center gap-8px mt-16px"},at={class:"w-full"},ot={class:"flex items-center gap-8px"},lt={class:"w-full"},ct={class:"flex items-center gap-8px"},it=a("div",{class:"font-semibold text-lg mb-8px mt-16px"}," Visit website ",-1),rt={class:"mt-16px flex item-center justify-between"},ut={class:"flex items-center gap-8px font-semibold"},pt=F({__name:"Tabs",setup(p){const s=j(!0);return(o,r)=>{const v=T,i=G,m=oe,h=Q,b=T;return g(),S(U,null,[a("div",Qe,[t(i,{trigger:"hover"},{trigger:n(()=>[a("div",Ze,[t(v,{ghost:"",size:"large",class:"w-full",type:"primary"},{default:n(()=>[a("div",et,[t(x,{type:"list"}),c(" Same tabs ")])]),_:1})])]),default:n(()=>[c(" Open the main profile tabs in other windows ")]),_:1}),t(i,{trigger:"hover"},{trigger:n(()=>[a("div",tt,[t(v,{size:"large",ghost:"",class:"w-full",type:"primary"},{default:n(()=>[a("div",nt,[t(x,{type:"deleteCircle"}),c(" Close other tabs ")])]),_:1})])]),default:n(()=>[c(" Close all but the current tab from other tabs ")]),_:1})]),a("div",st,[t(i,{trigger:"hover"},{trigger:n(()=>[a("div",at,[t(v,{ghost:"",size:"large",class:"w-full",type:"primary"},{default:n(()=>[a("div",ot,[t(x,{type:"close"}),c(" Close current tabs ")])]),_:1})])]),default:n(()=>[c(" Close the current tab in this windows ")]),_:1}),t(i,{trigger:"hover"},{trigger:n(()=>[a("div",lt,[t(v,{size:"large",ghost:"",class:"w-full",type:"primary"},{default:n(()=>[a("div",ct,[t(x,{type:"tabOff"}),c(" Close blank tabs ")])]),_:1})])]),default:n(()=>[c(" Close all blank tabs in this window ")]),_:1})]),it,t(m,{type:"textarea",placeholder:`Please enter URLs, separated by lines. E.g:\r
www.google.com\r
www.facebook.com`}),a("div",rt,[c(" Open link in current tab "),t(h,{value:e(s),"onUpdate:value":r[0]||(r[0]=C=>ve(s)?s.value=C:null)},null,8,["value"])]),t(b,{size:"large",class:"w-full mt-32px",ghost:"",type:"primary"},{default:n(()=>[a("div",ut,[t(x,{size:"16",type:"click"}),c(" Open ")])]),_:1})],64)}}}),_t={class:"flex items-center justify-between"},dt={class:"font-black text-xl"},ft={class:"flex items-center gap-8px font-semibold"},mt={class:"flex items-center gap-8px font-semibold"},At=F({__name:"Controller",setup(p){const{t:s}=Y(),{selectedRowKeys:o,syncActionState:r,isMainWindow:v,handleStartSyncActions:i,handleStopSyncActions:m,handlePopupConsole:h,getSyncActionsState:b}=H(),C=pe(),y=j(null);return C.on(A.ON_CONSOLE_WINDOW_CLOSED,()=>{r.popupConsole=!1}),he(()=>{v&&(y.value=setInterval(async()=>{await b()},100))}),(w,O)=>{const f=T,k=G,P=_e,I=de,E=T,z=fe;return g(),L(z,{class:"w-full mt-16px"},{default:n(()=>[e(r).popupConsole?(g(),L(E,{key:1,onClick:e(h)},{default:n(()=>[c(" Restore ")]),_:1},8,["onClick"])):(g(),S(U,{key:0},[a("div",_t,[a("div",dt,u(e(s)("Page.SyncActions.Label.Console")),1),e(v)?(g(),L(x,{key:0,class:"cursor-pointer",type:"external",size:"20",color:"#8C8C8C",onClick:e(h)},null,8,["onClick"])):(g(),S(U,{key:1},[e(r).running?(g(),L(k,{key:1,trigger:"hover"},{trigger:n(()=>[t(f,{size:"medium",ghost:"",type:"error",onClick:e(m)},{default:n(()=>[a("div",mt,[t(x,{type:"stop"}),c(" "+u(e(s)("Common.Button.Stop")),1)])]),_:1},8,["onClick"])]),default:n(()=>[c(" "+u(e(o).length<2?"Select above 2 profiles to restart":"Stop"),1)]),_:1})):(g(),L(k,{key:0,trigger:"hover"},{trigger:n(()=>[t(f,{size:"medium",disabled:e(r).selected<2,type:"primary",onClick:e(i)},{default:n(()=>[a("div",ft,[t(x,{type:"sync"}),c(" "+u(e(s)("Common.Button.Start")),1)])]),_:1},8,["disabled","onClick"])]),default:n(()=>[c(" "+u(e(r).selected<2?"  Select above 2 profiles to sync action ":"Start"),1)]),_:1}))],64))]),t(I,{class:"mt-8px","default-value":"window",type:"line",animated:""},{default:n(()=>[t(P,{name:"window",tab:e(s)("Page.SyncActions.Label.Windows")},{default:n(()=>[t(We)]),_:1},8,["tab"]),t(P,{name:"text",tab:e(s)("Page.SyncActions.Label.Text")},{default:n(()=>[t(Je)]),_:1},8,["tab"]),t(P,{name:"tab",tab:"Tabs",disabled:""},{default:n(()=>[t(pt)]),_:1})]),_:1})],64))]),_:1})}}});export{At as _,H as u};
