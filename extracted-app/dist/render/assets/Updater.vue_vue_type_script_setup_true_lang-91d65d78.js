import{ad as h,I as k,ah as m,a4 as w,aM as T,aN as E,aO as P,a6 as A,aP as N,a7 as U}from"./main-8b08e1d6.js";import{d as f,S as o,U as _,u as t,X as l,a as g,n as v,m as x,F as S,E as s,D as i,Y as r,$ as u,a2 as O}from"./_plugin-vue_export-helper-b059e461.js";import{_ as b}from"./Progress-0b0a0198.js";const C={name:"DarkModeSwitch"},M=f({...C,setup(y){const e=h(),{isDarkMode:p}=k(e),d=()=>e.setTheme(!p.value);return(n,c)=>(o(),_("div",{class:"flex-center text-18px hover:text-primary cursor-pointer switch-button",onClick:d},[t(p)?(o(),l(m,{key:0,type:"sun",color:"#fff"})):(o(),l(m,{key:1,type:"moon"}))]))}}),V={class:"w-100"},$=f({__name:"Updater",setup(y){const e=g({updateState:"NO_UPDATE",version:"",percent:0,bytesPerSecond:0}),p=A(),d=async()=>{e.updateState="UPDATING",await N()};return p.on(w.UPDATE_SOFTWARE_PROGRESS,n=>{const{percent:c,bytesPerSecond:a}=n;e.percent=c,e.bytesPerSecond=a,e.percent>=100&&v(()=>e.updateState="DOWNLOADED")}),x(async()=>{{const n=await T(),{status:c,version:a}=n.data;e.updateState=c?"HAS_UPDATE":"NO_UPDATE",e.version=a}}),(n,c)=>{const a=U,D=b;return o(),_("div",V,[t(e).updateState==="HAS_UPDATE"?(o(),_(S,{key:0},[s(" Version "),i(a,{strong:"",class:"font-semibold",type:"success"},{default:r(()=>[s(u(t(e).version),1)]),_:1}),s(" is available - "),i(a,{class:"cursor-pointer",type:"success",onClick:d},{default:r(()=>[s(" Update now? ")]),_:1})],64)):t(e).updateState==="UPDATING"?(o(),l(D,{key:1,percentage:t(e).percent,type:"line","show-indicator":!0,processing:""},{default:r(()=>[s(u(`${t(E)(t(e).bytesPerSecond)}/s`)+" Downloading... ",1)]),_:1},8,["percentage"])):t(e).updateState==="DOWNLOADED"?(o(),_(S,{key:2},[s(" Version "),i(a,{strong:"",class:"font-semibold",type:"success"},{default:r(()=>[s(u(t(e).version),1)]),_:1}),s(" downloaded! - "),i(a,{class:"cursor-pointer",type:"success",onClick:t(P)},{default:r(()=>[s(" Click here to install ")]),_:1},8,["onClick"])],64)):O("",!0)])}}});export{$ as _,M as a};
