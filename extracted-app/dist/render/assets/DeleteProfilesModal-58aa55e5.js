import{a2 as g,fY as y,bH as h,am as b,aL as C,a9 as P}from"./main-8b08e1d6.js";import{d as D,b as S,S as B,X as k,Y as a,D as r,u as e,E as m,$ as f,t as x}from"./_plugin-vue_export-helper-b059e461.js";import"./lodash-6114c6d4.js";import"./axios-1e30d922.js";import"./xlsx-f5126985.js";const J=D({__name:"DeleteProfilesModal",props:{modelShow:{type:Boolean,default:!1},profiles:{type:Array,default:()=>[]},ids:{type:Array,default:()=>[]}},emits:["update:show","success"],setup(d,{emit:c}){const l=d,{t:s}=g(),o=S(!1),n=()=>c("update:show",!1),u=async()=>{try{o.value=!0;const i=x(l.profiles).filter(t=>l.ids.includes(t.id));await y(l.ids),await Promise.all(i.map(t=>h(JSON.parse(JSON.stringify(t))))),window.$message.info(s("Page.Profiles.Msg.ProfilesDeleted")),n(),c("success")}catch{}finally{o.value=!1}};return(i,t)=>{const p=b,_=C,w=P;return B(),k(w,{show:d.modelShow,preset:"dialog",title:e(s)("Common.Label.Confirm"),onClose:n},{action:a(()=>[r(_,null,{default:a(()=>[r(p,{size:"small",disabled:e(o),onClick:n},{default:a(()=>[m(f(e(s)("Common.Button.Keep")),1)]),_:1},8,["disabled"]),r(p,{size:"small",type:"error",disabled:e(o),loading:e(o),onClick:u},{default:a(()=>[m(f(e(s)("Common.Button.Delete")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1},8,["show","title"])}}});export{J as default};
