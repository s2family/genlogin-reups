import{dF as s}from"./main-8b08e1d6.js";import{r as c,b as x,c as l}from"./_plugin-vue_export-helper-b059e461.js";const d=async()=>{const e=await s.get("/app/extensions"),{success:o,data:i}=e.data;return o?i:[]},u=async(e,o)=>await s.post("/app/extensions/toggle",{id:e,disabled:o}),p=async e=>await s.delete(`/app/extensions/${e}`);async function E(e){return s.defaults.timeout=0,await s.post("/app/extensions/download-extension",e)}async function g(e){return await s.post("/app/extensions/load-extension",e)}const t=c({loading:!1,search:"",showUploadFileModal:!1,showImportUrlModal:!1,showDeleteModal:!1,url:"",file:null,ext:null,id:null}),a=x([]),f=l(()=>a.value.sort((e,o)=>e.pinned?-1:1)),v=()=>{const e=l(()=>t.search.length?a.value.filter(n=>n.name.toLowerCase().includes(t.search.toLowerCase())):a.value);return{state:t,extensions:e,sortedExtensions:f,getExtensions:async()=>{a.value=await d()},toggleExtension:async(n,r)=>u(n,r),deleteExtension:async n=>p(n),importExtensionByUrl:async n=>E({id:t.id,url:t.url}),importExtensionFile:async n=>g({id:t.id,filePath:n})}};export{v as u};
