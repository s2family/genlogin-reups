import{dF as s,fK as P,ay as c,bg as f,eO as l,bf as m,fL as T,fM as A}from"./main-8b08e1d6.js";import{r as w,b as r,c as d}from"./_plugin-vue_export-helper-b059e461.js";const _=P(null),O=async e=>await s.post("/backend/invoice",e),R=async e=>await s.get("/backend/invoice/validate",{params:e}),$=async e=>s.get("/backend/transaction",{params:e}),I=async()=>await s.get(`${_}/discount/sale-off`),b=async()=>await s.get(`${_}/discount/special-deal`),o=c(),y=w({proxyType:f.VINA_PROXY_V4,capacity:1e3,ip:1,day:l[0].value,country:"USA",isp:{ip:1,day:l[0].value,country:"USA"},v4:{ip:1,day:l[0].value,country:"USA"},vina:{ip:1,day:l[0].value,country:"VIETNAM"}}),p=r(0),n=r(null),h=d(()=>n.value?o.isAfter(c(n.value.start_at))&&o.isBefore(c(n.value.end_at)):!1),a=r({plan_id:null,plan_name:null,start_at:null,end_at:null,note:null,feature:null,amount:null,orig_amount:null}),B=d(()=>a.value&&a.value.start_at&&a.value.end_at===null?!0:!a.value.start_at||!a.value.end_at?!1:o.isAfter(c(a.value.start_at))&&o.isBefore(c(a.value.end_at))),Y=()=>{const{allProxies:e}=m(),u=r(!1),v=d(()=>e.value.find(i=>i.type===y.proxyType)||{});return{allProxies:e,state:y,selectedBuyProxy:v,calculating:u,totalStatic:p,specialDeal:a,calculateStatic:async()=>{try{const{proxyType:t,isp:i,v4:g}=y;u.value=!0;const S={extras:t===f.STATIC_ISP?i:g,proxy_id:v.value.id},{data:x}=await T(S),D=await A({amount:x.data,from_currency:"VND",to_currency:"USD"});p.value=D.data.data}catch{}finally{u.value=!1}},getDiscountPlan:async()=>{try{const{data:t}=await I();n.value=t.data}catch{}},getSpecialDeal:async()=>{try{const{data:t}=await b();return a.value=t.data,a.value}catch{}},discountState:n,isSaleOff:h,hasSpecialDeal:B}};export{R as a,O as b,$ as g,Y as u};
