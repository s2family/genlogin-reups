import{bd as Ct,b1 as Tt,be as jt,a2 as Ie,I as Te,H as He,ad as _t,bf as Vt,bg as Z,bh as m,bi as Ft,bj as me,ah as j,bk as Ke,aZ as pt,bl as Xt,bm as nt,aJ as xt,aL as pe,bn as Kt,bo as rt,bp as De,bq as St,br as dt,bs as It,bt as Wt,a7 as Ye,am as Oe,aA as Ot,bu as Ht,a8 as qt,a0 as Nt,a1 as Rt,bv as ie,bw as ct,bx as Et,ac as Qt,aq as Jt,by as $t,G as qe,M as Zt,Q as ea,bz as ht,bA as ta,bB as fe,aY as at,aV as aa,bC as ot,aj as ke,bD as bt,bE as wt,b4 as Ce,X as it,bF as oa,J as la,bG as sa,bH as na,bI as ra,a3 as ft,aQ as ia,bJ as ua,bK as pa,bL as da,bM as ca,bN as fa,bO as _a,bP as ya,bQ as ma,bR as ga,bS as va,bT as Pa,Z as xa,_ as ha,a4 as ba,a6 as wa,bU as yt,a9 as ka,ar as Ca,bV as Ta,aa as Sa,L as Ia}from"./main-8b08e1d6.js";import{d as ye,S as k,U as ae,V as s,W as Oa,b as q,B as Ut,c as Se,r as Qe,w as Pe,h as _,f as Be,m as At,D as a,Y as o,E as p,u as e,X as D,a2 as Y,$ as P,q as ve,F as Ee,a0 as ue,ab as Na,ac as Ra,t as mt,a1 as lt,n as Ea,J as $a,Q as Ua,z as gt,ag as vt,ad as Aa,a8 as zt}from"./_plugin-vue_export-helper-b059e461.js";import{a as za}from"./axios-1e30d922.js";import{_ as Lt}from"./DataTable-e5054828.js";import{_ as Gt}from"./Alert-2eccd136.js";import{_ as La}from"./Scrollbar-e90e60b7.js";import{_ as Ga}from"./a-72358bba.js";import{_ as Ma}from"./Divider-65f3d898.js";import{_ as Da}from"./Select-f7c79767.js";import{_ as $e}from"./Input-96fa4693.js";import{_ as Mt}from"./FormItem-52ed65a1.js";import{_ as Ya}from"./Checkbox-ce86da58.js";import{_ as Ba}from"./Badge-93754219.js";import{_ as ja}from"./p-263c92a4.js";import{_ as Va}from"./Progress-0b0a0198.js";import{u as Je,a as Fa,b as Xa}from"./uniqBy-ee48ba02.js";import{c as Ka,f as Wa}from"./firefox-icon-2ab5a045.js";import{g as Ha,a as qa}from"./proxy-4c3e5ecd.js";import{_ as Qa}from"./DynamicTags-09cba305.js";import{_ as Dt}from"./Pagination-ce77c3f3.js";import{_ as Ja}from"./InputSearch.vue_vue_type_script_setup_true_lang-d786940a.js";import{_ as Za,a as eo}from"./CollapseItem-114ac5a0.js";const to={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ao=s("path",{d:"M336 176h40a40 40 0 0 1 40 40v208a40 40 0 0 1-40 40H136a40 40 0 0 1-40-40V216a40 40 0 0 1 40-40h40",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),oo=s("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M176 272l80 80l80-80"},null,-1),lo=s("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 48v288"},null,-1),so=[ao,oo,lo],no=ye({name:"DownloadOutline",render:function(C,$){return k(),ae("svg",to,so)}}),ro={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},io=Oa('<path d="M63.28 202a15.29 15.29 0 0 1-7.7-2a14.84 14.84 0 0 1-5.52-20.46C69.34 147.36 128 72.25 256 72.25c55.47 0 104.12 14.57 144.53 43.29c33.26 23.57 51.9 50.25 60.78 63.1a14.79 14.79 0 0 1-4 20.79a15.52 15.52 0 0 1-21.24-4C420 172.32 371 102 256 102c-112.25 0-163 64.71-179.53 92.46A15 15 0 0 1 63.28 202z" fill="currentColor"></path><path d="M320.49 496a15.31 15.31 0 0 1-3.79-.43c-92.85-23-127.52-115.82-128.93-119.68l-.22-.85c-.76-2.68-19.39-66.33 9.21-103.61c13.11-17 33.05-25.72 59.38-25.72c24.48 0 42.14 7.61 54.28 23.36c10 12.86 14 28.72 17.87 44c8.13 31.82 14 48.53 47.79 50.25c14.84.75 24.59-7.93 30.12-15.32c14.95-20.15 17.55-53 6.28-82C398 228.57 346.61 158 256 158c-38.68 0-74.22 12.43-102.72 35.79c-23.59 19.35-42.28 46.67-51.28 74.75c-16.69 52.28 5.2 134.46 5.41 135.21A14.83 14.83 0 0 1 96.54 422a15.39 15.39 0 0 1-18.74-10.6c-1-3.75-24.38-91.4-5.1-151.82c21-65.47 85.81-131.47 183.33-131.47c45.07 0 87.65 15.32 123.19 44.25c27.52 22.5 50 52.72 61.76 82.93c14.95 38.57 10.94 81.86-10.19 110.14c-14.08 18.86-34.13 28.72-56.34 27.65c-57.86-2.9-68.26-43.29-75.84-72.75c-7.8-30.22-12.79-44.79-42.58-44.79c-16.36 0-27.85 4.5-35 13.82c-9.75 12.75-10.51 32.68-9.43 47.14a152.44 152.44 0 0 0 5.1 29.79c2.38 6 33.37 82 107.59 100.39a14.88 14.88 0 0 1 11 18.11a15.36 15.36 0 0 1-14.8 11.21z" fill="currentColor"></path><path d="M201.31 489.14a15.5 15.5 0 0 1-11.16-4.71c-37.16-39-58.18-82.61-66.09-137.14V347c-4.44-36.1 2.06-87.21 33.91-122.35c23.51-25.93 56.56-39.11 98.06-39.11c49.08 0 87.65 22.82 111.7 65.89c17.45 31.29 20.91 62.47 21 63.75a15.07 15.07 0 0 1-13.65 16.4a15.26 15.26 0 0 1-16.79-13.29A154 154 0 0 0 340.43 265c-18.64-32.89-47-49.61-84.51-49.61c-32.4 0-57.75 9.75-75.19 29c-25.14 27.75-30 70.5-26.55 98.78c6.93 48.22 25.46 86.58 58.18 120.86a14.7 14.7 0 0 1-.76 21.11a15.44 15.44 0 0 1-10.29 4z" fill="currentColor"></path><path d="M372.5 446.18c-32.5 0-60.13-9-82.24-26.89c-44.42-35.79-49.4-94.08-49.62-96.54a15.27 15.27 0 0 1 30.45-2.36c.11.86 4.55 48.54 38.79 76c20.26 16.18 47.34 22.6 80.71 18.85a15.2 15.2 0 0 1 16.91 13.18a14.92 14.92 0 0 1-13.44 16.5a187 187 0 0 1-21.56 1.26z" fill="currentColor"></path><path d="M398.18 48.79C385.5 40.54 340.54 16 256 16c-88.74 0-133.81 27.11-143.78 34a11.59 11.59 0 0 0-1.84 1.4a.36.36 0 0 1-.22.1a14.87 14.87 0 0 0-5.09 11.15a15.06 15.06 0 0 0 15.31 14.85a15.56 15.56 0 0 0 8.88-2.79c.43-.32 39.22-28.82 126.77-28.82S382.58 74.29 383 74.5a15.25 15.25 0 0 0 9.21 3a15.06 15.06 0 0 0 15.29-14.89a14.9 14.9 0 0 0-9.32-13.82z" fill="currentColor"></path>',5),uo=[io],po=ye({name:"FingerPrint",render:function(C,$){return k(),ae("svg",ro,uo)}}),Yt=new Set,Pt=(v,C)=>{const $=q(!1),X=q([]),t=Ct("profile-per-page",25),g=q({limit:t.value,offset:0,order:"desc",type:v,search:"",sort_by:"id"}),E=q({page:1,limit:25,current_offset:0,next_offset:0,total_items:0}),L=async(G={offset:0,limit:E.value.limit})=>{if(!$.value)try{X.value=[],$.value=!0;const{limit:B,offset:A}=G,K=await jt(Object.assign(g.value,{offset:A,limit:B})),{data:y}=K.data;X.value=y.items,E.value=y.pagination,t.value=g.value.limit=y.pagination.limit,X.value.filter(w=>!!w.filename).forEach(w=>Yt.add(w.id))}catch{X.value=[]}finally{$.value=!1}},b=Tt(async()=>{await L()},500);return{activeTab:C,loading:$,profiles:X,defaultParams:g,pagination:E,getProfiles:L,debounceSearch:b,onPageUpdate:async G=>{E.value.page=G;const B=E.value.limit*(G-1),A=E.value.limit;await L({offset:B,limit:A})},onPageSizeUpdate:async G=>{E.value.page=1,await L({offset:0,limit:G})},onSortChange:async G=>{const{order:B,columnKey:A}=G;switch(A){case"name":g.value.sort_by="profile_name";break;case"created_at":g.value.sort_by="created_at";break;case"updated_at":g.value.sort_by="updated_at";break;default:g.value.sort_by="id";break}g.value.order==="desc"&&B!=="descend"?g.value.order="asc":g.value.order="desc",E.value.page=1,await L({offset:0,limit:E.value.limit})}}},co=v=>(Na("data-v-bf1c8833"),v=v(),Ra(),v),fo={class:"detail w-400px"},_o={class:"flex items-center justify-between mb-28px"},yo={class:"font-semibold text-2xl"},mo={class:"flex items-center justify-between px-16px py-12px"},go={class:"w-1/2"},vo={key:0,class:"flex items-center justify-between px-16px py-12px"},Po={class:"w-1/2"},xo={class:"flex items-center justify-between px-16px py-12px"},ho={class:"w-1/2"},bo={class:"flex items-center justify-between px-16px py-12px"},wo={class:"w-1/2"},ko={class:"flex items-center justify-between px-16px py-12px"},Co={class:"w-1/2"},To={class:"flex items-center justify-between px-16px py-12px"},So={class:"w-1/2"},Io={class:"flex items-center justify-between px-16px py-12px"},Oo={class:"w-1/2"},No={key:1,class:"px-24px"},Ro={class:"flex items-center py-12px justify-between"},Eo={class:"w-full"},$o={class:"flex items-center py-12px justify-between"},Uo={class:"w-full"},Ao={class:"flex items-center py-12px justify-between"},zo={class:"w-full"},Lo={class:"flex items-center py-12px justify-between"},Go={class:"w-full"},Mo={class:"flex items-center py-12px justify-between"},Do={class:"w-full"},Yo={key:1},Bo={class:"flex flex-col gap-16px"},jo={class:"flex items-center py-12px justify-between"},Vo={class:"w-full"},Fo={class:"flex items-center pb-12px justify-between"},Xo={class:"w-full"},Ko={class:"flex items-center pb-12px gap-8px"},Wo=co(()=>s("div",{class:"cursor-pointer select-none"}," Change IP when start profile ",-1)),Ho={key:2,class:"flex justify-end items-center py-8px gap-4px"},qo={key:2},Qo={key:0},Jo={class:"gap-5 flex"},Zo={class:"w-1/2"},el={class:"flex items-center justify-between"},tl={class:"font-semibold"},al={class:"my-2 flex gap-2"},ol={class:"cursor-pointer select-none"},ll={class:"flex items-center justify-between px-16px py-12px"},sl={class:"w-1/2"},nl={class:"flex items-center justify-between px-16px py-12px"},rl={class:"w-1/2"},il={class:"flex items-center justify-between px-16px py-12px"},ul={class:"w-1/2"},pl={class:"flex items-center justify-between px-16px py-12px"},dl={class:"w-1/2"},cl={class:"flex items-center justify-between px-16px py-12px"},fl={class:"w-1/2"},_l={class:"flex items-center justify-between px-16px py-12px"},yl={class:"w-1/2"},ml={class:"flex items-center justify-between px-16px py-12px"},gl={class:"w-1/2"},vl={class:"flex items-center justify-between px-16px py-12px"},Pl={class:"w-1/2"},xl={class:"flex items-center justify-between px-16px py-12px"},hl={class:"w-1/2"},bl={class:"flex items-center justify-between px-16px py-12px"},wl={class:"w-1/2"},kl={class:"flex items-center justify-between px-16px py-12px"},Cl={class:"w-1/2"},Tl=ye({__name:"ProfileDetail",props:{data:{type:Object,default:()=>{}}},emits:["close","updated"],setup(v,{emit:C}){const $=v,X=ue(()=>ie(()=>import("./ShareProfilesModal-9ec782e7.js"),["./ShareProfilesModal-9ec782e7.js","./main-8b08e1d6.js","./_plugin-vue_export-helper-b059e461.js","./lodash-6114c6d4.js","./axios-1e30d922.js","./xlsx-f5126985.js","./index-9b0004e2.css","./Modal-0f4a5102.js","./Divider-65f3d898.js","./Input-96fa4693.js","./Suffix-fc59bb7a.js","./Checkbox-ce86da58.js"],import.meta.url)),{data:t}=Ut($),{t:g}=Ie(),E=q({showModal:!1,ids:[],email:"",rights:[]}),{user:L}=Te(He()),b=_t(),{location:U}=Te(b),V=q(!1),{loading:F,proxies:G,getProxies:B}=Vt(),A=q(null),K=Se(()=>G.value.map(d=>{const{id:c,extras:{type:u,protocol:Q,capacity:W,remain:l,unit:i,custom:r,host:f,port:T}}=d;let{extras:{name:N}}=d;return u===Z.KENT_PROXY&&r.loaiproxy&&(N=`${N} - ${r.loaiproxy}`),{value:c,label:N,type:u,protocol:Q,capacity:W,remain:l,unit:i,country:r?r.country:void 0,host:f,port:T}})),y=Qe({request:null,proxyStr:"",checking:!1,proxyMsg:"",proxyLocations:[]}),w=[{label:"HTTP Proxy",value:m.HTTP},{label:"SOCKS4 Proxy",value:m.SOCKS4},{label:"SOCKS5 Proxy",value:m.SOCKS5},{label:"TM Proxy",value:m.TM},{label:"Tinsoft Proxy",value:m.TINSOFT},{label:"Tin Proxy",value:m.TIN},{label:"Kiot Proxy",value:m.KIOT_PROXY},{label:"F Proxy",value:m.F_PROXY},{label:"WW Proxy",value:m.WW_PROXY},{label:"Net Proxy",value:m.NET_PROXY}],R=Se(()=>Ft),h=[{label:"Without Proxy",value:"withoutProxy"},{value:"genProxy",label:"Gen Proxy"},{label:"Your Proxy",value:"yourProxy"}],M=q("withoutProxy");Pe(M,d=>{switch(d){case"genProxy":t.value.profile_data.proxy.type=m.GEN_PROXY,B(),t.value.profile_data.webRTC.type=me.ALTER_NONE_EXISTS;break;case"yourProxy":t.value.profile_data.proxy.type=m.HTTP,t.value.profile_data.webRTC.type=me.ALTER_NONE_EXISTS;break;case"withoutProxy":t.value.profile_data.proxy.type=m.WITHOUT,t.value.profile_data.webRTC.type=me.REAL;break}});const H=async d=>{if(![m.HTTP,m.SOCKS4,m.SOCKS5].includes(d)){if(y.proxyLocations=await Kt(d),!y.proxyLocations.length){t.value.profile_data.proxy.options.location=null;return}t.value.id?t.value.profile_data.proxy.options.location=t.value.profile_data.proxy.options.location||y.proxyLocations[0].value:t.value.profile_data.proxy.options.location=y.proxyLocations[0].value}},oe=d=>{const[c,u,Q,W]=d.trim().split(":");Object.assign(t.value.profile_data.proxy,{host:c,port:u,login:Q,password:W})},xe=async()=>{if(!t.value.profile_data.proxy.host||!t.value.profile_data.proxy.port){window.$message.error("Invalid proxy address");return}const d=za.CancelToken.source();y.request={cancel:d.cancel};const c=async Q=>{t.value.profile_data.proxy.options.service=Q;try{y.checking=!0,y.proxyMsg="",t.value.profile_data.proxy.proxyInfo={ip:"",timezone:"",country:""};const{host:W,port:l,login:i,password:r,type:f,genProxy:T}=mt(t.value.profile_data.proxy),N=f===m.GEN_PROXY?T.protocol:void 0,I=await ct({protocol:N,host:W,port:l,login:i,password:r,type:f,service:Q},3e4,d.token);if(!I)throw new Error("Canceled");const n=I.data;if(n.success){const{ip:S,timezone:z,country:te,latitude:se,longitude:ee,accuracy:J}=n.data;return S&&(t.value.profile_data.webRTC.ip=S,t.value.profile_data.webRTC.type=[me.ALTER_GOOGLE,me.ALTER_NONE_EXISTS,me.DISABLE].includes(t.value.profile_data.webRTC.type)?t.value.profile_data.webRTC.type:me.ALTER_NONE_EXISTS),z&&(t.value.profile_data.timezone=z),se&&ee&&(t.value.profile_data.geolocation={type:rt.PROMPT,lat:se,lng:ee,accuracy:J||null}),t.value.profile_data.proxy.proxyInfo.ip=S,t.value.profile_data.proxy.proxyInfo.timezone=z,t.value.profile_data.proxy.proxyInfo.country=te,!0}else return y.proxyMsg=n.message||"",t.value.profile_data.proxy.proxyInfo={ip:"",timezone:"",country:""},!1}catch(W){if(W.message==="Canceled")throw new Error("Canceled");return t.value.profile_data.proxy.proxyInfo={ip:"",timezone:"",country:""},!1}finally{y.checking=!1}};let u=await c(t.value.profile_data.proxy.options.service);if(!u)for(const Q of nt)try{if(u=await c(Q.name),u)return}catch{return}},he=async()=>{Object.assign(t.value.profile_data.proxy,{host:"",port:"",login:"",password:"",options:{apiKey:"",location:""},proxyInfo:{}}),t.value.profile_data.webRTC.type=me.REAL,t.value.profile_data.webRTC.ip="",t.value.profile_data.timezone=U==null?void 0:U.value.timezone,t.value.profile_data.geolocation={type:rt.PROMPT,lat:"",lng:"",accuracy:null},y.proxyMsg="";try{await De(t.value,!!t.value.filename),window.$message.success("Clear Proxy Success")}catch{window.$message.error("Clear Proxy Failed")}},Ne=async()=>{y.request&&y.request.cancel()},je=async()=>{await St(t.value.id),window.$message.success("Fingerprint updated!")},Ue=async()=>{if(!V.value)try{V.value=!0,await De(t.value,!!t.value.filename),C("close"),C("updated"),window.$message.success("Save Proxy Success")}catch{window.$message.error("Save Proxy Failed")}finally{V.value=!1}},de=q(null),re=q({}),Ve=d=>{const{label:c,flag:u}=d;return _(pe,{align:"center"},{default:()=>[...u?[_(dt,{country:u})]:[],c]})},Ae=d=>{var Q;let c="",u="";switch(d.type){case Z.IMPORT:return u=d.label.toString(),c=` - ${d.protocol}`,`${u}${c}`;case Z.DYNAMIC:return u="Proxy rotate",c=` - ${d.protocol} - ${d.remain}/${d.capacity}${d.unit}`,`${u}${c}`;case Z.VINA_PROXY_V4:case Z.VINA_PROXY_DATA_CENTER:case Z.STATIC_V4:case Z.STATIC_ISP:d.type===Z.STATIC_V4?u="IPv4 proxy":d.type===Z.STATIC_ISP?u="ISP proxy":d.type===Z.VINA_PROXY_V4?(d.country="VIETNAM",u="Vietnam proxy"):d.type===Z.VINA_PROXY_DATA_CENTER?(d.country="VIETNAM",u="Vietnam proxy data center"):d.type===Z.KENT_PROXY&&(d.country="VIETNAM",u="Economical Vietnam residential Proxy"),c=` - ${d.protocol} - ${d.country} - ${d.host}:${d.port}`;const W=(Q=It.find(l=>{var i;return l.value===((i=d.country)==null?void 0:i.toUpperCase())}))==null?void 0:Q.flag;return _(pe,{align:"center",wrap:!1},{default:()=>[...W?[_(dt,{country:W})]:[],`${u}${c}`]})}},Fe=async d=>{const c=await Et(d);re.value=c.data.data},Xe=()=>{Object.assign(t.value.profile_data.proxy,{host:"",port:"",login:"",password:"",options:{apiKey:"",location:"",service:nt[0].name},proxyInfo:{}}),t.value.profile_data.webRTC.type=M.value==="genProxy"?me.ALTER_NONE_EXISTS:me.REAL,t.value.profile_data.webRTC.ip="",t.value.profile_data.timezone=U==null?void 0:U.value.timezone,t.value.profile_data.geolocation={type:rt.PROMPT,lat:"",lng:"",accuracy:null},y.proxyMsg=""},ne=async d=>{var f;if(!d||(Xe(),await Fe(d),!re.value))return;const{type:c,protocol:u,host:Q,port:W,username:l,password:i,custom:r}=re.value.extras;t.value.profile_data.proxy.type=m.GEN_PROXY,t.value.profile_data.proxy.genProxy.id=d,t.value.profile_data.proxy.genProxy.protocol=u.toLowerCase(),t.value.profile_data.proxy.genProxy.type=c,[Z.VINA_PROXY_V4,Z.VINA_PROXY_DATA_CENTER,Z.KENT_PROXY].includes(c)?t.value.profile_data.proxy.genProxy.country="VIETNAM":t.value.profile_data.proxy.genProxy.country=r?(f=r.country)==null?void 0:f.toUpperCase():"",Object.assign(t.value.profile_data.proxy,{...t.value.profile_data.proxy,host:Q,port:W.toString(),login:l,password:i})},be=async d=>{if(!d||!de.value)return;const c=await Wt(de.value,d);if(c.data.proxy){const{protocol:u,host:Q,port:W,username:l,password:i}=c.data.proxy;t.value.profile_data.proxy.genProxy.country=d==null?void 0:d.toUpperCase(),t.value.profile_data.proxy.genProxy.protocol=u.toLowerCase(),Object.assign(t.value.profile_data.proxy,{...t.value.profile_data.proxy,host:Q,port:W.toString(),login:l,password:i})}else window.$message.error("Failed to get proxy endpoint. Please try again.")},Re=Se(()=>{const d={};return Object.keys(t.value.profile_permissions).forEach(c=>{t.value.profile_permissions[c].forEach(u=>{d[u]||(d[u]={email:u}),d[u][c]=!0})}),Object.values(d)}),ze=Se(()=>[{title:"",key:"actions",fixed:"left",render(d){if(L.value.email!==d.email)return _("div",{class:"flex gap-2"},[_(j,{type:"edit",class:"cursor-pointer",color:"#55b3e6",onClick:()=>{const c=["view","sync","edit","delete"].filter(u=>d[u]).map(u=>Ke[u.toUpperCase()]);E.value.showModal=!0,E.value.email=d.email,E.value.ids=[t.value.id],E.value.rights=c}}),_(pt,{negativeText:g("Common.Button.Cancel"),positiveText:g("Common.Button.Confirm"),onPositiveClick:async()=>{const c={user_email:d.email,add_permissions:[],remove_permissions:[Ke.VIEW,Ke.SYNC,Ke.EDIT,Ke.DELETE]};await Xt(t.value.id,c),C("updated")}},{trigger:()=>_(j,{type:"trash",class:"cursor-pointer",color:"red"}),default:()=>g("Page.Profiles.Label.ConfirmStopShare")})])}},{title:"Email",key:"email",fixed:"left"},{title:g("Page.Profiles.Label.PermitRead"),key:"view",render:d=>d.view&&"✔️"},{title:g("Page.Profiles.Label.PermitSyncData"),key:"sync",render:d=>d.sync&&"✔️"},{title:g("Page.Profiles.Label.PermitEdit"),key:"edit",render:d=>d.edit&&"✔️"},{title:g("Page.Profiles.Label.PermitDelete"),key:"delete",render:d=>d.delete&&"✔️"}]);return Be(async()=>{t.value.id?t.value.profile_data.proxy.type===m.WITHOUT?M.value="withoutProxy":t.value.profile_data.proxy.type===m.GEN_PROXY&&(M.value="genProxy",de.value=t.value.profile_data.proxy.genProxy.id,A.value=t.value.profile_data.proxy.genProxy.country,await ne(t.value.profile_data.proxy.genProxy.id)):M.value="withoutProxy"}),At(async()=>{t.value.id?t.value.profile_data.proxy.type===m.WITHOUT?M.value="withoutProxy":t.value.profile_data.proxy.type===m.GEN_PROXY?(M.value="genProxy",de.value=t.value.profile_data.proxy.genProxy.id,A.value=t.value.profile_data.proxy.genProxy.country,await ne(t.value.profile_data.proxy.genProxy.id)):M.value="yourProxy":M.value="withoutProxy"}),(d,c)=>{const u=Ye,Q=Ga,W=Oe,l=Lt,i=Ot,r=Ma,f=Da,T=$e,N=Mt,I=Ya,n=Ht,S=Ba,z=ja,te=Gt,se=qt,ee=Va,J=Nt,ce=Rt,x=La;return k(),ae(Ee,null,[s("div",fo,[s("div",_o,[s("div",yo,[a(u,null,{default:o(()=>[p("Details")]),_:1})]),a(j,{class:"cursor-pointer",type:"close",size:"32",onClick:c[0]||(c[0]=O=>C("close"))})]),a(x,{style:{"max-height":"calc(100vh - 246px)"}},{default:o(()=>[a(ce,null,{default:o(()=>[a(J,{name:"info",tab:"Info"},{default:o(()=>[s("div",mo,[s("div",null,[a(u,null,{default:o(()=>[p("New fingerprint")]),_:1})]),s("div",go,[e(t).id?(k(),D(e(pt),{key:0,"on-positive-click":je},{trigger:o(()=>[a(Q,{class:"flex items-center gap-8px"},{default:o(()=>[a(j,{type:"refresh",size:"16"}),p(" Refresh ")]),_:1})]),default:o(()=>[p(" Confirm get new fingerprint for this profile? ")]),_:1})):Y("",!0)])]),e(t).profile_permissions?(k(),ae("div",vo,[s("div",null,[a(u,null,{default:o(()=>[p("Permissions")]),_:1})]),s("div",Po,[a(i,null,{trigger:o(()=>[a(W,null,{default:o(()=>[p(" View ")]),_:1})]),default:o(()=>[a(l,{columns:e(ze),data:e(Re),"scroll-x":500},null,8,["columns","data"])]),_:1})])])):Y("",!0),a(r),s("div",xo,[s("div",null,[a(u,null,{default:o(()=>[p("Profile name")]),_:1})]),s("div",ho,[a(u,null,{default:o(()=>[p(P(e(t).profile_data.name),1)]),_:1})])]),a(r),s("div",bo,[s("div",null,[a(u,null,{default:o(()=>[p("Browser")]),_:1})]),s("div",wo,[a(u,null,{default:o(()=>[p(P(e(t).profile_data.browser),1)]),_:1})])]),a(r),s("div",ko,[s("div",null,[a(u,null,{default:o(()=>[p("Browser version")]),_:1})]),s("div",Co,[a(u,null,{default:o(()=>[p(P(e(t).profile_data.browser_version),1)]),_:1})])]),a(r),s("div",To,[s("div",null,[a(u,null,{default:o(()=>[p("OS")]),_:1})]),s("div",So,[a(u,null,{default:o(()=>[p(P(e(t).profile_data.os),1)]),_:1})])]),a(r),s("div",Io,[s("div",null,[a(u,null,{default:o(()=>[p("Proxy")]),_:1})]),s("div",Oo,[a(f,{value:e(M),"onUpdate:value":c[1]||(c[1]=O=>ve(M)?M.value=O:null),options:h},null,8,["value"])])]),e(M)==="yourProxy"?(k(),ae("div",No,[s("div",Ro,[s("div",Eo,[a(u,null,{default:o(()=>[p("Type")]),_:1})]),a(f,{value:e(t).profile_data.proxy.type,"onUpdate:value":[c[2]||(c[2]=O=>e(t).profile_data.proxy.type=O),H],size:"large",options:w},null,8,["value"])]),[e(m).HTTP,e(m).SOCKS4,e(m).SOCKS5].includes(e(t).profile_data.proxy.type)?(k(),ae(Ee,{key:0},[s("div",$o,[s("div",Uo,[a(u,null,{default:o(()=>[p("Proxy Host")]),_:1})]),a(T,{value:e(t).profile_data.proxy.host,"onUpdate:value":[c[3]||(c[3]=O=>e(t).profile_data.proxy.host=O),oe],placeholder:"Add IP address"},null,8,["value"])]),s("div",Ao,[s("div",zo,[a(u,null,{default:o(()=>[p("Proxy Port")]),_:1})]),a(T,{value:e(t).profile_data.proxy.port,"onUpdate:value":c[4]||(c[4]=O=>e(t).profile_data.proxy.port=O),placeholder:"Add Port"},null,8,["value"])]),s("div",Lo,[s("div",Go,[a(u,null,{default:o(()=>[p("Username")]),_:1})]),a(T,{value:e(t).profile_data.proxy.login,"onUpdate:value":c[5]||(c[5]=O=>e(t).profile_data.proxy.login=O),placeholder:"Add Username"},null,8,["value"])]),s("div",Mo,[s("div",Do,[a(u,null,{default:o(()=>[p("Password")]),_:1})]),a(T,{value:e(t).profile_data.proxy.password,"onUpdate:value":c[6]||(c[6]=O=>e(t).profile_data.proxy.password=O),placeholder:"Add Password"},null,8,["value"])]),a(N,{class:"w-full mb-4",label:"IP checker service","show-feedback":!1},{default:o(()=>[a(f,{value:e(t).profile_data.proxy.options.service,"onUpdate:value":c[7]||(c[7]=O=>e(t).profile_data.proxy.options.service=O),loading:e(y).checking,options:e(nt),"value-field":"name","label-field":"label",placeholder:"",size:"large","allow-input":e(xt)},null,8,["value","loading","options","allow-input"])]),_:1}),a(I,{checked:e(t).profile_data.proxy.options.enableChangeIp,"onUpdate:checked":c[8]||(c[8]=O=>e(t).profile_data.proxy.options.enableChangeIp=O),class:"mb-2"},{default:o(()=>[p(P(e(g)("Page.CreateProfile.Tabs.Network.Label.EnableChangeIp")),1)]),_:1},8,["checked"]),a(N,{class:"w-full mb-2",label:"Change proxy URL","show-feedback":!1},{default:o(()=>[a(T,{value:e(t).profile_data.proxy.options.changeIpUrl,"onUpdate:value":c[9]||(c[9]=O=>e(t).profile_data.proxy.options.changeIpUrl=O),placeholder:"URL","allow-input":e(xt)},null,8,["value","allow-input"])]),_:1})],64)):(k(),ae("div",Yo,[s("div",Bo,[s("div",jo,[s("div",Vo,[a(u,null,{default:o(()=>[p("API Key")]),_:1})]),a(T,{value:e(t).profile_data.proxy.options.apiKey,"onUpdate:value":c[10]||(c[10]=O=>e(t).profile_data.proxy.options.apiKey=O),placeholder:"Add API Key"},null,8,["value"])]),s("div",Fo,[s("div",Xo,[a(u,null,{default:o(()=>[p("Location")]),_:1})]),a(f,{value:e(t).profile_data.proxy.options.location,"onUpdate:value":c[11]||(c[11]=O=>e(t).profile_data.proxy.options.location=O),options:e(y).proxyLocations,placeholder:"Location"},null,8,["value","options"])]),s("div",Ko,[a(n,{value:e(t).profile_data.proxy.options.changeIpOnStartup,"onUpdate:value":c[12]||(c[12]=O=>e(t).profile_data.proxy.options.changeIpOnStartup=O)},null,8,["value"]),Wo])])])),e(y).checking?(k(),D(e(pe),{key:3,class:"mt-2",vertical:""},{default:o(()=>[a(e(pe),{align:"center",style:{"line-height":"1"},inline:""},{default:o(()=>[a(S,{type:"success",dot:"",processing:""}),a(z,null,{default:o(()=>[p("Checking proxy...")]),_:1})]),_:1}),a(W,{ghost:"",type:"error",onClick:Ne},{default:o(()=>[p(" Cancel ")]),_:1})]),_:1})):(k(),ae("div",Ho,[e(t).profile_data.proxy.proxyInfo.ip||[e(m).TM,e(m).TIN,e(m).TINSOFT,e(m).KIOT_PROXY,e(m).F_PROXY,e(m).WW_PROXY,e(m).NET_PROXY].includes(e(t).profile_data.proxy.type)?(k(),D(W,{key:0,type:"primary",loading:e(V),onClick:Ue},{default:o(()=>[p(" Save ")]),_:1},8,["loading"])):Y("",!0),a(W,{type:"primary",ghost:"",onClick:xe},{default:o(()=>[p(" Check proxy ")]),_:1}),a(W,{quaternary:"",onClick:he},{default:o(()=>[p(" Clear ")]),_:1})])),e(y).proxyMsg?(k(),D(te,{key:4,class:"mt-2","show-icon":!1,type:"error"},{default:o(()=>[p(P(e(y).proxyMsg),1)]),_:1})):Y("",!0),e(t).profile_data.proxy.proxyInfo.ip?(k(),D(se,{key:5,class:"mt-2"},{default:o(()=>[a(z,null,{default:o(()=>{var O;return[p(" Country: "),s("strong",null,P(((O=e(t).profile_data.proxy.proxyInfo)==null?void 0:O.country)||""),1)]}),_:1}),a(z,null,{default:o(()=>{var O;return[p(" IP: "),s("strong",null,P(((O=e(t).profile_data.proxy.proxyInfo)==null?void 0:O.ip)||""),1)]}),_:1}),a(z,null,{default:o(()=>{var O;return[p(" Timezone: "),s("strong",null,P(((O=e(t).profile_data.proxy.proxyInfo)==null?void 0:O.timezone)||""),1)]}),_:1})]),_:1})):Y("",!0)])):Y("",!0),e(M)==="genProxy"?(k(),ae("div",qo,[a(e(pe),{vertical:""},{default:o(()=>{var O,Ze,et,tt;return[a(N,{label:"Proxy manager","show-feedback":!1},{default:o(()=>[a(f,{value:e(de),"onUpdate:value":[c[13]||(c[13]=le=>ve(de)?de.value=le:null),ne],placeholder:"Select your proxy",loading:e(F),options:e(K),filterable:"",clearable:"","render-label":Ae},null,8,["value","loading","options"])]),_:1}),e(de)?(k(),ae(Ee,{key:0},[((Ze=(O=e(re))==null?void 0:O.extras)==null?void 0:Ze.type)===e(Z).DYNAMIC?(k(),ae("div",Qo,[s("div",Jo,[s("div",Zo,[s("div",el,[p(" Usage "),s("div",tl,P(e(re).extras.remain)+" / "+P(e(re).extras.capacity)+" "+P(e(re).extras.unit),1)]),a(ee,{class:"mt-4px",type:"line",percentage:e(re).extras.remain/e(re).extras.capacity*100,"show-indicator":!1},null,8,["percentage"])]),a(Q,{onClick:c[14]||(c[14]=le=>d.$router.push({name:"main.proxy"}))},{default:o(()=>[p(" Buy Proxy ")]),_:1})]),a(N,{class:"mt-2",label:"Country","show-feedback":!1},{default:o(()=>[a(f,{value:e(A),"onUpdate:value":c[15]||(c[15]=le=>ve(A)?A.value=le:null),placeholder:"Select Proxy country",options:e(R),filterable:"",clearable:"","render-label":Ve,onUpdateValue:be},null,8,["value","options"])]),_:1}),s("div",al,[a(n,{value:e(t).profile_data.proxy.options.changeIpOnStartup,"onUpdate:value":c[16]||(c[16]=le=>e(t).profile_data.proxy.options.changeIpOnStartup=le)},null,8,["value"]),s("span",ol,P(e(g)("Page.CreateProfile.Tabs.Network.Label.ChangeIpOnStart")),1)])])):Y("",!0),((tt=(et=e(re))==null?void 0:et.extras)==null?void 0:tt.type)!==e(Z).DYNAMIC?(k(),ae(Ee,{key:1},[e(y).checking?(k(),D(e(pe),{key:1,class:"mt-2",vertical:""},{default:o(()=>[a(e(pe),{align:"center",style:{"line-height":"1"},inline:""},{default:o(()=>[a(S,{type:"success",dot:"",processing:""}),a(z,null,{default:o(()=>[p(P(e(g)("Page.CreateProfile.Tabs.Network.Label.CheckingProxy")),1)]),_:1})]),_:1}),a(W,{ghost:"",type:"error",onClick:Ne},{default:o(()=>[p(P(e(g)("Common.Button.Cancel")),1)]),_:1})]),_:1})):(k(),D(e(pe),{key:0,class:"mt-2"},{default:o(()=>[a(W,{class:"mr-8px",ghost:"",type:"primary",onClick:xe},{default:o(()=>[p(P(e(g)("Page.CreateProfile.Tabs.Network.Button.CheckProxy")),1)]),_:1})]),_:1}))],64)):Y("",!0),e(y).proxyMsg?(k(),D(te,{key:2,class:"mt-2","show-icon":!1,type:"error"},{default:o(()=>[p(P(e(y).proxyMsg),1)]),_:1})):Y("",!0),e(t).profile_data.proxy.proxyInfo.ip?(k(),D(se,{key:3,class:"mt-2"},{default:o(()=>[a(z,null,{default:o(()=>{var le;return[p(" Country: "),s("strong",null,P(((le=e(t).profile_data.proxy.proxyInfo)==null?void 0:le.country)||""),1)]}),_:1}),a(z,null,{default:o(()=>{var le;return[p(" IP: "),s("strong",null,P(((le=e(t).profile_data.proxy.proxyInfo)==null?void 0:le.ip)||""),1)]}),_:1}),a(z,null,{default:o(()=>{var le;return[p(" Timezone: "),s("strong",null,P(((le=e(t).profile_data.proxy.proxyInfo)==null?void 0:le.timezone)||""),1)]}),_:1})]),_:1})):Y("",!0),e(t).profile_data.proxy.proxyInfo.ip?(k(),D(W,{key:4,class:"my-2",type:"primary",onClick:Ue},{default:o(()=>[p(" Save ")]),_:1})):Y("",!0)],64)):Y("",!0)]}),_:1})])):Y("",!0),a(r),s("div",ll,[s("div",null,[a(u,null,{default:o(()=>[p("Timezone")]),_:1})]),s("div",sl,[a(u,null,{default:o(()=>[p(P(e(t).profile_data.timezone),1)]),_:1})])]),a(r),s("div",nl,[s("div",null,[a(u,null,{default:o(()=>[p("Web RTC")]),_:1})]),s("div",rl,[a(u,null,{default:o(()=>[p(P(e(t).profile_data.webRTC.type),1)]),_:1})])]),a(r),s("div",il,[s("div",null,[a(u,null,{default:o(()=>[p("Screen Resolution")]),_:1})]),s("div",ul,[a(u,null,{default:o(()=>[p(P(e(t).profile_data.navigator.screenResolution),1)]),_:1})])]),a(r),s("div",pl,[s("div",null,[a(u,null,{default:o(()=>[p("Canvas")]),_:1})]),s("div",dl,[a(u,null,{default:o(()=>[p(P(e(t).profile_data.hardware.canvas),1)]),_:1})])]),a(r),s("div",cl,[s("div",null,[a(u,null,{default:o(()=>[p("Client Rects")]),_:1})]),s("div",fl,[a(u,null,{default:o(()=>[p(P(e(t).profile_data.hardware.clientRects),1)]),_:1})])]),a(r),s("div",_l,[s("div",null,[a(u,null,{default:o(()=>[p("Audio Context")]),_:1})]),s("div",yl,[a(u,null,{default:o(()=>[p(P(e(t).profile_data.hardware.audioContext),1)]),_:1})])]),a(r),s("div",ml,[s("div",null,[a(u,null,{default:o(()=>[p("Font")]),_:1})]),s("div",gl,[a(u,null,{default:o(()=>[p(P(e(t).profile_data.hardware.font),1)]),_:1})])]),a(r),s("div",vl,[s("div",null,[a(u,null,{default:o(()=>[p("WebGL")]),_:1})]),s("div",Pl,[a(u,null,{default:o(()=>[p(P(e(t).profile_data.hardware.webGL),1)]),_:1})])]),a(r),s("div",xl,[s("div",null,[a(u,null,{default:o(()=>[p("WebGL Vendor")]),_:1})]),s("div",hl,[a(u,null,{default:o(()=>[p(P(e(t).profile_data.hardware.webGLVendor),1)]),_:1})])]),a(r),s("div",bl,[s("div",null,[a(u,null,{default:o(()=>[p("WebGL Renderer")]),_:1})]),s("div",wl,[a(u,null,{default:o(()=>[p(P(e(t).profile_data.hardware.webGLRenderer),1)]),_:1})])]),a(r),s("div",kl,[s("div",null,[a(u,null,{default:o(()=>[p("Start URL")]),_:1})]),s("div",Cl,[a(u,null,{default:o(()=>[p(P(e(t).profile_data.other.startUrl),1)]),_:1})])])]),_:1})]),_:1})]),_:1})]),a(e(X),{show:e(E).showModal,"onUpdate:show":c[17]||(c[17]=O=>e(E).showModal=O),email:e(E).email,ids:e(E).ids,rights:e(E).rights,onSuccess:c[18]||(c[18]=O=>C("updated"))},null,8,["show","email","ids","rights"])],64)}}});const Sl=lt(Tl,[["__scopeId","data-v-bf1c8833"]]),kt=Ct("profile-columns-v3.3",{id:{label:"ID",i18n:"Page.Profiles.Label.ID",show:!1},name:{label:"Name",i18n:"Page.Profiles.Label.Name",show:!0},platform:{label:"Platform",i18n:"Common.Label.Platform",show:!0},tags:{label:"Tags",i18n:"Page.Profiles.Label.Tags",show:!0},note:{label:"Notes",i18n:"Page.Profiles.Label.Note",show:!0},status:{label:"Status",i18n:"Page.Profiles.Label.Status",show:!0},"profile_data.proxy.type":{label:"Proxy",i18n:"Page.Profiles.Label.Proxy",show:!0},updated_at:{label:"Updated",i18n:"Page.Profiles.Label.UpdatedAt",show:!0},last_start:{label:"Last start at",i18n:"Page.Profiles.Label.LastStart",show:!0}}),_e=q(new Set),We=q(new Set),Ge=q(new Set),Me=q(new Set),we=Se(()=>Object.keys(kt.value).map(v=>kt.value[v].show?v:null).filter(Boolean)),ge=Qe({columnSettings:!1,assignProfilesToGroups:!1,shareProfiles:!1,updateProfilesProxy:!1,updateProfiles:!1,shareOnCloud:!1,deleteProfile:!1,deleteProfiles:!1,changeOwnerProfiles:!1,cloneProfile:!1,removeFromGroup:!1,startWithApp:!1,ultraProfile:!1}),ut=Qe({profileName:null,profileId:null,loading:!1,password:"",url:""}),Il=(v=q([]),C=null)=>{const{settings:$}=Qt(),{groupBulkId:X}=Je(),{t}=Ie(),{fromNow:g}=Jt(),E=He(),{user:L}=Te(E),b=q([]),U=q([]),V=Se(()=>U.value.filter(l=>b.value.includes(l.id)));Pe(b,l=>{if(!l.length){U.value=[];return}const i=v.value.filter(r=>l.includes(r.id)).map(r=>({id:r.id,name:r.profile_data.name,browser:r.profile_data.browser,proxy:r.profile_data.proxy,created_at:r.created_at}));U.value=Fa([...U.value,...i],"id")});const F=q(null),G=q(!1),B=q(),{setProfile:A}=$t(),{router:K,refreshRoute:y}=qe(),w=q(!1);Pe(v,()=>{_e.value.clear()});const R=Qe({editInline:"",newName:""}),h=(l,i=null)=>()=>_(ke,i,{default:()=>_(l)}),M=(l,i)=>{const r=v.value.findIndex(f=>f.id===l);r!==-1&&(v.value[r].status=i)},H=async l=>{const{id:i,profile_data:{proxy:r,name:f}}=l,{host:T,port:N,login:I,password:n,type:S,options:z,genProxy:te}=r;let se="";try{if(We.value.add(i),[m.WITHOUT].includes(S))return!0;if([m.SOCKS4,m.SOCKS5,m.HTTP,m.FREE].includes(S)){const ee=S===m.GEN_PROXY?te.protocol==="http"?"http":"socks":void 0,J=await ct({protocol:ee,host:T,port:N,login:I,password:n,type:S,service:z.service},18e4),{success:ce,data:x}=J.data;if(ce&&(x!=null&&x.ip))Me.value.add(i),v.value.find(O=>O.id===i).profile_data.proxy.proxyInfo={ip:x.ip,timezone:x.timezone,country:x.country};else throw new Error("Invalid proxy")}else if([m.GEN_PROXY].includes(S)){const{data:{data:ee}}=await Et(te.id,i),{host:J,port:ce,username:x,password:O}=ee.extras,Ze=ee.extras.protocol.toLowerCase()==="http"?"http":"socks",et=ee.extras.protocol.toLowerCase()==="http"?m.HTTP:m.SOCKS5,tt=await ct({protocol:Ze,host:J,port:ce,login:x,password:O,type:et,service:z.service},18e4),{success:le,data:Le}=tt.data;if(le&&(Le!=null&&Le.ip))Me.value.add(i),v.value.find(Bt=>Bt.id===i).profile_data.proxy.proxyInfo={ip:Le.ip,timezone:Le.timezone,country:Le.country};else throw new Error("Invalid proxy")}else{if(!z.apiKey)return window.$message.warning(t("Page.Profiles.Msg.ProfileNoApiKey")),!1;const{options:{apiKey:ee}}=r;if(S===m.TIN){const J=await Ha(ee);J.success||(se=J.message)}else if(S===m.TINSOFT){const{data:J}=await _a(ee);J.success||(se=J.message)}else if(S===m.TM){const J=await qa(ee);J.success||(se=J.message)}}return se?(Ge.value.add(i),window.$message.warning(`Profile [${f}] ${se}`),!1):!0}catch{return Ge.value.add(i),!1}finally{We.value.delete(i)}},oe=async l=>{if(!_e.value.has(l))try{if(_e.value.add(l),$.value.browser.checkProxy){let i=v.value.find(f=>f.id===l);if(i||(i=(await Ce(l)).data.data),!await H(i))return}Yt.has(l)&&M(l,fe.SYNCING),await ya(l),M(l,fe.RUNNING)}catch{}finally{_e.value.delete(l)}},xe=async l=>{if(!_e.value.has(l))try{_e.value.add(l),await ma(l),M(l,fe.READY)}catch{}finally{_e.value.delete(l)}},he=async l=>{const{data:{data:i}}=await Ce(l.id);A(i),K.push({name:"main.createProfile"})},Ne=async l=>{const{profile_data:{proxy:i}}=l;if(![m.GEN_PROXY,m.WITHOUT].includes(i.type)){const{host:r,port:f,login:T,password:N,options:I}=i;let n=`${r}:${f}:${T}:${N}`;[m.F_PROXY,m.TIN,m.TM,m.TINSOFT,m.KIOT_PROXY,m.GEN_PROVIDER_PROXY].includes(i.type)&&(n=I.apiKey),await navigator.clipboard.writeText(n),window.$message.success(t("Page.Profiles.Msg.ProxyCopied"))}},je=async()=>{const l=v.value.filter(r=>r.status!==fe.RUNNING&&b.value.includes(r.id)),i=it(l,10);for(const r of i)await Promise.allSettled(r.chunk.map(async f=>oe(f.id))),await oa(1e3)},Ue=async()=>{const l=v.value.filter(f=>b.value.includes(f.id)&&f.status===fe.RUNNING),i=la(L.value.plan.id),r=it(l,i);for(const f of r)await Promise.allSettled(f.chunk.map(async T=>{await xe(T.id)}))},de=async()=>{const l=v.value.filter(r=>b.value.includes(r.id));We.value.clear(),Me.value.clear(),Ge.value.clear();const i=it(l,20);for(const r of i)await Promise.allSettled(r.chunk.map(async f=>H(f)))},re=async()=>{await Promise.allSettled(b.value.map(async l=>{await St(l)})),window.$message.success("New fingerprint applied!")},Ve=async()=>{try{G.value=!0,await sa(F.value.id),await na(F.value),b.value=b.value.filter(l=>l!==F.value.id),F.value=null,ge.deleteProfile=!1,window.$message.success(t("Page.Profiles.Msg.ProfileDeleted")),await E.getAllProfiles()}catch{}finally{G.value=!1}},Ae=async()=>{try{G.value=!0,await ra(F.value),F.value=null,window.$message.success(t("Page.Profiles.Msg.CookiesExported"))}catch{}finally{G.value=!1}},Fe=async(l,i)=>{ge.ultraProfile=!0,ut.profileName=i,ut.profileId=l},Xe=l=>({style:"cursor: pointer;",onClick:async i=>{try{if(!(i.target.className==="n-checkbox-box__border"||i.target.nodeName==="BUTTON"||i.target.nodeName==="svg"||i.target.nodeName==="INPUT"||i.target.className==="n-button__content"||i.target.className==="n-input__input-el"||i.target.className.includes("profile-name"))){const{data:{data:r}}=await Ce(l.id);B.value=r,w.value=!0}}catch{}}}),ne=q({id:"descend",name:"descend",created_at:"descend",updated_at:"descend",last_start:"descend",proxy:"descend"}),be=Se(()=>[{type:"selection"},...we.value.includes("id")?[{width:"10%",title:t("Page.Profiles.Label.ID"),key:"id",sorter:!0,sortOrder:ne.value.id,resizable:!0}]:[],...we.value.includes("name")?[{title:t("Page.Profiles.Label.Name"),resizable:!0,render(l){const{profile_data:{browser:i,name:r},filename:f,user_id:T,profile_permissions:N}=l,I=N?Object.values(N).flat().some(z=>z!==L.value.email):!1,n=()=>{R.editInline=l.id,R.newName=r,Ea(()=>{document.querySelector(".edit-inline-input input").focus()})},S=async()=>{try{const z=mt(R.newName);if(l.profile_data.name===z){R.editInline="",R.newName="";return}l.profile_data.name=z,R.newName="",R.editInline="";const{data:{data:te}}=await Ce(l.id);te.profile_data.name=z,await De(te,!!te.filename)}catch{l.profile_data.name=r}};return _("div",[...R.editInline===l.id?[_($e,{class:"edit-inline-input",value:R.newName,onInput:z=>{R.newName=z},onInputBlur:S})]:[_("div",{class:"flex items-center gap-4px profile-name",onClick:n},[_("img",{class:"mr-2 object-contain",src:i===Zt.CHROME?Ka:Wa,width:"24"}),_("span",r),(f&&T!==L.value.id||I)&&_(j,{class:"ml-auto",type:"users",size:16,color:"#55b3e6"})])]])},key:"name",sorter:!0,sortOrder:ne.value.name}]:[],...we.value.includes("platform")?[{width:"10%",title:t("Common.Label.Platform"),key:"platform",resizable:!0,render(l){const{platform:i}=l.profile_data;if(!i)return"-";const r=ea.find(f=>f.value);return _("div",{class:"flex gap-2"},[...r.icon?[_("img",{src:r.icon,width:"24"})]:[],r.label])}}]:[],...we.value.includes("tags")?[{title:t("Page.Profiles.Label.Tags"),key:"tags",resizable:!0,render(l){const i=async f=>{const T=ft(f);try{l.profile_data.tags=T;const{data:{data:N}}=await Ce(l.id);N.profile_data.tags=T,await De(N,!!N.filename)}catch{}finally{l.profile_data.tags=T}},r=(f,T)=>_(at,{closable:!0,round:!0,onClose:async()=>{try{l.profile_data.tags.splice(T,1);const{data:{data:N}}=await Ce(l.id);N.profile_data.tags=ft(l.profile_data.tags),await De(N,!!N.filename)}catch{}}},{default:()=>_(ia,{style:{maxWidth:"80px"}},{default:()=>f})});return l.profile_data.tags||(l.profile_data.tags=[]),_(Qa,{value:l.profile_data.tags,"on-update:value":i,"render-tag":r},{default:()=>"",trigger:(f,T)=>_(Oe,{class:"btn-tag",style:{display:"none"},size:"small",dashed:!0,disabled:T,onClick:f.activate},{icon:()=>_(j,{type:"add"},{default:()=>""})})})}}]:[],...we.value.includes("note")?[{title:t("Page.Profiles.Label.Note"),key:"note",resizable:!0,minWidth:200,render(l){async function i(T){try{await De(T,!!T.filename),l.profile_data.note=T.profile_data.note}catch{}}async function r(T){try{const{data:{data:N}}=await Ce(T.id);N.profile_data.note=T.profile_data.note,await i(N)}catch{}}const f=Tt(async T=>{l.profile_data.note=T,r(l)},500);return _($e,{"default-value":l.profile_data.note,"on-update:value":T=>{f(T)},placeholder:"Enter note",clearable:!0,style:{"--n-border":""}},{default:()=>""})}}]:[],...we.value.includes("profile_data.proxy.type")?[{width:"15%",title:t("Page.Profiles.Label.Proxy"),key:"proxy",resizable:!0,sorter:(l,i)=>{const r={Ready:1,Error:2,GenProxy:3,API:4,Without:5};return(We.value.size>0||Ge.value.size>0||Me.value.size>0)&&r[i.proxyStatus]-r[l.proxyStatus]},sortOrder:ne.value.proxy,render(l){var i;try{const r=Object.values(ht).find(f=>f.value===l.profile_data.proxy.type);if(We.value.has(l.id))return l.proxyStatus="Checking",_(Ye,{type:"warning",strong:!0},{default:()=>"Checking"});if(Ge.value.has(l.id))return l.proxyStatus="Error",_(Ye,{type:"error",strong:!0},{default:()=>"Proxy Error"});if(Me.value.has(l.id))return l.proxyStatus="Ready",_(Ot,{trigger:"hover",duration:250},{default:()=>{var T,N,I,n,S,z;return _("p",{},[_("span",{},"IP: "),_("span",{},((N=(T=l.profile_data.proxy)==null?void 0:T.proxyInfo)==null?void 0:N.ip)||""),_("br"),_("span",{},"Country: "),_("span",{},((n=(I=l.profile_data.proxy)==null?void 0:I.proxyInfo)==null?void 0:n.country)||""),_("br"),_("span",{},"Timezone: "),_("span",{class:"font-semibold",style:{color:"green"}},((z=(S=l.profile_data.proxy)==null?void 0:S.proxyInfo)==null?void 0:z.timezone)||"")])},trigger:()=>_(pe,{align:"baseline"},{default:()=>[_(Ye,{type:"success",strong:!0},{default:()=>"Ready"}),_(j,{type:"info",class:"mt-2"})]})});{const{genProxy:f,host:T,port:N}=l.profile_data.proxy;if(r.value===m.GEN_PROXY){const{country:I}=f,n=Array.from(new Set(It.concat(ta)));let S=null;return[Z.VINA_PROXY_V4,Z.VINA_PROXY_DATA_CENTER,Z.KENT_PROXY].includes(f.type)&&(S="vn"),f.type===Z.IMPORT?S=null:S=(i=n.find(te=>te.value===(I==null?void 0:I.toUpperCase())))==null?void 0:i.flag,l.proxyStatus="GenProxy",_("div",{class:"flex items-baseline gap-2"},{default:()=>[S?_(dt,{country:S}):_(j,{type:"globe",size:"24"}),_("small",{class:"self-center text-xs truncate"},`${T}:${N}`)]})}else{if(r.value===m.WITHOUT)return l.proxyStatus="Without",_("span",{},r.label);if([m.GEN_PROVIDER_PROXY,m.TM,m.TINSOFT,m.TIN,m.KIOT_PROXY,m.F_PROXY,m.WW_PROXY,m.NET_PROXY].includes(r.value))return l.proxyStatus="API",_("span",{},r.label)}return _("div",{class:"flex items-center gap-2"},{default:()=>[_(j,{type:"globe",size:"24"}),_("small",{class:"self-center text-xs truncate"},`${T}:${N}`)]})}}catch{return l.proxyStatus="Without",_("span",{},ht.WITHOUT.label)}}}]:[],...we.value.includes("updated_at")?[{width:"10%",title:t("Page.Profiles.Label.UpdatedAt"),key:"updated_at",resizable:!0,render(l){return g(l.updated_at)},sorter:!0,sortOrder:ne.value.updated_at}]:[],...we.value.includes("last_start")?[{width:"10%",title:t("Page.Profiles.Label.LastStart"),key:"last_start",resizable:!0,render(l){return l.last_start?g(l.last_start):"-"},sorter:!0,sortOrder:ne.value.last_start}]:[],...we.value.includes("status")?[{width:"8%",title:t("Page.Profiles.Label.Status"),key:"status",resizable:!0,render(l){const{status:i}=l;if(i===fe.READY)return _(at,{type:"success",bordered:!1},{default:()=>"Ready"});if(i===fe.RUNNING)return _(at,{type:"warning",bordered:!1},{default:()=>"Running"});if(i===fe.SYNCING)return _(at,{type:"info",bordered:!1},{default:()=>"Syncing"})}}]:[],{fixed:"right",width:"10%",title:()=>_(j,{class:"float-right cursor-pointer",type:"settings",onClick:()=>ge.columnSettings=!0}),render(l){const{id:i,status:r,profile_data:f}=l;return _("div",{class:"flex items-center justify-center gap-8px"},[(()=>{if(r===fe.READY)return _(Oe,{type:"primary",onClick:async()=>await oe(i),loading:_e.value.has(i),disabled:_e.value.has(i)},{default:()=>t("Common.Button.Start")});if(r===fe.RUNNING)return _(Oe,{type:"error",onClick:()=>xe(i),loading:_e.value.has(i),disabled:_e.value.has(i),ghost:!0},{default:()=>t("Common.Button.Stop")});if(r===fe.SYNCING)return _(Oe,{type:"success",loading:!0,disabled:!0,ghost:!0},{default:()=>t("Common.Button.Syncing")})})(),_(aa,{trigger:"hover",size:"large",dropDownActions:[{label:t("Page.Profiles.Actions.Edit"),key:"edit",icon:h(ua)},{label:t("Page.Profiles.Actions.Share"),key:"share",icon:h(pa)},{label:t("Page.Profiles.Actions.ExportCookies"),key:"exportCookies",icon:h(da)},{label:t("Page.Profiles.Actions.ChangeOwner"),key:"changeOwner",icon:h(bt)},{label:t("Page.Profiles.Actions.Clone"),key:"clone",icon:h(ca)},{label:t("Page.Profiles.Actions.CopyProxy"),key:"copyProxy",icon:h(fa)},{key:"divider",type:"divider"},{label:t("Page.Profiles.Actions.Delete"),key:"delete",icon:h(wt)}],onSelect:async N=>{switch(F.value=l,X.value=C,N){case"edit":await he(l);break;case"delete":ge.deleteProfile=!0;break;case"clone":b.value=[l.id],ge.cloneProfile=!0;break;case"changeOwner":b.value=[l.id],ge.changeOwnerProfiles=!0;break;case"copyProxy":Ne(l);break;case"share":b.value=[l.id],ge.shareProfiles=!0;break;case"exportCookies":Ae();break}}})])}}]),Re=Se(()=>[{label:t("Page.Profiles.Actions.CopyProxy"),key:"bulk.copyProxies",icon(){return _(ke,null,{default:()=>_(ot)})}},{label:t("Page.Profiles.Actions.CopyIds"),key:"bulk.copyIDs",icon(){return _(ke,null,{default:()=>_(ot)})}},{label:t("Page.Profiles.Actions.CopyNames"),key:"bulk.copyNames",icon(){return _(ke,null,{default:()=>_(ot)})}},{label:t("Page.Profiles.Actions.CopyIdNames"),key:"bulk.copyIdNames",icon(){return _(ke,null,{default:()=>_(ot)})}},{label:t("Page.Profiles.Actions.Export"),key:"bulk.export",icon(){return _(ke,null,{default:()=>_(no)})}},{label:t("Page.Profiles.Actions.ChangeOwner"),key:"bulk.changeOwner",icon(){return _(ke,null,{default:()=>_(bt)})}},{label:t("Page.Profiles.Actions.Delete"),icon(){return _(ke,{color:"red"},{default:()=>_(wt)})},key:"bulk.deleteProfiles"}]),ze=async()=>{const l=b.value.join(`
`);await navigator.clipboard.writeText(l),window.$message.success(t("Page.Profiles.Msg.IdsCopied"))},d=async()=>{const l=U.value.map(i=>`${i.id}|${i.name}`).join(`
`);await navigator.clipboard.writeText(l),window.$message.success(t("Page.Profiles.Msg.NamesCopied"))},c=async()=>{const l=U.value.map(i=>i.name).join(`
`);await navigator.clipboard.writeText(l),window.$message.success(t("Page.Profiles.Msg.NamesCopied"))},u=async()=>{const l=U.value.map(i=>{const{proxy:r}=i;if(![m.GEN_PROXY,m.WITHOUT].includes(r.type)){const{host:f,port:T,login:N,password:I,options:n}=r;let S=`${f}:${T}:${N}:${I}`;return[m.F_PROXY,m.TIN,m.TM,m.TINSOFT,m.KIOT_PROXY,m.GEN_PROVIDER_PROXY].includes(r.type)&&(S=n.apiKey),S}return""}).filter(Boolean).join(`
`);await navigator.clipboard.writeText(l),window.$message.success(t("Page.Profiles.Msg.ProxyCopied"))},Q=async()=>{try{const l=["ID","Name"],i=v.value.reduce((r,f)=>(b.value.includes(f.id)&&r.push({item:f.id,name:f.profile_data.name}),r),[]);await ga(i,l),window.$message.success(t("Page.Profiles.Msg.ProfilesExported"))}catch(l){window.$message.warning(`Profiles export failed! Please try again. [${l.toString()}]`)}};return{failedProxyProfiles:Ge,checkedProxyProfiles:Me,showModal:ge,ultraProfileState:ut,selectedRowKeys:b,selectedRow:B,selectedProfile:F,submiting:G,cachedProfileNames:U,selectedCachedProfileNames:V,profileColumns:be,sorter:ne,rowProps:Xe,startBulkProfiles:je,stopBulkProfiles:Ue,checkBulkProxyProfiles:de,newFingerprintProfiles:re,isDetail:w,handleDeleteProfile:Ve,handleExportCookies:Ae,bulkMoreActions:Re,handleSelectBulkMore:async l=>{switch(l){case"bulk.deleteProfiles":if(b.value.length>100){window.$message.warning(t("Page.Profiles.Msg.MaxiumDelete",{number:100}));return}ge.deleteProfiles=!0;break;case"bulk.changeOwner":ge.changeOwnerProfiles=!0;break;case"bulk.export":await Q();break;case"bulk.copyIDs":await ze();break;case"bulk.copyNames":await c();break;case"bulk.copyIdNames":await d();break;case"bulk.copyProxies":await u();break}},handleUltraProfile:Fe}},Ol={class:"flex gap-16px"},Nl={class:"flex items-center gap-16px my-16px flex-wrap"},Rl={class:"flex items-center gap-24px justify-end mt-16px"},El={key:0},$l=ye({__name:"ProfileTable",props:{profiles:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},pagination:{type:Object,default:()=>{}},onPageUpdate:{type:Function},onPageSizeUpdate:{type:Function},maxHeight:{type:[String,Number],default:"65vh"},groupId:{type:Number,default:null},isGroup:{type:Boolean,default:!1}},emits:["sortChange","groupUpdated","update:profiles"],setup(v,{emit:C}){const $=v,X=ue(()=>ie(()=>import("./ColumnSettingsModal-5d19d48c.js"),["./ColumnSettingsModal-5d19d48c.js","./Modal-0f4a5102.js","./main-8b08e1d6.js","./_plugin-vue_export-helper-b059e461.js","./lodash-6114c6d4.js","./axios-1e30d922.js","./xlsx-f5126985.js","./index-9b0004e2.css","./Divider-65f3d898.js","./Checkbox-ce86da58.js","./Grid-308f499b.js","./DataTable-e5054828.js","./RadioGroup-69a7fbba.js","./Radio-c980589e.js","./Suffix-fc59bb7a.js","./Select-f7c79767.js","./Pagination-ce77c3f3.js","./Input-96fa4693.js","./Alert-2eccd136.js","./Scrollbar-e90e60b7.js","./a-72358bba.js","./FormItem-52ed65a1.js","./Badge-93754219.js","./p-263c92a4.js","./Progress-0b0a0198.js","./uniqBy-ee48ba02.js","./_baseUniq-35fed69a.js","./firefox-icon-2ab5a045.js","./proxy-4c3e5ecd.js","./DynamicTags-09cba305.js","./InputSearch.vue_vue_type_script_setup_true_lang-d786940a.js","./CollapseItem-114ac5a0.js"],import.meta.url)),t=ue(()=>ie(()=>import("./DeleteProfilesModal-58aa55e5.js"),["./DeleteProfilesModal-58aa55e5.js","./main-8b08e1d6.js","./_plugin-vue_export-helper-b059e461.js","./lodash-6114c6d4.js","./axios-1e30d922.js","./xlsx-f5126985.js","./index-9b0004e2.css"],import.meta.url)),g=ue(()=>ie(()=>import("./ChangeProfilesOwnerModal-fe9d5802.js"),["./ChangeProfilesOwnerModal-fe9d5802.js","./main-8b08e1d6.js","./_plugin-vue_export-helper-b059e461.js","./lodash-6114c6d4.js","./axios-1e30d922.js","./xlsx-f5126985.js","./index-9b0004e2.css","./Modal-0f4a5102.js","./Divider-65f3d898.js","./Input-96fa4693.js","./Suffix-fc59bb7a.js"],import.meta.url)),E=ue(()=>ie(()=>import("./UpdateProfilesProxyModal-b743c677.js"),["./UpdateProfilesProxyModal-b743c677.js","./main-8b08e1d6.js","./_plugin-vue_export-helper-b059e461.js","./lodash-6114c6d4.js","./axios-1e30d922.js","./xlsx-f5126985.js","./index-9b0004e2.css","./index-35523669.js","./Scrollbar-e90e60b7.js","./Select-f7c79767.js","./Suffix-fc59bb7a.js","./FormItemGridItem-951b0746.js","./Grid-308f499b.js","./FormItem-52ed65a1.js","./Input-96fa4693.js","./Checkbox-ce86da58.js","./Pagination-ce77c3f3.js","./Progress-0b0a0198.js","./InputNumber-c85d5887.js","./Remove-be3cc84a.js","./a-72358bba.js"],import.meta.url)),L=ue(()=>ie(()=>import("./UpdatePatchProfilesModal-2011f378.js"),["./UpdatePatchProfilesModal-2011f378.js","./main-8b08e1d6.js","./_plugin-vue_export-helper-b059e461.js","./lodash-6114c6d4.js","./axios-1e30d922.js","./xlsx-f5126985.js","./index-9b0004e2.css","./firefox-icon-2ab5a045.js","./index-35523669.js","./Select-f7c79767.js","./Suffix-fc59bb7a.js","./FormItem-52ed65a1.js","./Grid-308f499b.js","./Input-96fa4693.js","./Checkbox-ce86da58.js","./Divider-65f3d898.js","./Scrollbar-e90e60b7.js","./UpdatePatchProfilesModal-3a94e478.css"],import.meta.url)),b=ue(()=>ie(()=>import("./StartWithAppModal-1aa59e7e.js"),["./StartWithAppModal-1aa59e7e.js","./_plugin-vue_export-helper-b059e461.js","./main-8b08e1d6.js","./lodash-6114c6d4.js","./axios-1e30d922.js","./xlsx-f5126985.js","./index-9b0004e2.css","./useMyApps-6a511b1e.js","./useScriptEditor-4173e447.js","./a-72358bba.js","./Select-f7c79767.js","./Suffix-fc59bb7a.js","./FormItem-52ed65a1.js","./InputNumber-c85d5887.js","./Input-96fa4693.js","./Remove-be3cc84a.js","./Checkbox-ce86da58.js","./Form-e484375f.js","./StartWithAppModal-9ef16fdd.css"],import.meta.url)),U=ue(()=>ie(()=>import("./ShareProfilesModal-9ec782e7.js"),["./ShareProfilesModal-9ec782e7.js","./main-8b08e1d6.js","./_plugin-vue_export-helper-b059e461.js","./lodash-6114c6d4.js","./axios-1e30d922.js","./xlsx-f5126985.js","./index-9b0004e2.css","./Modal-0f4a5102.js","./Divider-65f3d898.js","./Input-96fa4693.js","./Suffix-fc59bb7a.js","./Checkbox-ce86da58.js"],import.meta.url)),V=ue(()=>ie(()=>import("./AssignProfilesToGroupsModal-c97a81b0.js"),["./AssignProfilesToGroupsModal-c97a81b0.js","./main-8b08e1d6.js","./_plugin-vue_export-helper-b059e461.js","./lodash-6114c6d4.js","./axios-1e30d922.js","./xlsx-f5126985.js","./index-9b0004e2.css","./uniqBy-ee48ba02.js","./_baseUniq-35fed69a.js","./Select-f7c79767.js","./Suffix-fc59bb7a.js"],import.meta.url)),F=ue(()=>ie(()=>import("./ShareOnCloudModal-6f31550b.js"),["./ShareOnCloudModal-6f31550b.js","./main-8b08e1d6.js","./_plugin-vue_export-helper-b059e461.js","./lodash-6114c6d4.js","./axios-1e30d922.js","./xlsx-f5126985.js","./index-9b0004e2.css"],import.meta.url)),G=ue(()=>ie(()=>import("./UltraProfileModal-1e76d326.js"),["./UltraProfileModal-1e76d326.js","./main-8b08e1d6.js","./_plugin-vue_export-helper-b059e461.js","./lodash-6114c6d4.js","./axios-1e30d922.js","./xlsx-f5126985.js","./index-9b0004e2.css","./a-72358bba.js","./FormItem-52ed65a1.js","./Input-96fa4693.js","./Suffix-fc59bb7a.js","./InputGroup-20db4544.js","./DataTable-e5054828.js","./Checkbox-ce86da58.js","./RadioGroup-69a7fbba.js","./Radio-c980589e.js","./Select-f7c79767.js","./Pagination-ce77c3f3.js","./Alert-2eccd136.js","./Scrollbar-e90e60b7.js","./Divider-65f3d898.js","./Badge-93754219.js","./p-263c92a4.js","./Progress-0b0a0198.js","./uniqBy-ee48ba02.js","./_baseUniq-35fed69a.js","./firefox-icon-2ab5a045.js","./proxy-4c3e5ecd.js","./DynamicTags-09cba305.js","./InputSearch.vue_vue_type_script_setup_true_lang-d786940a.js","./CollapseItem-114ac5a0.js"],import.meta.url)),B=ue(()=>ie(()=>import("./CloneProfileModal-93137e7d.js"),["./CloneProfileModal-93137e7d.js","./main-8b08e1d6.js","./_plugin-vue_export-helper-b059e461.js","./lodash-6114c6d4.js","./axios-1e30d922.js","./xlsx-f5126985.js","./index-9b0004e2.css","./Modal-0f4a5102.js","./Divider-65f3d898.js","./InputNumber-c85d5887.js","./Input-96fa4693.js","./Suffix-fc59bb7a.js","./Remove-be3cc84a.js","./FormItem-52ed65a1.js"],import.meta.url)),A=ue(()=>ie(()=>import("./ModalConfirm-92ee844f.js"),["./ModalConfirm-92ee844f.js","./main-8b08e1d6.js","./_plugin-vue_export-helper-b059e461.js","./lodash-6114c6d4.js","./axios-1e30d922.js","./xlsx-f5126985.js","./index-9b0004e2.css","./Divider-65f3d898.js","./ModalConfirm-bf8879fe.css"],import.meta.url)),K=He(),{t:y}=Ie(),{profiles:w}=Ut($),{groupBulkId:R}=Je(),{showModal:h,profileColumns:M,selectedRowKeys:H,selectedCachedProfileNames:oe,selectedProfile:xe,submiting:he,sorter:Ne,startBulkProfiles:je,stopBulkProfiles:Ue,checkBulkProxyProfiles:de,newFingerprintProfiles:re,rowProps:Ve,handleDeleteProfile:Ae,bulkMoreActions:Fe,handleSelectBulkMore:Xe,isDetail:ne,selectedRow:be,checkedProxyProfiles:Re,failedProxyProfiles:ze}=Il(w,$.groupId),d=async()=>{H.value=[],await K.getAllProfiles(),C("groupUpdated")},c=async()=>{H.value=[],await K.getAllProfiles(),C("groupUpdated")},u=async()=>{await K.getAllProfiles();try{const{data:{data:I}}=await Ce(be.value.id);be.value=I,ne.value=!0}catch{}C("groupUpdated")},Q=I=>{const{order:n}=I,S=ft(w.value).sort((z,te)=>{const se=Re.value.has(z.id)?0:2,ee=Re.value.has(te.id)?0:2,J=ze.value.has(z.id)?1:2,ce=ze.value.has(te.id)?1:2;if(n==="ascend"){if(se!==ee)return se-ee}else if(J!==ce)return J-ce;return z.id-te.id});C("update:profiles",S)},W=I=>{if(Object.keys(Ne.value).forEach(n=>{I.order||(I.order="descend"),n===I.columnKey&&(Ne.value[n]=I.order)}),I.columnKey==="proxy")return Q(I);C("sortChange",I)},l=async()=>{try{he.value=!0;const I=mt(H.value);await xa($.groupId,{remove_profile_ids:I}),h.removeFromGroup=!1,H.value=[],window.$message.success(y("Page.Profiles.Msg.ProfileRemovedFromGroup")),C("groupUpdated")}catch{}finally{he.value=!1}},i=q(!1),r=I=>{i.value=I,h.shareOnCloud=!0},f=(I,n)=>{switch(R.value=$.groupId,I){case"start":je();break;case"stop":Ue();break;case"assign-to-group":h.assignProfilesToGroups=!0;break;case"share-profile":h.shareProfiles=!0;break;case"check-proxy":de();break;case"start-with-app":h.startWithApp=!0;break;case"update-proxy":h.updateProfilesProxy=!0;break;case"update-profile":h.updateProfiles=!0;break;case"share-on-cloud":r(!0);break;case"stop-share-on-cloud":r(!1);break;case"remove-from-group":h.removeFromGroup=!0;break;case"new-fingerprint":re();break;case"more":Xe(n);break}},T=async()=>{await Ae(),C("groupUpdated")},N=wa();return va(()=>{N.on(ba.UPDATE_PROFILE_STATUS,({id:I,status:n})=>{const S=w.value.findIndex(z=>z.id===I);S!==-1&&(w.value[S].status=n)})}),Be(async()=>{if(Re.value.clear(),ne.value){const I=await Ce(be.value.id);be.value=I.data.data}}),(I,n)=>{const S=Oe,z=ke,te=pt,se=ha,ee=Lt,J=Dt,ce=Ye;return k(),ae("div",Ol,[s("div",null,[$a(s("div",Nl,[a(S,{type:"primary",size:"medium",onClick:n[0]||(n[0]=x=>f("start"))},{default:o(()=>[a(j,{type:"play",class:"mr-8px",size:"16"}),s("div",null,P(e(y)("Page.Profiles.Actions.StartBulkProfiles",{number:e(H).length})),1)]),_:1}),a(S,{ghost:"",type:"error",size:"medium",onClick:n[1]||(n[1]=x=>f("stop"))},{default:o(()=>[a(j,{type:"stop",class:"mr-8px",size:"16"}),p(" "+P(e(y)("Page.Profiles.Actions.StopBulkProfiles",{number:e(H).length})),1)]),_:1}),a(S,{type:"primary",size:"medium",onClick:n[2]||(n[2]=x=>f("assign-to-group"))},{default:o(()=>[a(j,{type:"folder",class:"mr-8px",size:"16"}),s("div",null,P(e(y)("Page.Profiles.Actions.AssignToGroup")),1)]),_:1}),a(S,{type:"primary",size:"medium",onClick:n[3]||(n[3]=x=>f("share-profile"))},{default:o(()=>[a(j,{type:"affiliate",class:"mr-8px",size:"16"}),s("div",null,P(e(y)("Page.Profiles.Actions.ShareBulkProfiles")),1)]),_:1}),a(S,{type:"primary",size:"medium",onClick:n[4]||(n[4]=x=>f("check-proxy"))},{default:o(()=>[a(j,{type:"checkbox",class:"mr-8px",size:"16"}),s("div",null,P(e(y)("Page.Profiles.Actions.CheckBulkProxy")),1)]),_:1}),a(S,{type:"primary",size:"medium",onClick:n[5]||(n[5]=x=>f("start-with-app"))},{icon:o(()=>[a(j,{type:"automation"})]),default:o(()=>[s("div",null,P(e(y)("Page.Profiles.Actions.StartWithApp")),1)]),_:1}),a(S,{ghost:"",type:"primary",size:"medium",onClick:n[6]||(n[6]=x=>f("update-proxy"))},{default:o(()=>[a(j,{type:"refresh",class:"mr-8px",size:"16"}),s("div",null,P(e(y)("Page.Profiles.Actions.UpdateBulkProxy")),1)]),_:1}),a(S,{ghost:"",type:"primary",size:"medium",onClick:n[7]||(n[7]=x=>f("update-profile"))},{default:o(()=>[s("div",null,P(e(y)("Page.Profiles.Actions.UpdateBulkProfiles")),1)]),_:1}),a(S,{ghost:"",type:"primary",size:"medium",onClick:n[8]||(n[8]=x=>f("share-on-cloud"))},{icon:o(()=>[a(j,{type:"cloud"})]),default:o(()=>[s("div",null,P(e(y)("Page.Profiles.Actions.ShareOnCloud")),1)]),_:1}),a(S,{ghost:"",type:"error",size:"medium",onClick:n[9]||(n[9]=x=>f("stop-share-on-cloud"))},{icon:o(()=>[a(j,{type:"cloudOff"})]),default:o(()=>[s("div",null,P(e(y)("Page.Profiles.Actions.StopShareOnCloud")),1)]),_:1}),v.isGroup?(k(),D(S,{key:0,ghost:"",type:"primary",size:"medium",onClick:n[10]||(n[10]=x=>f("remove-from-group"))},{default:o(()=>[s("div",null,P(e(y)("Page.Profiles.Actions.RemoveFromGroup")),1)]),_:1})):Y("",!0),a(te,{onPositiveClick:n[11]||(n[11]=x=>f("new-fingerprint"))},{trigger:o(()=>[a(S,{ghost:"",type:"success"},{icon:o(()=>[a(z,null,{default:o(()=>[a(e(po))]),_:1})]),default:o(()=>[p(" "+P(I.$t("Common.Button.NewFingerprint")),1)]),_:1})]),default:o(()=>[p(" "+P(I.$t("Page.Profiles.Label.ConfirmNewFingerprint")),1)]),_:1}),a(se,{trigger:"hover",options:e(Fe),onSelect:n[12]||(n[12]=x=>f("more",x))},{default:o(()=>[a(S,{size:"small",ghost:"",text:""},{default:o(()=>[a(z,{size:"20"},{default:o(()=>[a(e(Pa))]),_:1})]),_:1})]),_:1},8,["options"])],512),[[Ua,e(H).length>0]]),a(ee,{"checked-row-keys":e(H),"onUpdate:checkedRowKeys":n[13]||(n[13]=x=>ve(H)?H.value=x:null),columns:e(M),data:e(w),loading:v.loading,"max-height":v.maxHeight,"virtual-scroll":"","row-key":x=>x.id,"row-props":e(Ve),class:"mt-16px",onUpdateSorter:W},null,8,["checked-row-keys","columns","data","loading","max-height","row-key","row-props"]),s("div",Rl,[s("div",null,"Profiles: "+P(e(w).length),1),a(J,{page:v.pagination.page,"page-size":v.pagination.limit,"item-count":v.pagination.total_items,"show-size-picker":"","page-sizes":[25,50,100,200,500,1e3],"on-update:page":v.onPageUpdate,"on-update:page-size":v.onPageSizeUpdate},null,8,["page","page-size","item-count","on-update:page","on-update:page-size"])]),e(R)===v.groupId?(k(),D(e(X),{key:0,show:e(h).columnSettings,"onUpdate:show":n[14]||(n[14]=x=>e(h).columnSettings=x)},null,8,["show"])):Y("",!0),e(R)===v.groupId?(k(),D(e(t),{key:1,show:e(h).deleteProfiles,"onUpdate:show":n[15]||(n[15]=x=>e(h).deleteProfiles=x),profiles:e(oe),ids:e(H),onSuccess:c},null,8,["show","profiles","ids"])):Y("",!0),e(R)===v.groupId?(k(),D(e(g),{key:2,show:e(h).changeOwnerProfiles,"onUpdate:show":n[16]||(n[16]=x=>e(h).changeOwnerProfiles=x),ids:e(H),onSuccess:d},null,8,["show","ids"])):Y("",!0),e(R)===v.groupId?(k(),D(e(E),{key:3,show:e(h).updateProfilesProxy,"onUpdate:show":n[17]||(n[17]=x=>e(h).updateProfilesProxy=x),profiles:e(oe),onSuccess:n[18]||(n[18]=x=>C("groupUpdated"))},null,8,["show","profiles"])):Y("",!0),e(R)===v.groupId?(k(),D(e(L),{key:4,show:e(h).updateProfiles,"onUpdate:show":n[19]||(n[19]=x=>e(h).updateProfiles=x),profiles:e(oe),onSuccess:n[20]||(n[20]=x=>C("groupUpdated"))},null,8,["show","profiles"])):Y("",!0),e(R)===v.groupId?(k(),D(e(F),{key:5,show:e(h).shareOnCloud,"onUpdate:show":n[21]||(n[21]=x=>e(h).shareOnCloud=x),ids:e(H),"share-on-cloud":e(i),onSuccess:n[22]||(n[22]=x=>C("groupUpdated"))},null,8,["show","ids","share-on-cloud"])):Y("",!0),e(R)===v.groupId?(k(),D(e(U),{key:6,show:e(h).shareProfiles,"onUpdate:show":n[23]||(n[23]=x=>e(h).shareProfiles=x),ids:e(H),onSuccess:n[24]||(n[24]=x=>C("groupUpdated"))},null,8,["show","ids"])):Y("",!0),e(R)===v.groupId?(k(),D(e(V),{key:7,"model-show":e(h).assignProfilesToGroups,"onUpdate:modelShow":n[25]||(n[25]=x=>e(h).assignProfilesToGroups=x),ids:e(H),onSuccess:n[26]||(n[26]=x=>C("groupUpdated"))},null,8,["model-show","ids"])):Y("",!0),e(R)===v.groupId?(k(),D(e(b),{key:8,show:e(h).startWithApp,"onUpdate:show":n[27]||(n[27]=x=>e(h).startWithApp=x),profiles:e(oe)},null,8,["show","profiles"])):Y("",!0),e(R)===v.groupId?(k(),D(e(G),{key:9,onClose:n[28]||(n[28]=x=>C("groupUpdated"))})):Y("",!0),e(R)===v.groupId?(k(),D(e(B),{key:10,show:e(h).cloneProfile,"onUpdate:show":n[29]||(n[29]=x=>e(h).cloneProfile=x),ids:e(H),onSuccess:n[30]||(n[30]=x=>C("groupUpdated"))},null,8,["show","ids"])):Y("",!0),e(R)===v.groupId?(k(),D(e(A),{key:11,type:"delete",icon:"trash",header:"Delete profile","is-show":e(h).deleteProfile,"cancel-label":"No, keep it","submit-label":"Yes, delete","action-submit":T,loading:e(he),onClose:n[31]||(n[31]=x=>e(h).deleteProfile=!1)},{body:o(()=>[a(ce,null,{default:o(()=>{var x,O;return[p(" Are you sure to delete "),s("strong",null,P((O=(x=e(xe))==null?void 0:x.profile_data)==null?void 0:O.name),1),p(" ? ")]}),_:1})]),_:1},8,["is-show","loading"])):Y("",!0),e(R)===v.groupId?(k(),D(e(A),{key:12,type:"delete",icon:"trash",header:"Remove profile from group","is-show":e(h).removeFromGroup,"cancel-label":"No, keep it","submit-label":"Yes, remove","action-submit":l,loading:e(he),onClose:n[32]||(n[32]=x=>e(h).removeFromGroup=!1)},{body:o(()=>[a(ce,null,{default:o(()=>[p(" Are you sure to remove from groups? ")]),_:1})]),_:1},8,["is-show","loading"])):Y("",!0)]),e(ne)?(k(),ae("div",El,[a(Sl,{data:e(be),onClose:n[33]||(n[33]=()=>{ne.value=!1}),onUpdated:u},null,8,["data"])])):Y("",!0)])}}});const st=lt($l,[["__scopeId","data-v-3c9e2591"]]),Ul=ye({__name:"Cloud",props:{activeTab:{type:String,default:"cloud"}},setup(v){const C=v,$=yt.CLOUD,{loading:X,profiles:t,defaultParams:g,pagination:E,getProfiles:L,debounceSearch:b,onPageUpdate:U,onPageSizeUpdate:V,onSortChange:F}=Pt($,gt(C,"activeTab")),{t:G}=Ie(),{route:B,previousRouteName:A}=qe(),K=async()=>{const{offset:y,limit:w}=g.value;await L({offset:y,limit:w})};return Pe(()=>C.activeTab,async y=>{y==="cloud"&&await K()},{immediate:!0}),Be(async()=>{(B.query.updated==="1"||A.value==="main.createProfile")&&(g.value.sort_by="updated_at",g.value.order="desc"),C.activeTab==="cloud"&&await K()}),(y,w)=>{const R=$e,h=pe;return k(),D(h,{vertical:""},{default:o(()=>[a(R,{value:e(g).search,"onUpdate:value":w[0]||(w[0]=M=>e(g).search=M),type:"text",placeholder:e(G)("Common.Label.Search"),clearable:"",class:"!w-auto","on-input":e(b),onKeyup:w[1]||(w[1]=vt(()=>e(L),["enter"]))},{prefix:o(()=>[a(j,{type:"search"})]),_:1},8,["value","placeholder","on-input"]),a(e(st),{profiles:e(t),"onUpdate:profiles":w[2]||(w[2]=M=>ve(t)?t.value=M:null),loading:e(X),pagination:e(E),"on-page-update":e(U),"on-page-size-update":e(V),onSortChange:e(F),onGroupUpdated:e(L)},null,8,["profiles","loading","pagination","on-page-update","on-page-size-update","onSortChange","onGroupUpdated"])]),_:1})}}}),Al=ye({__name:"Local",props:{activeTab:{type:String,default:"local"}},setup(v){const C=v,$=yt.OWNED_LOCAL,{loading:X,profiles:t,defaultParams:g,pagination:E,getProfiles:L,debounceSearch:b,onPageUpdate:U,onPageSizeUpdate:V,onSortChange:F}=Pt($,gt(C,"activeTab")),{t:G}=Ie(),{route:B,previousRouteName:A}=qe(),K=async()=>{const{offset:y,limit:w}=g.value;await L({offset:y,limit:w})};return Pe(()=>C.activeTab,async y=>{y==="local"&&await K()},{immediate:!0}),Be(async()=>{(B.query.updated==="1"||A.value==="main.createProfile")&&(g.value.sort_by="updated_at",g.value.order="desc"),C.activeTab==="local"&&await K()}),(y,w)=>{const R=$e,h=pe;return k(),D(h,{vertical:""},{default:o(()=>[a(R,{value:e(g).search,"onUpdate:value":w[0]||(w[0]=M=>e(g).search=M),type:"text",placeholder:e(G)("Common.Label.Search"),clearable:"",class:"!w-auto","on-input":e(b),onKeyup:w[1]||(w[1]=vt(()=>e(L),["enter"]))},{prefix:o(()=>[a(j,{type:"search"})]),_:1},8,["value","placeholder","on-input"]),a(e(st),{profiles:e(t),"onUpdate:profiles":w[2]||(w[2]=M=>ve(t)?t.value=M:null),loading:e(X),pagination:e(E),"on-page-update":e(U),"on-page-size-update":e(V),onSortChange:e(F),onGroupUpdated:e(L)},null,8,["profiles","loading","pagination","on-page-update","on-page-size-update","onSortChange","onGroupUpdated"])]),_:1})}}}),zl=ye({__name:"GroupModal",emits:["created"],setup(v,{emit:C}){const{t:$}=Ie(),{refreshRoute:X}=qe(),{showModal:t,selectedGroup:g,addGroup:E,updateGroup:L}=Je(),b=Qe({name:"",submit:!1});Pe(t,G=>{G&&g.value!==null?b.name=g.value.name:b.name=""});const U=()=>{b.name="",t.value=!1},V=async()=>{try{b.submit=!0,await E(b.name),window.$message.success($("Page.Profiles.Msg.GroupCreated")),U(),C("created")}catch{}finally{b.submit=!1}},F=async()=>{try{b.submit=!0,await L(g.value.id,b.name),g.value.name=b.name,window.$message.success($("Page.Profiles.Msg.GroupUpdated")),U(),X()}catch{}finally{b.submit=!1}};return(G,B)=>{const A=$e,K=Mt,y=Oe,w=pe,R=ka;return k(),D(R,{show:e(t),"onUpdate:show":B[1]||(B[1]=h=>ve(t)?t.value=h:null),"transform-origin":"center",preset:"dialog",title:e(g)===null?e($)("Page.Profiles.Label.AddGroup"):e($)("Page.Profiles.Label.UpdateGroup"),"mask-closable":!1,"on-close":U},{default:o(()=>[a(w,{vertical:""},{default:o(()=>[a(K,{"show-feedback":!1,label:e($)("Page.Profiles.Label.GroupName")},{default:o(()=>[a(A,{value:e(b).name,"onUpdate:value":B[0]||(B[0]=h=>e(b).name=h),autofocus:"",placeholder:""},null,8,["value"])]),_:1},8,["label"]),e(g)===null?(k(),D(y,{key:0,type:"primary",loading:e(b).submit,onClick:V},{default:o(()=>[p(P(e($)("Common.Button.Add")),1)]),_:1},8,["loading"])):(k(),D(y,{key:1,type:"success",loading:e(b).submit,onClick:F},{default:o(()=>[p(P(e($)("Common.Button.Update")),1)]),_:1},8,["loading"]))]),_:1})]),_:1},8,["show","title"])}}}),Ll=ye({__name:"GroupItem",props:{groupId:Number},setup(v){const C=v,{selectedGroup:$}=Je(),{loading:X,profiles:t,pagination:g,getProfiles:E,onPageUpdate:L,onPageSizeUpdate:b,onSortChange:U}=Xa(C.groupId);return Pe(()=>$.value,async V=>{(V==null?void 0:V.id)===C.groupId&&await E()},{immediate:!0}),(V,F)=>{var G;return k(),D(e(st),{id:`profile-table-${v.groupId}`,profiles:e(t),"onUpdate:profiles":F[0]||(F[0]=B=>ve(t)?t.value=B:null),"group-id":v.groupId,loading:((G=e($))==null?void 0:G.id)===v.groupId&&e(X),pagination:e(g),"on-page-update":e(L),"on-page-size-update":e(b),"max-height":"65vh","is-group":"",onSortChange:e(U),onGroupUpdated:e(E)},null,8,["id","profiles","group-id","loading","pagination","on-page-update","on-page-size-update","onSortChange","onGroupUpdated"])}}}),Gl={class:"flex items-center justify-between"},Ml={class:"flex items-center w-full justify-between"},Dl={class:"flex items-center"},Yl={class:"flex flex-col"},Bl={class:"flex"},jl={key:0,class:"flex items-center gap-24px justify-end mt-16px"},Vl=ye({__name:"Group",props:{activeTab:{type:String,default:"groups"}},setup(v){const C=v,{isDarkMode:$}=Te(_t()),{t:X}=Ie(),{perPageOptions:t}=Ca(),{showModal:g,groups:E,selectedGroup:L,defaultParams:b,pagination:U,getGroups:V,debounceSearchGroups:F,onPageUpdate:G,onPageSizeUpdate:B,handleDelete:A}=Je();return At(async()=>{C.activeTab==="groups"&&await V()}),Pe(()=>C.activeTab,async K=>{if(K==="groups"){const{offset:y,limit:w}=b.value;await V({offset:y,limit:w})}},{immediate:!0}),(K,y)=>{const w=Oe,R=Ye,h=Za,M=eo,H=Dt;return k(),ae(Ee,null,[s("div",Gl,[a(Ja,{value:e(b).search,"onUpdate:value":y[0]||(y[0]=oe=>e(b).search=oe),class:"!w-auto mb-24px",placeholder:e(X)("Common.Label.Search"),clearable:"","on-input":e(F)},null,8,["value","placeholder","on-input"]),a(w,{type:"primary",style:{color:"#fff !important"},class:"mb-2",onClick:y[1]||(y[1]=()=>{g.value=!0,L.value=null})},{default:o(()=>[p(P(e(X)("Page.Profiles.Actions.NewGroup")),1)]),_:1})]),(k(!0),ae(Ee,null,Aa(e(E),(oe,xe)=>(k(),D(M,{key:xe,style:zt({"--border-color":e($)?"rgba(228, 230, 232, 0.20)":" #EFF2F5"}),"arrow-placement":"right",class:"mb-16px collapse-item",onItemHeaderClick:he=>L.value=oe},{"header-extra":o(()=>[s("div",Ml,[s("div",Dl,[a(j,{type:"folder",color:"#5671FF",class:"mr-16px folder-icon",size:"24"}),s("div",Yl,[a(R,{class:"font-semibold text-lg"},{default:o(()=>[p(P(oe.name),1)]),_:2},1024)])]),s("div",Bl,[a(j,{type:"trash",class:"mr-16px icon-delete z-20",size:"24",onClick:()=>{e(A)(oe.id)}},null,8,["onClick"]),a(j,{type:"edit",class:"mr-16px icon-delete z-10",size:"24",onClick:()=>{g.value=!0,L.value=oe}},null,8,["onClick"])])])]),default:o(()=>[a(h,null,{default:o(()=>[a(Ll,{"group-id":oe.id},null,8,["group-id"])]),_:2},1024)]),_:2},1032,["style","onItemHeaderClick"]))),128)),e(U)?(k(),ae("div",jl,[s("div",null,P(e(X)("Common.Label.Total"))+": "+P(e(U).total_items),1),a(H,{page:e(U).page,"page-size":e(U).limit,"item-count":e(U).total_items,"show-size-picker":"","page-sizes":e(t),"on-update:page":e(G),"on-update:page-size":e(B)},null,8,["page","page-size","item-count","page-sizes","on-update:page","on-update:page-size"])])):Y("",!0),a(zl,{onCreated:e(V)},null,8,["onCreated"])],64)}}});const Fl=lt(Vl,[["__scopeId","data-v-d3cf85bb"]]),Xl=ye({__name:"Team",props:{activeTab:{type:String,default:"team"}},setup(v){const C=v,$=yt.SUB_ACCOUNT,{loading:X,profiles:t,defaultParams:g,pagination:E,getProfiles:L,debounceSearch:b,onPageUpdate:U,onPageSizeUpdate:V,onSortChange:F}=Pt($,gt(C,"activeTab")),{t:G}=Ie(),{route:B,previousRouteName:A}=qe(),K=async()=>{const{offset:y,limit:w}=g.value;await L({offset:y,limit:w})};return Pe(()=>C.activeTab,async y=>{y==="team"&&await K()},{immediate:!0}),Be(async()=>{(B.query.updated==="1"||A.value==="main.createProfile")&&(g.value.sort_by="updated_at",g.value.order="desc"),C.activeTab==="team"&&await K()}),(y,w)=>{const R=$e,h=pe;return k(),D(h,{vertical:""},{default:o(()=>[a(R,{value:e(g).search,"onUpdate:value":w[0]||(w[0]=M=>e(g).search=M),type:"text",placeholder:e(G)("Common.Label.Search"),clearable:"",class:"!w-auto","on-input":e(b),onKeyup:w[1]||(w[1]=vt(()=>e(L),["enter"]))},{prefix:o(()=>[a(j,{type:"search"})]),_:1},8,["value","placeholder","on-input"]),a(e(st),{profiles:e(t),"onUpdate:profiles":w[2]||(w[2]=M=>ve(t)?t.value=M:null),loading:e(X),pagination:e(E),"on-page-update":e(U),"on-page-size-update":e(V),onSortChange:e(F),onGroupUpdated:e(L)},null,8,["profiles","loading","pagination","on-page-update","on-page-size-update","onSortChange","onGroupUpdated"])]),_:1})}}}),Kl={class:"flex items-center gap-8px pt-8px pb-16px"},Wl={class:"profile-number"},Hl={class:"flex items-center gap-8px pt-8px pb-16px"},ql={class:"profile-number"},Ql={class:"flex items-center gap-8px pt-8px pb-16px"},Jl={class:"profile-number"},Zl={class:"flex items-center gap-8px pt-8px pb-16px"},es={class:"profile-number"},ts=ye({__name:"Profiles",setup(v){const C=Ta(),{t:$,locale:X}=Ie(),{userInfo:t}=Te(He()),{currentNoti:g}=Te(Sa()),E=Se(()=>{var K,y,w;if(!g.value)return null;if((w=g.value.plan_ids)!=null&&w.includes((y=(K=t.value)==null?void 0:K.plan)==null?void 0:y.id))return g.value.content[X.value]||g.value.content.en||null}),{disableCloudFeature:L}=Te(He()),{lastProfileType:b}=$t(),{isDarkMode:U}=Te(_t()),{totalCloud:V,totalGroup:F,totalLocal:G,totalTeam:B}=Te(C),A=Ia("active-profile-table-tab","cloud");return Be(()=>{b.value==="local"?(A.value="local",b.value=""):b.value==="cloud"&&(A.value="cloud",b.value=""),C.getTotalProfiles()}),Pe(A,()=>{C.getTotalProfiles(A.value)}),(K,y)=>{const w=Gt,R=Nt,h=Rt;return k(),ae(Ee,null,[e(E)?(k(),D(w,{key:0,type:"warning",closable:""},{default:o(()=>[p(P(e(E)),1)]),_:1})):Y("",!0),a(h,{value:e(A),"onUpdate:value":y[0]||(y[0]=M=>ve(A)?A.value=M:null),style:zt({"--number-bg-color":e(U)?"#262626":"#F0F0F0"})},{default:o(()=>[e(L)?Y("",!0):(k(),D(R,{key:0,name:"cloud"},{tab:o(()=>[s("div",Kl,[s("div",Wl,P(e(V)),1),a(j,{type:"cloud",size:"20"}),s("span",null,P(e($)("Page.Profiles.Tabs.Cloud")),1)])]),default:o(()=>[a(Ul,{"active-tab":e(A)},null,8,["active-tab"])]),_:1})),a(R,{name:"local"},{tab:o(()=>[s("div",Hl,[s("div",ql,P(e(G)),1),a(j,{type:"cloudOff",size:"20"}),s("span",null,P(e($)("Page.Profiles.Tabs.Local")),1)])]),default:o(()=>[a(Al,{"active-tab":e(A)},null,8,["active-tab"])]),_:1}),a(R,{name:"groups"},{tab:o(()=>[s("div",Ql,[s("div",Jl,P(e(F)),1),a(j,{type:"folder",size:"20"}),s("span",null,P(e($)("Page.Profiles.Tabs.Group")),1)])]),default:o(()=>[a(Fl,{"active-tab":e(A)},null,8,["active-tab"])]),_:1}),e(L)?Y("",!0):(k(),D(R,{key:1,name:"team"},{tab:o(()=>[s("div",Zl,[s("div",es,P(e(B)),1),a(j,{type:"users",size:"20"}),s("span",null,P(e($)("Page.Profiles.Tabs.Team")),1)])]),default:o(()=>[a(Xl,{"active-tab":e(A)},null,8,["active-tab"])]),_:1}))]),_:1},8,["value","style"])],64)}}});const as=lt(ts,[["__scopeId","data-v-ccf210c5"]]),Cs=Object.freeze(Object.defineProperty({__proto__:null,default:as},Symbol.toStringTag,{value:"Module"}));export{Cs as i,kt as p,Il as u};
