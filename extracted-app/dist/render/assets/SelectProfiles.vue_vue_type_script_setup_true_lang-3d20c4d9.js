import{d as Ce,h as L,a4 as kn,r as on,n as bt,b as oe,M as _t,S as F,U as z,V as E,$ as N,u as p,D as x,Y as M,E as H,F as ge,ad as Ae,ae as Ie,a1 as Qe,m as Ze,c as lt,q as Sn,O as an,X as he,P as Bt,B as Dn,a2 as je,a8 as Tn,f as In,ag as An}from"./_plugin-vue_export-helper-b059e461.js";import{a2 as Fe,aq as Fn,a7 as Ke,aQ as Re,aR as q,a$ as ke,ao as On,aY as Pn,aL as Nn,b2 as Ue,ah as Y,aA as Je,cc as rn,am as Rt,bu as Mn,a3 as $n,aZ as Ln,bU as Bn}from"./main-8b08e1d6.js";import{a as et,b as Rn,u as ln}from"./FormMakingResult-fec35bca.js";import{_ as Un}from"./DatePicker-91499e1f.js";import{_ as $e}from"./Input-96fa4693.js";import{_ as sn}from"./Select-f7c79767.js";import jn from"./ModalConfirm-92ee844f.js";import{_ as Ut}from"./Divider-65f3d898.js";import{u as zn}from"./useSelectProfiles-b9438807.js";import{_ as Vn}from"./Pagination-ce77c3f3.js";/*!
  * vue-draggable-next v2.2.0
  * (c) 2023 Anish George
  * @license MIT
  *//**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Ht(n,e){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),o.push.apply(o,t)}return o}function ve(n){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?Ht(Object(o),!0).forEach(function(t){Yn(n,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ht(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function st(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?st=function(e){return typeof e}:st=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(n)}function Yn(n,e,o){return e in n?Object.defineProperty(n,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[e]=o,n}function ye(){return ye=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(n[t]=o[t])}return n},ye.apply(this,arguments)}function Xn(n,e){if(n==null)return{};var o={},t=Object.keys(n),a,i;for(i=0;i<t.length;i++)a=t[i],!(e.indexOf(a)>=0)&&(o[a]=n[a]);return o}function Hn(n,e){if(n==null)return{};var o=Xn(n,e),t,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)t=i[a],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}var Gn="1.14.0";function _e(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var be=_e(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),tt=_e(/Edge/i),Gt=_e(/firefox/i),Xe=_e(/safari/i)&&!_e(/chrome/i)&&!_e(/android/i),cn=_e(/iP(ad|od|hone)/i),Wn=_e(/chrome/i)&&_e(/android/i),un={capture:!1,passive:!1};function P(n,e,o){n.addEventListener(e,o,!be&&un)}function A(n,e,o){n.removeEventListener(e,o,!be&&un)}function pt(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function qn(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function pe(n,e,o,t){if(n){o=o||document;do{if(e!=null&&(e[0]===">"?n.parentNode===o&&pt(n,e):pt(n,e))||t&&n===o)return n;if(n===o)break}while(n=qn(n))}return null}var Wt=/\s+/g;function re(n,e,o){if(n&&e)if(n.classList)n.classList[o?"add":"remove"](e);else{var t=(" "+n.className+" ").replace(Wt," ").replace(" "+e+" "," ");n.className=(t+(o?" "+e:"")).replace(Wt," ")}}function y(n,e,o){var t=n&&n.style;if(t){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(o=n.currentStyle),e===void 0?o:o[e];!(e in t)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),t[e]=o+(typeof o=="string"?"":"px")}}function Le(n,e){var o="";if(typeof n=="string")o=n;else do{var t=y(n,"transform");t&&t!=="none"&&(o=t+" "+o)}while(!e&&(n=n.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(o)}function dn(n,e,o){if(n){var t=n.getElementsByTagName(e),a=0,i=t.length;if(o)for(;a<i;a++)o(t[a],a);return t}return[]}function me(){var n=document.scrollingElement;return n||document.documentElement}function X(n,e,o,t,a){if(!(!n.getBoundingClientRect&&n!==window)){var i,r,l,s,c,m,f;if(n!==window&&n.parentNode&&n!==me()?(i=n.getBoundingClientRect(),r=i.top,l=i.left,s=i.bottom,c=i.right,m=i.height,f=i.width):(r=0,l=0,s=window.innerHeight,c=window.innerWidth,m=window.innerHeight,f=window.innerWidth),(e||o)&&n!==window&&(a=a||n.parentNode,!be))do if(a&&a.getBoundingClientRect&&(y(a,"transform")!=="none"||o&&y(a,"position")!=="static")){var u=a.getBoundingClientRect();r-=u.top+parseInt(y(a,"border-top-width")),l-=u.left+parseInt(y(a,"border-left-width")),s=r+i.height,c=l+i.width;break}while(a=a.parentNode);if(t&&n!==window){var d=Le(a||n),g=d&&d.a,v=d&&d.d;d&&(r/=v,l/=g,f/=g,m/=v,s=r+m,c=l+f)}return{top:r,left:l,bottom:s,right:c,width:f,height:m}}}function qt(n,e,o){for(var t=Ee(n,!0),a=X(n)[e];t;){var i=X(t)[o],r=void 0;if(o==="top"||o==="left"?r=a>=i:r=a<=i,!r)return t;if(t===me())break;t=Ee(t,!1)}return!1}function Be(n,e,o,t){for(var a=0,i=0,r=n.children;i<r.length;){if(r[i].style.display!=="none"&&r[i]!==b.ghost&&(t||r[i]!==b.dragged)&&pe(r[i],o.draggable,n,!1)){if(a===e)return r[i];a++}i++}return null}function jt(n,e){for(var o=n.lastElementChild;o&&(o===b.ghost||y(o,"display")==="none"||e&&!pt(o,e));)o=o.previousElementSibling;return o||null}function ce(n,e){var o=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==b.clone&&(!e||pt(n,e))&&o++;return o}function Kt(n){var e=0,o=0,t=me();if(n)do{var a=Le(n),i=a.a,r=a.d;e+=n.scrollLeft*i,o+=n.scrollTop*r}while(n!==t&&(n=n.parentNode));return[e,o]}function Kn(n,e){for(var o in n)if(n.hasOwnProperty(o)){for(var t in e)if(e.hasOwnProperty(t)&&e[t]===n[o][t])return Number(o)}return-1}function Ee(n,e){if(!n||!n.getBoundingClientRect)return me();var o=n,t=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var a=y(o);if(o.clientWidth<o.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return me();if(t||e)return o;t=!0}}while(o=o.parentNode);return me()}function Qn(n,e){if(n&&e)for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);return n}function xt(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var He;function fn(n,e){return function(){if(!He){var o=arguments,t=this;o.length===1?n.call(t,o[0]):n.apply(t,o),He=setTimeout(function(){He=void 0},e)}}}function Zn(){clearTimeout(He),He=void 0}function pn(n,e,o){n.scrollLeft+=e,n.scrollTop+=o}function hn(n){var e=window.Polymer,o=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):o?o(n).clone(!0)[0]:n.cloneNode(!0)}var se="Sortable"+new Date().getTime();function Jn(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var t=[].slice.call(this.el.children);t.forEach(function(a){if(!(y(a,"display")==="none"||a===b.ghost)){n.push({target:a,rect:X(a)});var i=ve({},n[n.length-1].rect);if(a.thisAnimationDuration){var r=Le(a,!0);r&&(i.top-=r.f,i.left-=r.e)}a.fromRect=i}})}},addAnimationState:function(t){n.push(t)},removeAnimationState:function(t){n.splice(Kn(n,{target:t}),1)},animateAll:function(t){var a=this;if(!this.options.animation){clearTimeout(e),typeof t=="function"&&t();return}var i=!1,r=0;n.forEach(function(l){var s=0,c=l.target,m=c.fromRect,f=X(c),u=c.prevFromRect,d=c.prevToRect,g=l.rect,v=Le(c,!0);v&&(f.top-=v.f,f.left-=v.e),c.toRect=f,c.thisAnimationDuration&&xt(u,f)&&!xt(m,f)&&(g.top-f.top)/(g.left-f.left)===(m.top-f.top)/(m.left-f.left)&&(s=to(g,u,d,a.options)),xt(f,m)||(c.prevFromRect=m,c.prevToRect=f,s||(s=a.options.animation),a.animate(c,g,f,s)),s&&(i=!0,r=Math.max(r,s),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},s),c.thisAnimationDuration=s)}),clearTimeout(e),i?e=setTimeout(function(){typeof t=="function"&&t()},r):typeof t=="function"&&t(),n=[]},animate:function(t,a,i,r){if(r){y(t,"transition",""),y(t,"transform","");var l=Le(this.el),s=l&&l.a,c=l&&l.d,m=(a.left-i.left)/(s||1),f=(a.top-i.top)/(c||1);t.animatingX=!!m,t.animatingY=!!f,y(t,"transform","translate3d("+m+"px,"+f+"px,0)"),this.forRepaintDummy=eo(t),y(t,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),y(t,"transform","translate3d(0,0,0)"),typeof t.animated=="number"&&clearTimeout(t.animated),t.animated=setTimeout(function(){y(t,"transition",""),y(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},r)}}}}function eo(n){return n.offsetWidth}function to(n,e,o,t){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))*t.animation}var Oe=[],wt={initializeByDefault:!0},nt={mount:function(e){for(var o in wt)wt.hasOwnProperty(o)&&!(o in e)&&(e[o]=wt[o]);Oe.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Oe.push(e)},pluginEvent:function(e,o,t){var a=this;this.eventCanceled=!1,t.cancel=function(){a.eventCanceled=!0};var i=e+"Global";Oe.forEach(function(r){o[r.pluginName]&&(o[r.pluginName][i]&&o[r.pluginName][i](ve({sortable:o},t)),o.options[r.pluginName]&&o[r.pluginName][e]&&o[r.pluginName][e](ve({sortable:o},t)))})},initializePlugins:function(e,o,t,a){Oe.forEach(function(l){var s=l.pluginName;if(!(!e.options[s]&&!l.initializeByDefault)){var c=new l(e,o,e.options);c.sortable=e,c.options=e.options,e[s]=c,ye(t,c.defaults)}});for(var i in e.options)if(e.options.hasOwnProperty(i)){var r=this.modifyOption(e,i,e.options[i]);typeof r<"u"&&(e.options[i]=r)}},getEventProperties:function(e,o){var t={};return Oe.forEach(function(a){typeof a.eventProperties=="function"&&ye(t,a.eventProperties.call(o[a.pluginName],e))}),t},modifyOption:function(e,o,t){var a;return Oe.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[o]=="function"&&(a=i.optionListeners[o].call(e[i.pluginName],t))}),a}};function no(n){var e=n.sortable,o=n.rootEl,t=n.name,a=n.targetEl,i=n.cloneEl,r=n.toEl,l=n.fromEl,s=n.oldIndex,c=n.newIndex,m=n.oldDraggableIndex,f=n.newDraggableIndex,u=n.originalEvent,d=n.putSortable,g=n.extraEventProperties;if(e=e||o&&o[se],!!e){var v,T=e.options,S="on"+t.charAt(0).toUpperCase()+t.substr(1);window.CustomEvent&&!be&&!tt?v=new CustomEvent(t,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(t,!0,!0)),v.to=r||o,v.from=l||o,v.item=a||o,v.clone=i,v.oldIndex=s,v.newIndex=c,v.oldDraggableIndex=m,v.newDraggableIndex=f,v.originalEvent=u,v.pullMode=d?d.lastPutMode:void 0;var C=ve(ve({},g),nt.getEventProperties(t,e));for(var O in C)v[O]=C[O];o&&o.dispatchEvent(v),T[S]&&T[S].call(e,v)}}var oo=["evt"],ne=function(e,o){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=t.evt,i=Hn(t,oo);nt.pluginEvent.bind(b)(e,o,ve({dragEl:h,parentEl:U,ghostEl:k,rootEl:B,nextEl:Te,lastDownEl:ct,cloneEl:j,cloneHidden:we,dragStarted:ze,putSortable:W,activeSortable:b.active,originalEvent:a,oldIndex:Me,oldDraggableIndex:Ge,newIndex:le,newDraggableIndex:xe,hideGhostForTarget:_n,unhideGhostForTarget:yn,cloneNowHidden:function(){we=!0},cloneNowShown:function(){we=!1},dispatchSortableEvent:function(l){J({sortable:o,name:l,originalEvent:a})}},i))};function J(n){no(ve({putSortable:W,cloneEl:j,targetEl:h,rootEl:B,oldIndex:Me,oldDraggableIndex:Ge,newIndex:le,newDraggableIndex:xe},n))}var h,U,k,B,Te,ct,j,we,Me,le,Ge,xe,ot,W,Ne=!1,ht=!1,gt=[],Se,de,Et,Ct,Qt,Zt,ze,Pe,We,qe=!1,at=!1,ut,Q,kt=[],Ot=!1,mt=[],yt=typeof document<"u",it=cn,Jt=tt||be?"cssFloat":"float",ao=yt&&!Wn&&!cn&&"draggable"in document.createElement("div"),gn=function(){if(yt){if(be)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),mn=function(e,o){var t=y(e),a=parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)-parseInt(t.borderLeftWidth)-parseInt(t.borderRightWidth),i=Be(e,0,o),r=Be(e,1,o),l=i&&y(i),s=r&&y(r),c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+X(i).width,m=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+X(r).width;if(t.display==="flex")return t.flexDirection==="column"||t.flexDirection==="column-reverse"?"vertical":"horizontal";if(t.display==="grid")return t.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&l.float&&l.float!=="none"){var f=l.float==="left"?"left":"right";return r&&(s.clear==="both"||s.clear===f)?"vertical":"horizontal"}return i&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||c>=a&&t[Jt]==="none"||r&&t[Jt]==="none"&&c+m>a)?"vertical":"horizontal"},io=function(e,o,t){var a=t?e.left:e.top,i=t?e.right:e.bottom,r=t?e.width:e.height,l=t?o.left:o.top,s=t?o.right:o.bottom,c=t?o.width:o.height;return a===l||i===s||a+r/2===l+c/2},ro=function(e,o){var t;return gt.some(function(a){var i=a[se].options.emptyInsertThreshold;if(!(!i||jt(a))){var r=X(a),l=e>=r.left-i&&e<=r.right+i,s=o>=r.top-i&&o<=r.bottom+i;if(l&&s)return t=a}}),t},vn=function(e){function o(i,r){return function(l,s,c,m){var f=l.options.group.name&&s.options.group.name&&l.options.group.name===s.options.group.name;if(i==null&&(r||f))return!0;if(i==null||i===!1)return!1;if(r&&i==="clone")return i;if(typeof i=="function")return o(i(l,s,c,m),r)(l,s,c,m);var u=(r?l:s).options.group.name;return i===!0||typeof i=="string"&&i===u||i.join&&i.indexOf(u)>-1}}var t={},a=e.group;(!a||st(a)!="object")&&(a={name:a}),t.name=a.name,t.checkPull=o(a.pull,!0),t.checkPut=o(a.put),t.revertClone=a.revertClone,e.group=t},_n=function(){!gn&&k&&y(k,"display","none")},yn=function(){!gn&&k&&y(k,"display","")};yt&&document.addEventListener("click",function(n){if(ht)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),ht=!1,!1},!0);var De=function(e){if(h){e=e.touches?e.touches[0]:e;var o=ro(e.clientX,e.clientY);if(o){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);t.target=t.rootEl=o,t.preventDefault=void 0,t.stopPropagation=void 0,o[se]._onDragOver(t)}}},lo=function(e){h&&h.parentNode[se]._isOutsideThisEl(e.target)};function b(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=ye({},e),n[se]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return mn(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,l){r.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:b.supportPointer!==!1&&"PointerEvent"in window&&!Xe,emptyInsertThreshold:5};nt.initializePlugins(this,n,o);for(var t in o)!(t in e)&&(e[t]=o[t]);vn(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:ao,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?P(n,"pointerdown",this._onTapStart):(P(n,"mousedown",this._onTapStart),P(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(P(n,"dragover",this),P(n,"dragenter",this)),gt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ye(this,Jn())}b.prototype={constructor:b,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Pe=null)},_getDirection:function(e,o){return typeof this.options.direction=="function"?this.options.direction.call(this,e,o,h):this.options.direction},_onTapStart:function(e){if(e.cancelable){var o=this,t=this.el,a=this.options,i=a.preventOnFilter,r=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(l||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,m=a.filter;if(mo(t),!h&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||a.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&Xe&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=pe(s,a.draggable,t,!1),!(s&&s.animated)&&ct!==s)){if(Me=ce(s),Ge=ce(s,a.draggable),typeof m=="function"){if(m.call(this,e,s,this)){J({sortable:o,rootEl:c,name:"filter",targetEl:s,toEl:t,fromEl:t}),ne("filter",o,{evt:e}),i&&e.cancelable&&e.preventDefault();return}}else if(m&&(m=m.split(",").some(function(f){if(f=pe(c,f.trim(),t,!1),f)return J({sortable:o,rootEl:f,name:"filter",targetEl:s,fromEl:t,toEl:t}),ne("filter",o,{evt:e}),!0}),m)){i&&e.cancelable&&e.preventDefault();return}a.handle&&!pe(c,a.handle,t,!1)||this._prepareDragStart(e,l,s)}}},_prepareDragStart:function(e,o,t){var a=this,i=a.el,r=a.options,l=i.ownerDocument,s;if(t&&!h&&t.parentNode===i){var c=X(t);if(B=i,h=t,U=h.parentNode,Te=h.nextSibling,ct=t,ot=r.group,b.dragged=h,Se={target:h,clientX:(o||e).clientX,clientY:(o||e).clientY},Qt=Se.clientX-c.left,Zt=Se.clientY-c.top,this._lastX=(o||e).clientX,this._lastY=(o||e).clientY,h.style["will-change"]="all",s=function(){if(ne("delayEnded",a,{evt:e}),b.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Gt&&a.nativeDraggable&&(h.draggable=!0),a._triggerDragStart(e,o),J({sortable:a,name:"choose",originalEvent:e}),re(h,r.chosenClass,!0)},r.ignore.split(",").forEach(function(m){dn(h,m.trim(),St)}),P(l,"dragover",De),P(l,"mousemove",De),P(l,"touchmove",De),P(l,"mouseup",a._onDrop),P(l,"touchend",a._onDrop),P(l,"touchcancel",a._onDrop),Gt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,h.draggable=!0),ne("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(tt||be))){if(b.eventCanceled){this._onDrop();return}P(l,"mouseup",a._disableDelayedDrag),P(l,"touchend",a._disableDelayedDrag),P(l,"touchcancel",a._disableDelayedDrag),P(l,"mousemove",a._delayedDragTouchMoveHandler),P(l,"touchmove",a._delayedDragTouchMoveHandler),r.supportPointer&&P(l,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(s,r.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){h&&St(h),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;A(e,"mouseup",this._disableDelayedDrag),A(e,"touchend",this._disableDelayedDrag),A(e,"touchcancel",this._disableDelayedDrag),A(e,"mousemove",this._delayedDragTouchMoveHandler),A(e,"touchmove",this._delayedDragTouchMoveHandler),A(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,o){o=o||e.pointerType=="touch"&&e,!this.nativeDraggable||o?this.options.supportPointer?P(document,"pointermove",this._onTouchMove):o?P(document,"touchmove",this._onTouchMove):P(document,"mousemove",this._onTouchMove):(P(h,"dragend",this),P(B,"dragstart",this._onDragStart));try{document.selection?dt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,o){if(Ne=!1,B&&h){ne("dragStarted",this,{evt:o}),this.nativeDraggable&&P(document,"dragover",lo);var t=this.options;!e&&re(h,t.dragClass,!1),re(h,t.ghostClass,!0),b.active=this,e&&this._appendGhost(),J({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(de){this._lastX=de.clientX,this._lastY=de.clientY,_n();for(var e=document.elementFromPoint(de.clientX,de.clientY),o=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(de.clientX,de.clientY),e!==o);)o=e;if(h.parentNode[se]._isOutsideThisEl(e),o)do{if(o[se]){var t=void 0;if(t=o[se]._onDragOver({clientX:de.clientX,clientY:de.clientY,target:e,rootEl:o}),t&&!this.options.dragoverBubble)break}e=o}while(o=o.parentNode);yn()}},_onTouchMove:function(e){if(Se){var o=this.options,t=o.fallbackTolerance,a=o.fallbackOffset,i=e.touches?e.touches[0]:e,r=k&&Le(k,!0),l=k&&r&&r.a,s=k&&r&&r.d,c=it&&Q&&Kt(Q),m=(i.clientX-Se.clientX+a.x)/(l||1)+(c?c[0]-kt[0]:0)/(l||1),f=(i.clientY-Se.clientY+a.y)/(s||1)+(c?c[1]-kt[1]:0)/(s||1);if(!b.active&&!Ne){if(t&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<t)return;this._onDragStart(e,!0)}if(k){r?(r.e+=m-(Et||0),r.f+=f-(Ct||0)):r={a:1,b:0,c:0,d:1,e:m,f};var u="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");y(k,"webkitTransform",u),y(k,"mozTransform",u),y(k,"msTransform",u),y(k,"transform",u),Et=m,Ct=f,de=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!k){var e=this.options.fallbackOnBody?document.body:B,o=X(h,!0,it,!0,e),t=this.options;if(it){for(Q=e;y(Q,"position")==="static"&&y(Q,"transform")==="none"&&Q!==document;)Q=Q.parentNode;Q!==document.body&&Q!==document.documentElement?(Q===document&&(Q=me()),o.top+=Q.scrollTop,o.left+=Q.scrollLeft):Q=me(),kt=Kt(Q)}k=h.cloneNode(!0),re(k,t.ghostClass,!1),re(k,t.fallbackClass,!0),re(k,t.dragClass,!0),y(k,"transition",""),y(k,"transform",""),y(k,"box-sizing","border-box"),y(k,"margin",0),y(k,"top",o.top),y(k,"left",o.left),y(k,"width",o.width),y(k,"height",o.height),y(k,"opacity","0.8"),y(k,"position",it?"absolute":"fixed"),y(k,"zIndex","100000"),y(k,"pointerEvents","none"),b.ghost=k,e.appendChild(k),y(k,"transform-origin",Qt/parseInt(k.style.width)*100+"% "+Zt/parseInt(k.style.height)*100+"%")}},_onDragStart:function(e,o){var t=this,a=e.dataTransfer,i=t.options;if(ne("dragStart",this,{evt:e}),b.eventCanceled){this._onDrop();return}ne("setupClone",this),b.eventCanceled||(j=hn(h),j.draggable=!1,j.style["will-change"]="",this._hideClone(),re(j,this.options.chosenClass,!1),b.clone=j),t.cloneId=dt(function(){ne("clone",t),!b.eventCanceled&&(t.options.removeCloneOnHide||B.insertBefore(j,h),t._hideClone(),J({sortable:t,name:"clone"}))}),!o&&re(h,i.dragClass,!0),o?(ht=!0,t._loopId=setInterval(t._emulateDragOver,50)):(A(document,"mouseup",t._onDrop),A(document,"touchend",t._onDrop),A(document,"touchcancel",t._onDrop),a&&(a.effectAllowed="move",i.setData&&i.setData.call(t,a,h)),P(document,"drop",t),y(h,"transform","translateZ(0)")),Ne=!0,t._dragStartId=dt(t._dragStarted.bind(t,o,e)),P(document,"selectstart",t),ze=!0,Xe&&y(document.body,"user-select","none")},_onDragOver:function(e){var o=this.el,t=e.target,a,i,r,l=this.options,s=l.group,c=b.active,m=ot===s,f=l.sort,u=W||c,d,g=this,v=!1;if(Ot)return;function T(fe,Yt){ne(fe,g,ve({evt:e,isOwner:m,axis:d?"vertical":"horizontal",revert:r,dragRect:a,targetRect:i,canSort:f,fromSortable:u,target:t,completed:C,onMove:function(Xt,Cn){return rt(B,o,h,a,Xt,X(Xt),e,Cn)},changed:O},Yt))}function S(){T("dragOverAnimationCapture"),g.captureAnimationState(),g!==u&&u.captureAnimationState()}function C(fe){return T("dragOverCompleted",{insertion:fe}),fe&&(m?c._hideClone():c._showClone(g),g!==u&&(re(h,W?W.options.ghostClass:c.options.ghostClass,!1),re(h,l.ghostClass,!0)),W!==g&&g!==b.active?W=g:g===b.active&&W&&(W=null),u===g&&(g._ignoreWhileAnimating=t),g.animateAll(function(){T("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==u&&(u.animateAll(),u._ignoreWhileAnimating=null)),(t===h&&!h.animated||t===o&&!t.animated)&&(Pe=null),!l.dragoverBubble&&!e.rootEl&&t!==document&&(h.parentNode[se]._isOutsideThisEl(e.target),!fe&&De(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),v=!0}function O(){le=ce(h),xe=ce(h,l.draggable),J({sortable:g,name:"change",toEl:o,newIndex:le,newDraggableIndex:xe,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),t=pe(t,l.draggable,o,!0),T("dragOver"),b.eventCanceled)return v;if(h.contains(e.target)||t.animated&&t.animatingX&&t.animatingY||g._ignoreWhileAnimating===t)return C(!1);if(ht=!1,c&&!l.disabled&&(m?f||(r=U!==B):W===this||(this.lastPutMode=ot.checkPull(this,c,h,e))&&s.checkPut(this,c,h,e))){if(d=this._getDirection(e,t)==="vertical",a=X(h),T("dragOverValid"),b.eventCanceled)return v;if(r)return U=B,S(),this._hideClone(),T("revert"),b.eventCanceled||(Te?B.insertBefore(h,Te):B.appendChild(h)),C(!0);var _=jt(o,l.draggable);if(!_||fo(e,d,this)&&!_.animated){if(_===h)return C(!1);if(_&&o===e.target&&(t=_),t&&(i=X(t)),rt(B,o,h,a,t,i,e,!!t)!==!1)return S(),o.appendChild(h),U=o,O(),C(!0)}else if(_&&uo(e,d,this)){var w=Be(o,0,l,!0);if(w===h)return C(!1);if(t=w,i=X(t),rt(B,o,h,a,t,i,e,!1)!==!1)return S(),o.insertBefore(h,w),U=o,O(),C(!0)}else if(t.parentNode===o){i=X(t);var $=0,ae,R=h.parentNode!==o,D=!io(h.animated&&h.toRect||a,t.animated&&t.toRect||i,d),Z=d?"top":"left",I=qt(t,"top","top")||qt(h,"top","top"),ee=I?I.scrollTop:void 0;Pe!==t&&(ae=i[Z],qe=!1,at=!D&&l.invertSwap||R),$=po(e,t,i,d,D?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,at,Pe===t);var te;if($!==0){var K=ce(h);do K-=$,te=U.children[K];while(te&&(y(te,"display")==="none"||te===k))}if($===0||te===t)return C(!1);Pe=t,We=$;var ue=t.nextElementSibling,ie=!1;ie=$===1;var G=rt(B,o,h,a,t,i,e,ie);if(G!==!1)return(G===1||G===-1)&&(ie=G===1),Ot=!0,setTimeout(co,30),S(),ie&&!ue?o.appendChild(h):t.parentNode.insertBefore(h,ie?ue:t),I&&pn(I,0,ee-I.scrollTop),U=h.parentNode,ae!==void 0&&!at&&(ut=Math.abs(ae-X(t)[Z])),O(),C(!0)}if(o.contains(h))return C(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){A(document,"mousemove",this._onTouchMove),A(document,"touchmove",this._onTouchMove),A(document,"pointermove",this._onTouchMove),A(document,"dragover",De),A(document,"mousemove",De),A(document,"touchmove",De)},_offUpEvents:function(){var e=this.el.ownerDocument;A(e,"mouseup",this._onDrop),A(e,"touchend",this._onDrop),A(e,"pointerup",this._onDrop),A(e,"touchcancel",this._onDrop),A(document,"selectstart",this)},_onDrop:function(e){var o=this.el,t=this.options;if(le=ce(h),xe=ce(h,t.draggable),ne("drop",this,{evt:e}),U=h&&h.parentNode,le=ce(h),xe=ce(h,t.draggable),b.eventCanceled){this._nulling();return}Ne=!1,at=!1,qe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Pt(this.cloneId),Pt(this._dragStartId),this.nativeDraggable&&(A(document,"drop",this),A(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Xe&&y(document.body,"user-select",""),y(h,"transform",""),e&&(ze&&(e.cancelable&&e.preventDefault(),!t.dropBubble&&e.stopPropagation()),k&&k.parentNode&&k.parentNode.removeChild(k),(B===U||W&&W.lastPutMode!=="clone")&&j&&j.parentNode&&j.parentNode.removeChild(j),h&&(this.nativeDraggable&&A(h,"dragend",this),St(h),h.style["will-change"]="",ze&&!Ne&&re(h,W?W.options.ghostClass:this.options.ghostClass,!1),re(h,this.options.chosenClass,!1),J({sortable:this,name:"unchoose",toEl:U,newIndex:null,newDraggableIndex:null,originalEvent:e}),B!==U?(le>=0&&(J({rootEl:U,name:"add",toEl:U,fromEl:B,originalEvent:e}),J({sortable:this,name:"remove",toEl:U,originalEvent:e}),J({rootEl:U,name:"sort",toEl:U,fromEl:B,originalEvent:e}),J({sortable:this,name:"sort",toEl:U,originalEvent:e})),W&&W.save()):le!==Me&&le>=0&&(J({sortable:this,name:"update",toEl:U,originalEvent:e}),J({sortable:this,name:"sort",toEl:U,originalEvent:e})),b.active&&((le==null||le===-1)&&(le=Me,xe=Ge),J({sortable:this,name:"end",toEl:U,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ne("nulling",this),B=h=U=k=Te=j=ct=we=Se=de=ze=le=xe=Me=Ge=Pe=We=W=ot=b.dragged=b.ghost=b.clone=b.active=null,mt.forEach(function(e){e.checked=!0}),mt.length=Et=Ct=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":h&&(this._onDragOver(e),so(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],o,t=this.el.children,a=0,i=t.length,r=this.options;a<i;a++)o=t[a],pe(o,r.draggable,this.el,!1)&&e.push(o.getAttribute(r.dataIdAttr)||go(o));return e},sort:function(e,o){var t={},a=this.el;this.toArray().forEach(function(i,r){var l=a.children[r];pe(l,this.options.draggable,a,!1)&&(t[i]=l)},this),o&&this.captureAnimationState(),e.forEach(function(i){t[i]&&(a.removeChild(t[i]),a.appendChild(t[i]))}),o&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return pe(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var t=this.options;if(o===void 0)return t[e];var a=nt.modifyOption(this,e,o);typeof a<"u"?t[e]=a:t[e]=o,e==="group"&&vn(t)},destroy:function(){ne("destroy",this);var e=this.el;e[se]=null,A(e,"mousedown",this._onTapStart),A(e,"touchstart",this._onTapStart),A(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(A(e,"dragover",this),A(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),gt.splice(gt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!we){if(ne("hideClone",this),b.eventCanceled)return;y(j,"display","none"),this.options.removeCloneOnHide&&j.parentNode&&j.parentNode.removeChild(j),we=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(we){if(ne("showClone",this),b.eventCanceled)return;h.parentNode==B&&!this.options.group.revertClone?B.insertBefore(j,h):Te?B.insertBefore(j,Te):B.appendChild(j),this.options.group.revertClone&&this.animate(h,j),y(j,"display",""),we=!1}}};function so(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function rt(n,e,o,t,a,i,r,l){var s,c=n[se],m=c.options.onMove,f;return window.CustomEvent&&!be&&!tt?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=e,s.from=n,s.dragged=o,s.draggedRect=t,s.related=a||e,s.relatedRect=i||X(e),s.willInsertAfter=l,s.originalEvent=r,n.dispatchEvent(s),m&&(f=m.call(c,s,r)),f}function St(n){n.draggable=!1}function co(){Ot=!1}function uo(n,e,o){var t=X(Be(o.el,0,o.options,!0)),a=10;return e?n.clientX<t.left-a||n.clientY<t.top&&n.clientX<t.right:n.clientY<t.top-a||n.clientY<t.bottom&&n.clientX<t.left}function fo(n,e,o){var t=X(jt(o.el,o.options.draggable)),a=10;return e?n.clientX>t.right+a||n.clientX<=t.right&&n.clientY>t.bottom&&n.clientX>=t.left:n.clientX>t.right&&n.clientY>t.top||n.clientX<=t.right&&n.clientY>t.bottom+a}function po(n,e,o,t,a,i,r,l){var s=t?n.clientY:n.clientX,c=t?o.height:o.width,m=t?o.top:o.left,f=t?o.bottom:o.right,u=!1;if(!r){if(l&&ut<c*a){if(!qe&&(We===1?s>m+c*i/2:s<f-c*i/2)&&(qe=!0),qe)u=!0;else if(We===1?s<m+ut:s>f-ut)return-We}else if(s>m+c*(1-a)/2&&s<f-c*(1-a)/2)return ho(e)}return u=u||r,u&&(s<m+c*i/2||s>f-c*i/2)?s>m+c/2?1:-1:0}function ho(n){return ce(h)<ce(n)?1:-1}function go(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,o=e.length,t=0;o--;)t+=e.charCodeAt(o);return t.toString(36)}function mo(n){mt.length=0;for(var e=n.getElementsByTagName("input"),o=e.length;o--;){var t=e[o];t.checked&&mt.push(t)}}function dt(n){return setTimeout(n,0)}function Pt(n){return clearTimeout(n)}yt&&P(document,"touchmove",function(n){(b.active||Ne)&&n.cancelable&&n.preventDefault()});b.utils={on:P,off:A,css:y,find:dn,is:function(e,o){return!!pe(e,o,e,!1)},extend:Qn,throttle:fn,closest:pe,toggleClass:re,clone:hn,index:ce,nextTick:dt,cancelNextTick:Pt,detectDirection:mn,getChild:Be};b.get=function(n){return n[se]};b.mount=function(){for(var n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(b.utils=ve(ve({},b.utils),t.utils)),nt.mount(t)})};b.create=function(n,e){return new b(n,e)};b.version=Gn;var V=[],Ve,Nt,Mt=!1,Dt,Tt,vt,Ye;function vo(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(o){var t=o.originalEvent;this.sortable.nativeDraggable?P(document,"dragover",this._handleAutoScroll):this.options.supportPointer?P(document,"pointermove",this._handleFallbackAutoScroll):t.touches?P(document,"touchmove",this._handleFallbackAutoScroll):P(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var t=o.originalEvent;!this.options.dragOverBubble&&!t.rootEl&&this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?A(document,"dragover",this._handleAutoScroll):(A(document,"pointermove",this._handleFallbackAutoScroll),A(document,"touchmove",this._handleFallbackAutoScroll),A(document,"mousemove",this._handleFallbackAutoScroll)),en(),ft(),Zn()},nulling:function(){vt=Nt=Ve=Mt=Ye=Dt=Tt=null,V.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,t){var a=this,i=(o.touches?o.touches[0]:o).clientX,r=(o.touches?o.touches[0]:o).clientY,l=document.elementFromPoint(i,r);if(vt=o,t||this.options.forceAutoScrollFallback||tt||be||Xe){It(o,this.options,l,t);var s=Ee(l,!0);Mt&&(!Ye||i!==Dt||r!==Tt)&&(Ye&&en(),Ye=setInterval(function(){var c=Ee(document.elementFromPoint(i,r),!0);c!==s&&(s=c,ft()),It(o,a.options,c,t)},10),Dt=i,Tt=r)}else{if(!this.options.bubbleScroll||Ee(l,!0)===me()){ft();return}It(o,this.options,Ee(l,!1),!1)}}},ye(n,{pluginName:"scroll",initializeByDefault:!0})}function ft(){V.forEach(function(n){clearInterval(n.pid)}),V=[]}function en(){clearInterval(Ye)}var It=fn(function(n,e,o,t){if(e.scroll){var a=(n.touches?n.touches[0]:n).clientX,i=(n.touches?n.touches[0]:n).clientY,r=e.scrollSensitivity,l=e.scrollSpeed,s=me(),c=!1,m;Nt!==o&&(Nt=o,ft(),Ve=e.scroll,m=e.scrollFn,Ve===!0&&(Ve=Ee(o,!0)));var f=0,u=Ve;do{var d=u,g=X(d),v=g.top,T=g.bottom,S=g.left,C=g.right,O=g.width,_=g.height,w=void 0,$=void 0,ae=d.scrollWidth,R=d.scrollHeight,D=y(d),Z=d.scrollLeft,I=d.scrollTop;d===s?(w=O<ae&&(D.overflowX==="auto"||D.overflowX==="scroll"||D.overflowX==="visible"),$=_<R&&(D.overflowY==="auto"||D.overflowY==="scroll"||D.overflowY==="visible")):(w=O<ae&&(D.overflowX==="auto"||D.overflowX==="scroll"),$=_<R&&(D.overflowY==="auto"||D.overflowY==="scroll"));var ee=w&&(Math.abs(C-a)<=r&&Z+O<ae)-(Math.abs(S-a)<=r&&!!Z),te=$&&(Math.abs(T-i)<=r&&I+_<R)-(Math.abs(v-i)<=r&&!!I);if(!V[f])for(var K=0;K<=f;K++)V[K]||(V[K]={});(V[f].vx!=ee||V[f].vy!=te||V[f].el!==d)&&(V[f].el=d,V[f].vx=ee,V[f].vy=te,clearInterval(V[f].pid),(ee!=0||te!=0)&&(c=!0,V[f].pid=setInterval((function(){t&&this.layer===0&&b.active._onTouchMove(vt);var ue=V[this.layer].vy?V[this.layer].vy*l:0,ie=V[this.layer].vx?V[this.layer].vx*l:0;typeof m=="function"&&m.call(b.dragged.parentNode[se],ie,ue,n,vt,V[this.layer].el)!=="continue"||pn(V[this.layer].el,ie,ue)}).bind({layer:f}),24))),f++}while(e.bubbleScroll&&u!==s&&(u=Ee(u,!1)));Mt=c}},30),bn=function(e){var o=e.originalEvent,t=e.putSortable,a=e.dragEl,i=e.activeSortable,r=e.dispatchSortableEvent,l=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(o){var c=t||i;l();var m=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,f=document.elementFromPoint(m.clientX,m.clientY);s(),c&&!c.el.contains(f)&&(r("spill"),this.onSpill({dragEl:a,putSortable:t}))}};function zt(){}zt.prototype={startIndex:null,dragStart:function(e){var o=e.oldDraggableIndex;this.startIndex=o},onSpill:function(e){var o=e.dragEl,t=e.putSortable;this.sortable.captureAnimationState(),t&&t.captureAnimationState();var a=Be(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(o,a):this.sortable.el.appendChild(o),this.sortable.animateAll(),t&&t.animateAll()},drop:bn};ye(zt,{pluginName:"revertOnSpill"});function Vt(){}Vt.prototype={onSpill:function(e){var o=e.dragEl,t=e.putSortable,a=t||this.sortable;a.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),a.animateAll()},drop:bn};ye(Vt,{pluginName:"removeOnSpill"});b.mount(new vo);b.mount(Vt,zt);function _o(){return typeof window<"u"?window.console:global.console}const yo=_o();function bo(n){const e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}const xo=/-(\w)/g,tn=bo(n=>n.replace(xo,(e,o)=>o?o.toUpperCase():""));function At(n){n.parentElement!==null&&n.parentElement.removeChild(n)}function nn(n,e,o){const t=o===0?n.children[0]:n.children[o-1].nextSibling;n.insertBefore(e,t)}function wo(n,e){return Object.values(n).indexOf(e)}function Eo(n,e,o,t){if(!n)return[];const a=Object.values(n),i=e.length-t;return[...e].map((l,s)=>s>=i?a.length:a.indexOf(l))}function xn(n,e){this.$nextTick(()=>this.$emit(n.toLowerCase(),e))}function Co(n){return e=>{this.realList!==null&&this["onDrag"+n](e),xn.call(this,n,e)}}function ko(n){return["transition-group","TransitionGroup"].includes(n)}function So(n){if(!n||n.length!==1)return!1;const[{type:e}]=n;return e?ko(e.name):!1}function Do(n,e){return e?{...e.props,...e.attrs}:n}const $t=["Start","Add","Remove","Update","End"],Lt=["Choose","Unchoose","Sort","Filter","Clone"],To=["Move",...$t,...Lt].map(n=>"on"+n);let Ft=null;const Io={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:n=>n},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},wn=Ce({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...$t.map(n=>n.toLowerCase()),...Lt.map(n=>n.toLowerCase())],props:Io,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const n=this.$slots.default?this.$slots.default():null,e=Do(this.$attrs,this.componentData);return n?(this.transitionMode=So(n),L(this.getTag(),e,n)):L(this.getTag(),e,[])},created(){this.list!==null&&this.modelValue!==null&&yo.error("list props are mutually exclusive! Please set one.")},mounted(){const n={};$t.forEach(a=>{n["on"+a]=Co.call(this,a)}),Lt.forEach(a=>{n["on"+a]=xn.bind(this,a)});const e=Object.keys(this.$attrs).reduce((a,i)=>(a[tn(i)]=this.$attrs[i],a),{}),o=Object.assign({},e,n,{onMove:(a,i)=>this.onDragMove(a,i)});!("draggable"in o)&&(o.draggable=">*");const t=this.$el.nodeType===1?this.$el:this.$el.parentElement;this._sortable=new b(t,o),t.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{this._sortable!==void 0&&this._sortable.destroy()}catch{}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(n){this.updateOptions(n)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?kn(this.component):this.tag},updateOptions(n){for(var e in n){const o=tn(e);To.indexOf(o)===-1&&this._sortable.option(o,n[e])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=Eo(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(n){const e=wo(this.getChildrenNodes()||[],n);if(e===-1)return null;const o=this.realList[e];return{index:e,element:o}},emitChanges(n){this.$nextTick(()=>{this.$emit("change",n)})},alterList(n){if(this.list){n(this.list);return}const e=[...this.modelValue];n(e),this.$emit("update:modelValue",e)},spliceList(){const n=e=>e.splice(...arguments);this.alterList(n)},updatePosition(n,e){const o=t=>t.splice(e,0,t.splice(n,1)[0]);this.alterList(o)},getVmIndex(n){const e=this.visibleIndexes,o=e.length;return n>o-1?o:e[n]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(n){if(!this.noTransitionOnDrag||!this.transitionMode)return;var e=this.getChildrenNodes();e[n].data=null;const o=this.getComponent();o.children=[],o.kept=void 0},onDragStart(n){this.computeIndexes(),this.context=this.getUnderlyingVm(n.item),this.context&&(n.item._underlying_vm_=this.clone(this.context.element),Ft=n.item)},onDragAdd(n){const e=n.item._underlying_vm_;if(e===void 0)return;At(n.item);const o=this.getVmIndex(n.newIndex);this.spliceList(o,0,e),this.computeIndexes();const t={element:e,newIndex:o};this.emitChanges({added:t})},onDragRemove(n){if(nn(this.$el,n.item,n.oldIndex),n.pullMode==="clone"){At(n.clone);return}if(!this.context)return;const e=this.context.index;this.spliceList(e,1);const o={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:o})},onDragUpdate(n){At(n.item),nn(n.from,n.item,n.oldIndex);const e=this.context.index,o=this.getVmIndex(n.newIndex);this.updatePosition(e,o);const t={element:this.context.element,oldIndex:e,newIndex:o};this.emitChanges({moved:t})},updateProperty(n,e){n.hasOwnProperty(e)&&(n[e]+=this.headerOffset)},onDragMove(n,e){const o=this.move;if(!o||!this.realList)return!0;const t=this.getRelatedContextFromMoveEvent(n),a=this.context,i=this.computeFutureIndex(t,n);Object.assign(a,{futureIndex:i});const r=Object.assign({},n,{relatedContext:t,draggedContext:a});return o(r,e)},onDragEnd(){this.computeIndexes(),Ft=null},getTrargetedComponent(n){return n.__draggable_component__},getRelatedContextFromMoveEvent({to:n,related:e}){const o=this.getTrargetedComponent(n);if(!o)return{component:o};const t=o.realList,a={list:t,component:o};if(n!==e&&t&&o.getUnderlyingVm){const i=o.getUnderlyingVm(e);if(i)return Object.assign(i,a)}return a},computeFutureIndex(n,e){const o=[...e.to.children].filter(r=>r.style.display!=="none");if(o.length===0)return 0;const t=o.indexOf(e.related),a=n.component.getVmIndex(t);return o.indexOf(Ft)!==-1||!e.willInsertAfter?a:a+1}}}),En=()=>{const{t:n}=Fe(),{formatDateTime:e,fromNow:o}=Fn(),t=on({id:"",key:"",data:null}),a=(u,d)=>u.data[d.key]||"";return{renderDate:(u,d)=>{const{config:{timeFormat:g,dateFormat:v}}=d,T=a(u,d),S=`${u.id}-${d.key}`;function C($){const ae=new Date($);return!isNaN(ae.getTime())}const O=()=>{t.id=u.id,t.key=d.key,t.data=C(T)?T:null},_=async()=>{t.data!==u.data[t.key]&&(u.data[t.key]=t.data,await Ue(u),Object.assign(t,{id:"",key:"",data:null}))};if(t.id===u.id&&t.key===d.key)return L(Un,{id:S,value:t.data,type:"datetime",format:"dd/MM/yyyy","onUpdate:value":$=>{t.key=d.key,t.data=$},show:!0,onBlur:_,onConfirm:$=>{t.key=d.key,t.data=$,_()}});let w="";if(T)switch(v){case"full":w=e(T,`DD/MM/YYYY${g!=="hidden"?` ${g}`:""}`);break;case"relative":w=o(T);break}return L("div",{ondblclick:O,class:"flex min-h-16px"},[L(Ke,{ondblclick:O},{default:()=>w})])},renderText:(u,d)=>{const g=a(u,d),v=`${u.id}-${d.key}`,T=()=>{t.id=u.id,t.key=d.key,t.data=g,bt(()=>{document.getElementById(`${v}`).focus()})},S=async()=>{t.data!==u.data[t.key]&&(u.data[t.key]=t.data,await Ue(u),Object.assign(t,{id:"",key:"",data:null}))};return L("div",{class:"row-edit"},[...t.id===u.id&&t.key===d.key?[L($e,{id:v,value:t.data,autofocus:!0,onInput:C=>{t.key=d.key,t.data=C},onBlur:S})]:[L("div",{ondblclick:T,class:"flex min-h-16px row-edit"},[L(Re,{ondblclick:T,class:"row-edit",style:{maxWidth:"200px"}},{default:()=>g})])]])},renderPassword:(u,d)=>{u.metadata||(u.metadata={show:!1});const g=a(u,d),v=`${u.id}-${d.key}`,T=()=>{t.id=u.id,t.key=d.key,t.data=g,bt(()=>{document.getElementById(`${v}`).focus()})},S=async()=>{t.data!==u.data[t.key]&&(u.data[t.key]=t.data,await Ue(u),Object.assign(t,{id:"",key:"",data:null}))};return t.id===u.id&&t.key===d.key?L($e,{id:v,value:t.data,autofocus:!0,onInput:C=>{t.key=d.key,t.data=C},onBlur:S}):L("div",{ondblclick:T,class:"flex min-h-16px row-edit"},[L(Re,{class:"row-edit",ondblclick:T,style:{maxWidth:"200px"}},{default:()=>g})])},renderNumber:(u,d)=>{const{config:{format:g}}=d,v=a(u,d),T=`${u.id}-${d.key}`,S=()=>{t.id=u.id,t.key=d.key,t.data=v,bt(()=>{document.getElementById(`${T}`).focus()})},C=async()=>{t.data!==u.data[t.key]&&(u.data[t.key]=t.data,await Ue(u),Object.assign(t,{id:"",key:"",data:null}))};if(t.id===u.id&&t.key===d.key)return L("div",[L($e,{id:T,value:t.data,autofocus:!0,onInput:O=>{t.key=d.key,t.data=O},class:"row-edit",onBlur:C})]);if(g==="number")return L("div",{ondblclick:S,class:"flex min-h-16px row-edit"},[L(Re,{ondblclick:S,class:"row-edit",style:{maxWidth:"200px"}},{default:()=>v})]);if(g==="commas")return L("div",{ondblclick:S,class:"flex items-center row-edit"},[L(Re,{ondblclick:S,class:"row-edit",style:{maxWidth:"200px"}},{default:()=>isNaN(v)?"-":Number(v).toLocaleString()})])},renderTag:(u,d)=>{const g=d.options,v=a(u,d),T=`${u.id}-${d.key}`,S=()=>{t.id=u.id,t.key=d.key,t.data=v},C=()=>{var _;if(!Array.isArray(v))return(_=g.find(w=>w.value===v))==null?void 0:_.color},O=async()=>{t.data!==u.data[t.key]&&(u.data[t.key]=t.data,await Ue(u),Object.assign(t,{id:"",key:"",data:null}))};return t.id===u.id&&t.key===d.key?L("div",[L(sn,{id:T,value:t.data,labelField:"value",options:g,multiple:d.type===q.MULTI_SELECT,autofocus:!0,placeholder:"","onUpdate:value":_=>{t.key=d.key,t.data=_},onBlur:O,class:"row-edit",maxTagCount:"responsive",clearable:!0})]):L("div",{ondblclick:S,class:"flex items-center gap-8px min-h-16px row-edit overflow-auto"},{default:()=>Array.isArray(v)?v.map(_=>{const w=g.find($=>$.value===_);return L(Re,{class:["tag-color",w==null?void 0:w.color,"row-edit","text-center"],style:{"min-width":"40px","max-width":"120px"}},{default:()=>_})}):[L("div",{class:["tag-color",C()]},{default:()=>v})]})},renderCustomFieldTypeIcon:u=>{let d=null;switch(u.type){case q.EMAIL:d="at";break;case q.PASSWORD:d="lock";break;case q.MULTI_SELECT:d="list";break;case q.SELECT:d="circleCheck";break;case q.NUMBER:d="hash";break;case q.TEXT:d="text";break;case q.DATE:d="calendar";break;case q.STATUS:d="loader";break}return d},renderAccountTaskingStatus:u=>{let d="",g="";switch(u){case ke.UNASSIGNED:g="warning",d=n("Common.Status.Unassigned");break;case ke.PENDING:g="default",d=n("Common.Status.Pending");break;case ke.RUNNING:g="info",d=n("Common.Status.Running");break;case ke.ABORTED:g="error",d=n("Common.Status.Aborted");break;case ke.STOPPED:g="error",d=n("Common.Status.Stopped");break;case ke.FINISHED:g="success",d=n("Common.Status.Success");break}return L(Nn,{align:"center"},{default:()=>[u===ke.RUNNING&&L(On,{size:18}),L(Pn,{type:g},{default:()=>d})]})},editState:t}},Ao={class:"flex items-center justify-between mt-16px"},Fo={class:"cursor-pointer flex items-center gap-8px text-[#828282]"},Oo={class:"p-8px"},Po=["onClick"],No={class:"flex items-center justify-between mt-16px"},Mo={class:"cursor-pointer flex items-center gap-8px text-[#828282]"},$o={class:"p-8px"},Lo=["onClick"],Bo=Ce({__name:"DateField",props:["config"],emits:["update"],setup(n,{emit:e}){var l,s;const o=n,{t}=Fe(),a=oe([{title:t("Page.AccountManager.Label.FullDate"),key:"full"},{title:t("Page.AccountManager.Label.RelativeDate"),key:"relative"}]),i=oe([{title:t("Page.AccountManager.Label.Hidden"),key:"hidden"},{title:"HH:mm:ss",key:"HH:mm:ss"}]),r=oe({timeSelect:(l=o.config)!=null&&l.timeFormat?i.value.find(c=>{var m;return(c==null?void 0:c.key)===((m=o.config)==null?void 0:m.timeFormat)}):i.value[0],formatSelect:(s=o.config)!=null&&s.dateFormat?a.value.find(c=>{var m;return(c==null?void 0:c.key)===((m=o.config)==null?void 0:m.dateFormat)}):a.value[0]});return _t(()=>{e("update",{config:{timeFormat:r.value.timeSelect.key,dateFormat:r.value.formatSelect.key}})}),(c,m)=>{const f=Je;return F(),z(ge,null,[E("div",Ao,[E("div",null,N(p(t)("Page.AccountManager.Label.DateFormat")),1),x(f,{style:{width:"200px",padding:"0","margin-left":"20px","border-radius":"var(--4, 4px)","box-shadow":"0px 4px 4px 0px rgba(0, 0, 0, 0.05)"},trigger:"click","display-directive":"show",placement:"right-start","show-arrow":!1},{trigger:M(()=>[E("div",Fo,[H(N(p(r).formatSelect.title)+" ",1),x(Y,{type:"next",size:"16",color:"#828282"})])]),default:M(()=>[E("div",Oo,[(F(!0),z(ge,null,Ae(p(a),u=>(F(),z("div",{key:u.key,class:Ie([{active:p(r).formatSelect.key===u.key},"cursor-pointer items-center flex gap-8px hover:bg-[#5671ff33] rounded hover:text-[#5671FF] px-8px py-4px"]),onClick:d=>p(r).formatSelect=u},N(u.title),11,Po))),128))])]),_:1})]),E("div",No,[E("div",null,N(p(t)("Page.AccountManager.Label.TimeFormat")),1),x(f,{style:{width:"200px",padding:"0","margin-left":"20px","border-radius":"var(--4, 4px)","box-shadow":"0px 4px 4px 0px rgba(0, 0, 0, 0.05)"},trigger:"click","display-directive":"show",placement:"right-start","show-arrow":!1},{trigger:M(()=>[E("div",Mo,[H(N(p(r).timeSelect.title)+" ",1),x(Y,{type:"next",size:"16",color:"#828282"})])]),default:M(()=>[E("div",$o,[(F(!0),z(ge,null,Ae(p(i),u=>(F(),z("div",{key:u.key,class:Ie([{active:p(r).timeSelect.key===u.key},"cursor-pointer items-center flex gap-8px hover:bg-[#5671ff33] rounded hover:text-[#5671FF] px-8px py-4px"]),onClick:d=>p(r).timeSelect=u},N(u.title),11,Lo))),128))])]),_:1})])],64)}}});const Ro=Qe(Bo,[["__scopeId","data-v-066b8dfc"]]),Uo=Ce({__name:"PasswordField",emits:["update"],setup(n,{emit:e}){const{customFieldState:o}=et(),{t}=Fe(),a=oe([{title:t("Page.AccountManager.Label.AlwaysShow"),key:"show"},{title:t("Page.AccountManager.Label.AlwaysHide"),key:"hide"},{title:t("Page.AccountManager.Label.Flexible"),key:"flexible"}]),i=oe(null);return Ze(()=>{e("update",{config:{format:a.value[0].key}});const r=a.value.findIndex(l=>l.key===o.field.config.format);i.value=a[r]}),_t(()=>{i.value&&e("update",{config:{format:i.value.key}})}),(r,l)=>(F(),z("div"))}});const jo=Qe(Uo,[["__scopeId","data-v-6cb1a3b2"]]),zo={class:"text-[#828282] mt-16px font-medium flex items-center justify-between"},Vo={class:"flex items-center justify-between mt-16px"},Yo={class:"flex items-center justify-between w-full"},Xo={class:"cursor-pointer flex items-center gap-8px text-[#828282]"},Ho={class:"p-8px"},Go=["onClick"],Wo=["onClick"],qo=Ce({__name:"SelectField",emits:["update"],setup(n,{emit:e}){const{t:o}=Fe(),{customFieldState:t,editField:a}=et(),i=oe(""),r=oe([]),l=()=>{if(!i.value)return window.$message.warning("Option name is required!");if(r.value.findIndex(g=>g.value===i.value)!==-1)return window.$message.error("Option name already exists!");r.value.push({value:i.value,color:"blue",id:rn(5)}),i.value=""},s=oe([{key:"purple",title:o("Common.Color.Purple")},{key:"gray",title:o("Common.Color.Gray")},{key:"red",title:o("Common.Color.Red")},{key:"brown",title:o("Common.Color.Brown")},{key:"orange",title:o("Common.Color.Orange")},{key:"yellow",title:o("Common.Color.Yellow")},{key:"green",title:o("Common.Color.Green")},{key:"pink",title:o("Common.Color.Pink")},{key:"blue",title:o("Common.Color.Blue")}]);Ze(()=>{r.value=JSON.parse(JSON.stringify(t.field.options))}),_t(()=>{r.value.length&&e("update",{options:r.value})});const c=lt(()=>({animation:0,group:"description",disabled:!1,ghostClass:"ghost"})),m=d=>{if(!a.find(v=>v.id===d.id)){const v={id:d.id,originalValue:d.value,key:t.field.key};a.push(v)}},f=d=>{const g=a.find(v=>v.id===d.id);g&&(g.newValue=String(d.value).replace(/\s+/g," ").trim())},u=d=>{r.value.splice(r.value.indexOf(d),1)};return(d,g)=>{const v=Rt,T=$e,S=Ut,C=Ke,O=Je;return F(),z(ge,null,[E("div",zo,[H(N(p(o)("Page.AccountManager.Label.Options"))+" ",1),x(v,{class:"w-24px h-24px p-0",round:"",quaternary:"",type:"primary",onClick:l},{default:M(()=>[x(Y,{type:"plus",size:"16",color:"#828282"})]),_:1})]),E("div",Vo,[x(T,{value:p(i),"onUpdate:value":g[0]||(g[0]=_=>Sn(i)?i.value=_:null),class:"",placeholder:p(o)("Page.AccountManager.Label.AddNewOption")},null,8,["value","placeholder"])]),x(p(wn),Bt(p(c),{class:"w-full list-group mt-12px flex flex-col gap-12px",list:p(r)}),{default:M(()=>[x(an,{type:"transition",name:"flip-list"},{default:M(()=>[(F(!0),z(ge,null,Ae(p(r),_=>(F(),z("div",{key:_.id,class:"flex items-center gap-8px w-full list-group-item"},[x(Y,{type:"reorder",size:"16",color:"#828282"}),E("div",Yo,[E("span",{class:Ie([_.color,"tag"])},N(_.value),3),x(O,{style:{width:"200px",padding:"0","margin-left":"20px","border-radius":"var(--4, 4px)","box-shadow":"0px 4px 4px 0px rgba(0, 0, 0, 0.05)"},trigger:"click","display-directive":"show",placement:"right-start","show-arrow":!1,"onUpdate:show":w=>m(_)},{trigger:M(()=>[E("div",Xo,[_.isShowColor?(F(),he(Y,{key:0,type:"up",size:"16",color:"#828282"})):(F(),he(Y,{key:1,type:"next",size:"16",color:"#828282"}))])]),default:M(()=>[E("div",Ho,[H(N(_.value)+" ",1),x(T,{value:_.value,"onUpdate:value":[w=>_.value=w,w=>f(_)],class:""},null,8,["value","onUpdate:value"]),E("div",{class:"flex mt-16px items-center gap-8px cursor-pointer hover:bg-[#5671ff33] rounded hover:text-[#5671FF] px-8px py-4px",onClick:w=>u(_)},[x(Y,{type:"trash",size:"20"}),H(" "+N(p(o)("Common.Button.Delete")),1)],8,Go),x(S),x(C,{depth:"3"},{default:M(()=>[H(N(p(o)("Page.AccountManager.Label.Color")),1)]),_:1}),(F(!0),z(ge,null,Ae(p(s),w=>(F(),z("div",{key:w.key,class:Ie([{active:_.color===w.key},"mt-12px cursor-pointer items-center flex gap-8px hover:bg-[#5671ff33] rounded hover:text-[#5671FF] px-8px py-4px"]),onClick:()=>{_.color=w.key}},[E("div",{class:Ie([w.key,"color"])},null,2),H(" "+N(w.title),1)],10,Wo))),128))])]),_:2},1032,["onUpdate:show"])])]))),128))]),_:1})]),_:1},16,["list"])],64)}}});const Ko=Qe(qo,[["__scopeId","data-v-c9d670e5"]]),Qo={class:"flex items-center justify-between mt-16px"},Zo={class:"cursor-pointer flex items-center gap-8px text-[#828282]"},Jo={class:"p-8px"},ea=["onClick"],ta=Ce({__name:"NumberField",emits:["update"],setup(n,{emit:e}){const{customFieldState:o}=et(),{t}=Fe(),a=oe([{title:t("Page.AccountManager.Label.FormatNumber"),key:"number"},{title:t("Page.AccountManager.Label.FormatNumberWithCommas"),key:"commas"}]),i=oe(null);return Ze(()=>{e("update",{config:{format:a.value[0].key}});const r=a.value.findIndex(l=>l.key===o.field.config.format);i.value=a[r]}),_t(()=>{i.value&&e("update",{config:{format:i.value.key}})}),(r,l)=>{const s=Je;return F(),z("div",Qo,[E("div",null,N(p(t)("Page.AccountManager.Label.Format")),1),x(s,{style:{width:"200px",padding:"0","margin-left":"20px","border-radius":"var(--4, 4px)","box-shadow":"0px 4px 4px 0px rgba(0, 0, 0, 0.05)"},trigger:"click","display-directive":"show",placement:"right-start","show-arrow":!1},{trigger:M(()=>{var c;return[E("div",Zo,[H(N((c=p(i))==null?void 0:c.title)+" ",1),x(Y,{type:"next",size:"16",color:"#828282"})])]}),default:M(()=>[E("div",Jo,[(F(!0),z(ge,null,Ae(p(a),c=>{var m;return F(),z("div",{key:c.key,class:Ie([{active:((m=p(i))==null?void 0:m.key)===c.key},"cursor-pointer items-center flex gap-8px hover:bg-[#5671ff33] rounded hover:text-[#5671FF] px-8px py-4px"]),onClick:()=>{i.value=c}},N(c.title),11,ea)}),128))])]),_:1})])}}});const na=Qe(ta,[["__scopeId","data-v-0c71a213"]]),oa={class:"flex items-center justify-between mt-16px"},aa={class:"flex items-center gap-4px"},ia={class:"p-8px"},ra=["onClick"],la={class:"flex items-center justify-between"},sa={class:"flex items-center justify-between mt-16px"},ca={class:"flex items-center justify-end mt-24px gap-12px"},ua={class:"text-white"},da=Ce({__name:"DetailField",props:{appId:String},emits:["close"],setup(n,{emit:e}){const o=n,{t}=Fe();Dn(o);const a=oe(!1),i=oe(!1),{renderCustomFieldTypeIcon:r}=En(),{customFieldState:l,resetCustomFieldState:s,insertCustomFields:c,updateCustomFields:m,editField:f}=et(),{accounts:u,updateMultiAccount:d}=Rn(),{selectedTable:g,updateTable:v}=ln(),T=on([{type:q.EMAIL,title:t("Page.AccountManager.Label.Field.Email"),icon:"at"},{type:q.PASSWORD,title:t("Page.AccountManager.Label.Field.Password"),icon:"lock"},{type:q.MULTI_SELECT,title:t("Page.AccountManager.Label.Field.MultiSelect"),icon:"list"},{type:q.SELECT,title:t("Page.AccountManager.Label.Field.Select"),icon:"circleCheck"},{type:q.NUMBER,title:t("Page.AccountManager.Label.Field.Number"),icon:"hash"},{type:q.TEXT,title:t("Page.AccountManager.Label.Field.Text"),icon:"info"},{type:q.DATE,title:t("Page.AccountManager.Label.Field.Date"),icon:"calendar"},{type:q.STATUS,title:t("Page.AccountManager.Label.Field.Status"),icon:"loader"}]),S=({options:R=[],config:D={}})=>{l.field.options=R,l.field.config=D},C=R=>{l.field.type=R.type,a.value=!1},O=()=>{e("close",!1),s()},_=async()=>{if(!l.field.title)return window.$message.warning("Field title is required!");try{if(l.submiting=!0,!l.field.key)l.field.key=rn(5),g.value.custom_fields_array.push(l.field),await v(g.value.id,{name:g.value.name,custom_fields_array:g.value.custom_fields_array});else{const R=g.value.custom_fields_array.findIndex(D=>D.key===l.field.key);if(R===-1)return;l.field.options.forEach(D=>{const Z=f.find(I=>I.id===D.id);Z&&(D.value=Z.newValue)}),g.value.custom_fields_array[R]=l.field,await v(g.value.id,{name:g.value.name,custom_fields_array:g.value.custom_fields_array})}O()}catch(R){window.$message.error(R.message)}finally{l.submiting=!1,i.value=!1}};function w(R,D){const Z=[];return R.forEach(I=>{let ee=!1;D.forEach(te=>{const{key:K,originalValue:ue,newValue:ie}=te;if(I.data&&Array.isArray(I.data[K])){const G=I.data[K].map(fe=>fe===ue?(ee=!0,ie):fe);I.data[K]=G}else I.data&&I.data[K]===ue&&(I.data[K]=ie,ee=!0)}),ee&&Z.push(I)}),Z}const $=async()=>{const R=w(u.value,f);f.forEach(D=>D.originalValue=D.newValue),R.length&&await d(R),await _(),f.value=[]},ae=async()=>{f.filter(D=>D.originalValue&&D.newValue&&D.originalValue!==D.newValue).length?i.value=!0:_()};return(R,D)=>{const Z=$e,I=Je,ee=Ut,te=Ke,K=Mn,ue=Rt,ie=Ke;return F(),z(ge,null,[x(Z,{value:p(l).field.title,"onUpdate:value":D[0]||(D[0]=G=>p(l).field.title=G),autofocus:"",placeholder:p(t)("Common.Label.Name"),class:"mt-12px"},null,8,["value","placeholder"]),E("div",oa,[H(N(p(t)("Page.AccountManager.Label.FieldType"))+" ",1),x(I,{style:{width:"200px",padding:"0","margin-left":"20px","border-radius":"var(--4, 4px)","box-shadow":"0px 4px 4px 0px rgba(0, 0, 0, 0.05)"},trigger:"click","display-directive":"show",placement:"right-start","show-arrow":!1,show:p(a)},{trigger:M(()=>[E("div",{class:"cursor-pointer flex items-center gap-8px text-[#828282]",onClick:D[1]||(D[1]=G=>a.value=!p(a))},[E("div",aa,[x(Y,{type:p(r)(p(l).field),size:"16",color:"#828282"},null,8,["type"]),H(" "+N(p(l).field.type),1)]),x(Y,{type:"next",size:"16",color:"#828282"})])]),default:M(()=>[E("div",ia,[(F(!0),z(ge,null,Ae(p(T),(G,fe)=>(F(),z("div",{key:fe,class:Ie([{active:p(l).field.type===G.type},"cursor-pointer items-center flex gap-8px hover:bg-[#5671ff33] rounded hover:text-[#5671FF] px-8px py-4px"]),onClick:Yt=>C(G)},[x(Y,{type:G.icon,size:"16"},null,8,["type"]),H(" "+N(G.title),1)],10,ra))),128))])]),_:1},8,["show"])]),p(l).field.type==="date"?(F(),he(Ro,{key:0,config:p(l).field.config,onUpdate:S},null,8,["config"])):je("",!0),p(l).field.type==="password"?(F(),he(jo,{key:1,onUpdate:S})):je("",!0),["select","multiSelect","status"].includes(p(l).field.type)?(F(),he(Ko,{key:2,onUpdate:S})):je("",!0),p(l).field.type==="number"?(F(),he(na,{key:3,onUpdate:S})):je("",!0),x(ee),E("div",la,[E("div",null,[x(te,null,{default:M(()=>[H(N(p(t)("Page.AccountManager.Label.AllowToMove")),1)]),_:1})]),x(K,{value:p(l).field.movable,"onUpdate:value":D[2]||(D[2]=G=>p(l).field.movable=G)},null,8,["value"])]),E("div",sa,[E("div",null,[x(te,null,{default:M(()=>[H(N(p(t)("Page.AccountManager.Label.Deletable")),1)]),_:1})]),x(K,{value:p(l).field.deletable,"onUpdate:value":D[3]||(D[3]=G=>p(l).field.deletable=G)},null,8,["value"])]),E("div",ca,[x(ue,{disabed:p(l).submiting,quaternary:"",class:"ml-8px",onClick:O},{default:M(()=>[H(N(p(t)("Common.Button.Cancel")),1)]),_:1},8,["disabed"]),x(ue,{loading:p(l).submiting,type:"primary",onClick:ae},{default:M(()=>[E("div",ua,N(p(t)("Common.Button.Confirm")),1)]),_:1},8,["loading"])]),x(jn,{type:"warning",header:"Notice","is-show":p(i),"cancel-label":p(t)("Common.Button.DontApply"),"submit-label":p(t)("Common.Button.Apply"),"action-submit":$,onClose:_},{body:M(()=>[x(ie,null,{default:M(()=>[H(" Options have been changed. Apply changes to drop-down lists in the spreadsheet? ")]),_:1})]),_:1},8,["is-show","cancel-label","submit-label","action-submit"])],64)}}});const fa=Qe(da,[["__scopeId","data-v-a16b329a"]]),pa={key:0},ha={class:"flex items-center gap-8px"},ga={class:"font-medium"},ma={key:1},va={class:"flex items-center gap-8px"},_a={class:"font-medium"},ya={class:"flex mt-12px items-center gap-8px"},ba={class:"flex items-center gap-4px"},xa={class:"font-medium"},wa={class:"flex items-center justify-between"},Ea={class:"flex items-center gap-8px"},Ca={class:"flex items-center gap-4px"},ka={class:"flex items-center gap-8px"},Sa=["onClick"],Da={class:"cursor-pointer hover:bg-[#5671ff33] rounded hover:text-[#5671FF] px-12px py-8px"},Ua=Ce({__name:"FieldSettings",setup(n){const{selectedTable:e,updateTable:o,updatePositionFields:t,showFieldEditor:a}=ln(),{t:i}=Fe(),r=lt(()=>({animation:0,group:"description",disabled:!1,ghostClass:"ghost"})),{renderCustomFieldTypeIcon:l}=En(),{customFieldState:s,resetCustomFieldState:c,deleteCustomFields:m}=et(),f=oe(!1),u=lt(()=>{var _;return Object.values(((_=e.value)==null?void 0:_.custom_fields_array)||{})}),d=lt(()=>Object.values(u.value).filter(_=>!_.movable).map(_=>_.key)),g=_=>!d.value.includes(_.draggedContext.element.key),v=_=>{s.field=$n(_),a.value=!0},T=async(_,w)=>{e.value.custom_fields_array.find($=>$.key===_.key).show=w,o(e.value.id,{custom_fields_array:e.value.custom_fields_array})},S=async()=>{f.value=!0,await o(e.value.id,{custom_fields_array:u.value}),f.value=!1},C=()=>{a.value=!1,c()},O=async _=>{e.value.custom_fields_array=e.value.custom_fields_array.filter(w=>w.key!==_.key),o(e.value.id,{custom_fields_array:e.value.custom_fields_array})};return Ze(()=>{}),(_,w)=>{const $=$e,ae=Rt,R=Ln,D=Je,Z=Ut;return F(),z("div",null,[p(a)?(F(),z("div",pa,[E("div",ha,[x(Y,{class:"cursor-pointer",type:"back",size:"16",onClick:C}),E("div",ga,N(p(s).field.key?p(i)("Page.AccountManager.Label.EditField"):p(i)("Page.AccountManager.Label.NewField")),1)]),x(fa,{onClose:w[0]||(w[0]=I=>a.value=!1)})])):(F(),z("div",ma,[E("div",va,[E("div",_a,N(p(i)("Page.AccountManager.Label.CustomFields")),1)]),E("div",ya,[x(Y,{type:"lock",size:"16",color:"#828282"}),E("div",ba,[x(Y,{type:"file",size:"16"}),E("div",xa,N(p(i)("Common.Label.Profile")),1)])]),x($,{value:p(s).search,"onUpdate:value":w[1]||(w[1]=I=>p(s).search=I),class:"mt-12px",placeholder:p(i)("Page.AccountManager.Label.SearchField"),clearable:""},null,8,["value","placeholder"]),x(p(wn),Bt(p(r),{class:"w-full list-group mt-12px flex flex-col gap-12px",list:p(u),move:g,onChange:S}),{default:M(()=>[x(an,{type:"transition",name:"flip-list"},{default:M(()=>[(F(!0),z(ge,null,Ae(p(s).search.length?Object.values(p(u)).filter(I=>I.title.toLowerCase().includes(p(s).search.toLowerCase())):Object.values(p(u)),I=>(F(),z("div",{key:I.key,class:"list-group-item"},[E("div",wa,[E("div",Ea,[x(Y,{type:"reorder",size:"16",color:"#828282"}),E("div",Ca,[x(Y,{type:p(l)(I),size:"16"},null,8,["type"]),H(" "+N(I.title),1)])]),E("div",ka,[I.show?(F(),he(Y,{key:0,type:"eye",size:"16",color:"#828282",onClick:ee=>T(I,!1)},null,8,["onClick"])):(F(),he(Y,{key:1,type:"eyeOff",size:"16",color:"#828282",onClick:ee=>T(I,!0)},null,8,["onClick"])),x(D,{style:{width:"260px",padding:"0","margin-left":"20px","border-radius":"var(--4, 4px)","box-shadow":"0px 4px 4px 0px rgba(0, 0, 0, 0.05)"},trigger:"click","display-directive":"show",placement:"right","show-arrow":!1},{trigger:M(()=>[x(ae,{style:Tn({visibility:I.key==="profile"?"hidden":"visible"}),class:"w-16px h-16px p-0",quaternary:"",type:"primary"},{default:M(()=>[x(Y,{type:"more",size:"16"})]),_:2},1032,["style"])]),default:M(()=>[E("div",{class:"cursor-pointer hover:bg-[#5671ff33] rounded hover:text-[#5671FF] px-12px py-8px",onClick:()=>v(I)},N(p(i)("Page.AccountManager.Label.EditField")),9,Sa),I.deletable?(F(),he(R,{key:0,onPositiveClick:ee=>O(I)},{trigger:M(()=>[E("div",Da,N(p(i)("Common.Button.Delete")),1)]),default:M(()=>[H(" "+N(p(i)("Page.AccountManager.Label.DeleteFieldConfirm")),1)]),_:2},1032,["onPositiveClick"])):je("",!0)]),_:2},1024)])])]))),128))]),_:1})]),_:1},16,["list"]),x(Z),E("div",{class:"flex items-center gap-8px rounded hover:bg-[#5671ff33] hover:text-[#5671FF] px-12px py-8px cursor-pointer",onClick:w[2]||(w[2]=I=>a.value=!0)},[x(Y,{type:"plus",size:"20"}),E("div",null,N(p(i)("Page.AccountManager.Label.NewField")),1)])]))])}}}),Ta=E("strong",null,"Enter",-1),ja=Ce({__name:"SelectProfiles",props:{modelValue:{},automation:{type:Boolean,default:!1},task:{type:Boolean,default:!1},profileType:{type:Number,default:Bn.ALL}},emits:["update:modelValue","select"],setup(n,{emit:e}){const o=n,t=oe(!1),{defaultParams:a,profiles:i,profileOptions:r,loading:l,pagination:s,renderLabel:c,handleScroll:m,getProfiles:f}=zn(o.automation);a.value.type=o.profileType;const u=S=>{if(Array.isArray(S)||(t.value=!1),e("update:modelValue",S),o.task){const C=i.value.filter(O=>S.includes(O.id)).map(O=>{const{id:_,profile_data:{name:w}}=O;return{id:_,name:w}});e("select",C)}},d=S=>{a.value.search=S,t.value=!0},g=async()=>{a.value.search="",t.value=!0,await f()},v=async()=>{e("update:modelValue",""),await f()},T=async S=>{e("update:modelValue","");const C=s.value.limit*(S-1);await f({offset:C})};return In(async()=>{await f()}),Ze(async()=>{await f()}),(S,C)=>{const O=Vn,_=Ke,w=sn;return F(),he(w,Bt(S.$attrs,{clearable:"",filterable:"",loading:p(l),options:p(r),"on-scroll":p(m),"render-label":p(c),value:n.modelValue,show:p(t),"on-search":d,"on-clear":g,size:"large",onUpdateValue:u,onKeyup:An(v,["enter"]),onFocus:C[1]||(C[1]=$=>t.value=!0),onBlur:C[2]||(C[2]=$=>t.value=!1)}),{action:M(()=>[x(O,{"page-size":p(s).limit,"onUpdate:pageSize":C[0]||(C[0]=$=>p(s).limit=$),"item-count":p(s).total_items,"on-update:page":T,"page-slot":5},null,8,["page-size","item-count"])]),empty:M(()=>[x(_,null,{default:M(()=>[H(" Press "),Ta,H(" to search ")]),_:1})]),_:1},16,["loading","options","on-scroll","render-label","value","show","onKeyup"])}}});export{Ua as _,ja as a,En as u};
