import{bf as x,a2 as T,ge as L,aL as S,a8 as $}from"./main-8b08e1d6.js";import{M as A}from"./Modal-0f4a5102.js";import{d as W,b as h,S as M,X as C,Y as a,D as s,u as r,q as v,V as o}from"./_plugin-vue_export-helper-b059e461.js";import{_ as H,a as B}from"./Grid-308f499b.js";import{_ as N}from"./Input-96fa4693.js";import{_ as R}from"./DynamicInput-debc4a5e.js";import{_ as V}from"./FormItem-52ed65a1.js";import"./lodash-6114c6d4.js";import"./axios-1e30d922.js";import"./xlsx-f5126985.js";import"./Divider-65f3d898.js";import"./Suffix-fc59bb7a.js";import"./Remove-be3cc84a.js";import"./DataTable-e5054828.js";import"./Checkbox-ce86da58.js";import"./RadioGroup-69a7fbba.js";import"./Radio-c980589e.js";import"./Select-f7c79767.js";import"./Pagination-ce77c3f3.js";const I=o("span",null," 1. If you do not fill in proxy type, it will default to HTTP ",-1),O=o("span",null,"2. Only support HTTP, HTTPS, Socks4, Socks5 ",-1),U=o("span",null," 3. Name is optional ",-1),q=o("span",null,"Example:",-1),z=o("span",null,"http://192.168.1.1:3000:admin:admin",-1),D=o("span",null,"socks://192.168.1.1:3000",-1),E=o("span",null,"socks://192.168.1.1:3000:user:user",-1),F=o("span",null,"192.168.1.1:3000",-1),K=o("span",null,"socks://192.168.1.1:3000",-1),mt=W({__name:"AddLocalProxyModal",setup(X){const{showModal:m,getProxies:w,getAllTags:b}=x(),{t:P}=T(),l=h(""),i=h([]),g=h(!1),y=async()=>{try{g.value=!0;const e=l.value.trim().split(`
`).map(t=>{let _="HTTP";t.startsWith("sock")&&(_="SOCK"),t.startsWith("http://")?t=t.replace("http://","httpProxy:"):t.startsWith("https://")?t=t.replace("https://","httpProxy:"):t.startsWith("socks4://")?t=t.replace("socks4://","socks4Proxy:"):t.startsWith("socks5://")?t=t.replace("socks5://","socks5Proxy:"):t.startsWith("socks://")?t=t.replace("socks://","socks5Proxy:"):t=`httpProxy:${t}`;const[p,c,u,d,f,n]=t.split(":");return{type:p,protocol:_,host:c.trim(),port:u.trim(),username:d,password:f,name:n||`${c}:${u}`,tag_list:i.value}});await L(e),window.$message.success(P("Page.Proxy.Modal.Add.Success")),await w(),await b(),g.value=!1,m.addLocalProxy=!1,l.value="",i.value=[]}catch{}};return(k,e)=>{const t=S,_=$,p=H,c=N,u=R,d=V,f=B;return M(),C(A,{"is-show":r(m).addLocalProxy,header:"Add Proxy",icon:"proxy","submit-label":"Add","action-submit":y,width:"720px",onClose:e[2]||(e[2]=n=>r(m).addLocalProxy=!1)},{body:a(()=>[s(f,{cols:"2","y-gap":"12"},{default:a(()=>[s(p,{span:"2"},{default:a(()=>[s(_,{embedded:"",bordered:!1},{default:a(()=>[s(t,{vertical:""},{default:a(()=>[I,O,U,q,z,D,E,F,K]),_:1})]),_:1})]),_:1}),s(p,{span:"2"},{default:a(()=>[s(t,{vertical:""},{default:a(()=>[s(c,{key:"common-input",value:r(l),"onUpdate:value":e[0]||(e[0]=n=>v(l)?l.value=n:null),type:"textarea",placeholder:"Format: type:host:port:login:password:name",autosize:{minRows:10,maxRows:10}},null,8,["value"]),s(d,{label:r(P)("Page.Proxy.Label.Tag")},{default:a(()=>[s(u,{value:r(i),"onUpdate:value":e[1]||(e[1]=n=>v(i)?i.value=n:null)},null,8,["value"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1})]),_:1},8,["is-show"])}}});export{mt as default};
