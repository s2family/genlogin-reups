import{_ as f}from"./ModalNode-47dd364b.js";import{ah as y,aL as E,am as S}from"./main-8b08e1d6.js";import{b as D,a as O}from"./useScriptEditor-4173e447.js";import{d as A,i as z,m as j,S as b,X as h,Y as t,D as e,u as n,E as v,$ as G,a2 as V,U as K,V as L}from"./_plugin-vue_export-helper-b059e461.js";import{_ as M}from"./FormItem-52ed65a1.js";import{e as R}from"./FormMakingResult-fec35bca.js";import{_ as X}from"./Radio-c980589e.js";import{_ as Y}from"./RadioGroup-69a7fbba.js";import{_ as q,a as F}from"./Grid-308f499b.js";import{_ as H}from"./Checkbox-ce86da58.js";import{_ as J}from"./Select-f7c79767.js";import{_ as Q,a as W}from"./CollapseItem-114ac5a0.js";import"./ScriptEditor-c5673dff.js";import"./InputSearch.vue_vue_type_script_setup_true_lang-d786940a.js";import"./Input-96fa4693.js";import"./Suffix-fc59bb7a.js";import"./useMyApps-6a511b1e.js";import"./a-72358bba.js";import"./Divider-65f3d898.js";import"./Modal-0f4a5102.js";import"./DynamicInput-debc4a5e.js";import"./Remove-be3cc84a.js";import"./DataTable-e5054828.js";import"./Pagination-ce77c3f3.js";import"./lodash-6114c6d4.js";import"./_baseUniq-35fed69a.js";import"./toInteger-0dcb6e10.js";import"./SelectProfiles.vue_vue_type_script_setup_true_lang-3d20c4d9.js";import"./DatePicker-91499e1f.js";import"./ModalConfirm-92ee844f.js";import"./axios-1e30d922.js";import"./xlsx-f5126985.js";import"./useSelectProfiles-b9438807.js";import"./firefox-icon-2ab5a045.js";import"./Scrollbar-e90e60b7.js";import"./Form-e484375f.js";import"./FormItemGridItem-951b0746.js";import"./useConsole-dd6c2120.js";import"./vuedraggable.umd-e6c5d70a.js";import"./InputNumber-c85d5887.js";import"./Upload-46a3755a.js";import"./Progress-0b0a0198.js";import"./_createCompounder-4af3bdce.js";import"./InputSearch-1469c448.js";import"./InputGroup-20db4544.js";import"./useSavedTasks-dbe97dc3.js";import"./useRunScript-b4e924db.js";import"./Alert-2eccd136.js";const Z=L("hr",null,null,-1),oo=["src"],Qo=A({__name:"Image",setup(eo){const{scriptId:k}=D(),{editor:w,variables:x,modalNode:o}=z(k),{newVariable:g,createNewVariable:B,variableOptions:I,onSearchVariable:U}=O(w.value,x.value),$=()=>{const u=B();o.options.outputPositionsVariable=u};return j(()=>{var u,a,i,d,p,s,m,r,c,_;o.options.inputBase64=((u=o.options)==null?void 0:u.inputBase64)||"",o.options.algo=((a=o.options)==null?void 0:a.algo)||"tpl",o.options.rgb=((i=o.options)==null?void 0:i.rgb)!==void 0?(d=o.options)==null?void 0:d.rgb:!0,o.options.threshold=((p=o.options)==null?void 0:p.threshold)||.7,o.options.targetPos=((s=o.options)==null?void 0:s.targetPos)||"5",o.options.indexImage=((m=o.options)==null?void 0:m.indexImage)||"",o.options.action=((r=o.options)==null?void 0:r.action)||"click",o.options.outputPositionsVariable=((c=o.options)==null?void 0:c.outputPositionsVariable)||"",o.options.holdTime=((_=o.options)==null?void 0:_.holdTime)||""}),(u,a)=>{const i=M,d=R,p=X,s=E,m=Y,r=q,c=H,_=F,P=S,T=J,N=Q,C=W;return b(),h(s,{vertical:""},{default:t(()=>[e(i,{"show-feedback":!1,label:"Input base64 image"},{default:t(()=>[e(f,{modelValue:n(o).options.inputBase64,"onUpdate:modelValue":a[0]||(a[0]=l=>n(o).options.inputBase64=l),placeholder:"Base64 of input image"},null,8,["modelValue"])]),_:1}),e(i,{"show-feedback":!1,label:`Threshold ${n(o).options.threshold}`},{default:t(()=>[e(d,{value:n(o).options.threshold,"onUpdate:value":a[1]||(a[1]=l=>n(o).options.threshold=l),step:.1,max:1,min:.1},null,8,["value"])]),_:1},8,["label"]),e(_,{cols:"2","x-gap":"12"},{default:t(()=>[e(r,null,{default:t(()=>[e(i,{"show-feedback":!1,label:"Algorithm"},{default:t(()=>[e(m,{value:n(o).options.algo,"onUpdate:value":a[2]||(a[2]=l=>n(o).options.algo=l)},{default:t(()=>[e(s,null,{default:t(()=>[e(p,{label:"Tpl",value:"tpl"}),e(p,{label:"Kaze",value:"kaze"})]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(i,{"show-feedback":!1,label:"RGB"},{default:t(()=>[e(c,{checked:n(o).options.rgb,"onUpdate:checked":a[3]||(a[3]=l=>n(o).options.rgb=l)},{default:t(()=>[v(" Enable ")]),_:1},8,["checked"])]),_:1})]),_:1})]),_:1}),Z,e(_,{cols:"2","x-gap":"12"},{default:t(()=>[e(r,{span:"1"},{default:t(()=>[e(s,{vertical:""},{default:t(()=>[e(i,{"show-feedback":!1,label:"Index image (default first match)"},{default:t(()=>[e(f,{modelValue:n(o).options.indexImage,"onUpdate:modelValue":a[4]||(a[4]=l=>n(o).options.indexImage=l),placeholder:""},null,8,["modelValue"])]),_:1}),e(i,{"show-feedback":!1,label:"Target position (default center)"},{default:t(()=>[e(f,{modelValue:n(o).options.targetPos,"onUpdate:modelValue":a[5]||(a[5]=l=>n(o).options.targetPos=l),placeholder:"5 is center position"},null,8,["modelValue"])]),_:1}),e(C,null,{default:t(()=>[e(N,{title:"Advanced",name:"1"},{default:t(()=>[e(s,{vertical:""},{default:t(()=>[e(i,{"show-feedback":!1,label:"Action"},{default:t(()=>[e(m,{value:n(o).options.action,"onUpdate:value":a[6]||(a[6]=l=>n(o).options.action=l)},{default:t(()=>[e(s,null,{default:t(()=>[e(p,{label:"Click",value:"click"}),e(p,{label:"Do nothing",value:"doNothing"})]),_:1})]),_:1},8,["value"])]),_:1}),e(i,{"show-feedback":!1,label:"Output variable (Optional)"},{default:t(()=>[e(T,{value:n(o).options.outputPositionsVariable,"onUpdate:value":a[7]||(a[7]=l=>n(o).options.outputPositionsVariable=l),options:n(I),clearable:"",filterable:"","on-search":n(U),placeholder:"Output coordinate: [x, y]"},{empty:t(()=>[n(g).length?(b(),h(P,{key:0,dashed:"",onClick:$},{icon:t(()=>[e(y,{type:"add"})]),default:t(()=>[v(" Create "+G(n(g)),1)]),_:1})):V("",!0)]),_:1},8,["value","options","on-search"])]),_:1}),e(i,{"show-feedback":!1,label:"Time holding mouse down before release (seconds)"},{default:t(()=>[e(f,{modelValue:n(o).options.holdTime,"onUpdate:modelValue":a[8]||(a[8]=l=>n(o).options.holdTime=l),placeholder:"Default no holding"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(i,{"show-feedback":!1,label:"Image preview"},{default:t(()=>[n(o).options.inputBase64?(b(),K("img",{key:0,src:n(o).options.inputBase64,height:"30px",alt:""},null,8,oo)):V("",!0)]),_:1})]),_:1})]),_:1})]),_:1})}}});export{Qo as default};
